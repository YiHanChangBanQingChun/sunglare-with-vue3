{"version":3,"file":"js/600.e5bff5d7.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/core/devEnvironmentUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction c(c){return c=c||globalThis.location.hostname,m.some((a=>null!=c?.match(a)))}function a(c,a){return c&&(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(l)?c.replace(\"static.arcgis.com\",\"staticdev.geoscene.cn\"):null!=a.match(s)||null!=a.match(i)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c}function o(c){c=c||globalThis.location.hostname;return[/^zrh-.+?\\.geoscene\\.cn$/].concat(m).some((a=>null!=c?.match(a)))}const t=/^devext.geoscene.cn$/,s=/^qaext.geoscene.cn$/,l=/^[\\w-]*\\.mapsdevext.geoscene.cn$/,i=/^[\\w-]*\\.mapsqa.geoscene.cn$/,m=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local.esri.com$/,t,s,/^jsapps.esri.com$/,l,i];export{a as adjustStaticAGOUrl,c as isDevEnvironment,o as isTelemetryDevEnvironment};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import l from\"../../core/Error.js\";import{unwrapOrThrow as o}from\"../../core/maybe.js\";import{urlToObject as n,removeFile as s}from\"../../core/urlUtils.js\";import m from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as a}from\"./jsonUtils.js\";import u from\"./StyleOrigin.js\";import{fetchStyle as p,requestJSON as f,makeCIMSymbolRef as y,Style2DUrlTemplate as c,symbolUrlFromStyleItem as b}from\"./styleUtils.js\";import{Thumbnail as g}from\"./Thumbnail.js\";function j(t,e,r,n){const s=t.name;return null==s?Promise.reject(new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?U(s,e,n):p(t,e,n).then((t=>d(o(t),s,e,r,b,n)))}function h(t,e){return e.items.find((e=>e.name===t))}function d(o,p,c,b,j,d){const U=c&&null!=c.portal?c.portal:m.getDefault(),N={portal:U,url:n(o.baseUrl),origin:\"portal-item\"},w=h(p,o.data);if(!w){const t=`The symbol name '${p}' could not be found`;return Promise.reject(new l(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:p}))}let S=i(j(w,b),N),D=w.thumbnail?.href??null;const O=w.thumbnail&&w.thumbnail.imageData;e()&&(S=r(S)??\"\",D=r(D));const P={portal:U,url:n(s(S)),origin:\"portal-item\"};return f(S,d).then((e=>{const r=\"cimRef\"===b?y(e.data):e.data,l=a(r,P);if(l&&t(l)){if(D){const t=i(D,N);l.thumbnail=new g({url:t})}else O&&(l.thumbnail=new g({url:`data:image/png;base64,${O}`}));o.styleUrl?l.styleOrigin=new u({portal:c.portal,styleUrl:o.styleUrl,name:p}):o.styleName&&(l.styleOrigin=new u({portal:c.portal,styleName:o.styleName,name:p}))}return l}))}function U(t,e,r){const l=c.replaceAll(/\\{SymbolName\\}/gi,t),o=null!=e.portal?e.portal:m.getDefault();return f(l,r).then((t=>{const e=y(t.data);return a(e,{portal:o,url:n(s(l)),origin:\"portal-item\"})}))}export{d as fetchSymbolFromStyle,h as getStyleItemFromStyle,j as resolveWebStyleSymbol};"],"names":["c","globalThis","location","hostname","m","some","a","match","t","l","replace","s","i","j","e","r","n","name","Promise","reject","styleName","U","p","then","d","o","b","h","items","find","portal","getDefault","N","url","baseUrl","origin","w","data","symbolName","S","D","thumbnail","href","O","imageData","P","f","y","g","styleUrl","styleOrigin","u","replaceAll"],"sourceRoot":""}