"use strict";(self["webpackChunksun_glare_project"]=self["webpackChunksun_glare_project"]||[]).push([[3359],{13359:function(e,a,n){n.r(a),n.d(a,{classBreaks:function(){return I},heatmapStatistics:function(){return T},histogram:function(){return x},summaryStatistics:function(){return z},uniqueValues:function(){return y}});n(44114),n(16573),n(78100),n(77936),n(37467),n(44732),n(79577),n(2516),n(47966);var i=n(18513),t=n(12790),o=n(91253),l=n(72465),r=(n(30104),n(3444)),s=n(72765),u=n(86630),f=n(74036);let m=null;function d(e,a,n){return e.x<0?e.x+=a:e.x>n&&(e.x-=a),e}function c(e,a,n,i){const t=(0,l.d9)(n)?(0,l.Vp)(n):null,r=t?Math.round((t.valid[1]-t.valid[0])/a.scale[0]):null;return e.map((e=>{const n=new f.A(e.geometry);return(0,o.Gy)(a,n,n,n.hasZ,n.hasM),e.geometry=t?d(n,r??0,i[0]):n,e}))}function p(e,a=18,n,t,o,l){const s=new Float64Array(o*l);a=Math.round((0,i.Lz)(a));let u=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=0,d=0,c=0,p=0;const v=(0,r.YW)(t,n);for(const{geometry:i,attributes:y}of e){const{x:e,y:n}=i,t=Math.max(0,e-a),z=Math.max(0,n-a),I=Math.min(l,n+a),x=Math.min(o,e+a),T=+v(y);for(let i=z;i<I;i++)for(let l=t;l<x;l++){const t=i*o+l,v=(0,r.hv)(l-e,i-n,a),z=s[t];m=s[t]+=v*T;const y=m-z;d+=y,c+=y*y,m<u&&(u=m),m>f&&(f=m),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const z=(f-u)/2;return{mean:d/p,stdDev:Math.sqrt((c-d*d/p)/p),min:u,max:f,mid:z,count:p}}async function v(e,a){if(!a)return[];const{field:n,field2:i,field3:o,fieldDelimiter:l}=e,r=e.valueExpression,f=e.normalizationType,d=e.normalizationField,c=e.normalizationTotal,p=[],v=e.viewInfoParams;let z=null,y=null;if(r){if(!m){const{arcadeUtils:e}=await(0,u.lw)();m=e}m.hasGeometryOperations(r)&&await m.enableGeometryOperations(),z=m.createFunction(r),y=v&&m.getViewInfo({viewingMode:v.viewingMode,scale:v.scale,spatialReference:new t.A(v.spatialReference)})}const I=e.fieldInfos,x=a[0]&&"declaredClass"in a[0]&&"geoscene.Graphic"===a[0].declaredClass||!I?null:{fields:I};return a.forEach((e=>{const a=e.attributes;let t;if(r){const a=x?{...e,layer:x}:e,n=m.createExecContext(a,y);t=m.executeFunction(z,n)}else a&&(t=a[n],i&&(t=`${(0,s.gJ)(t)}${l}${(0,s.gJ)(a[i])}`,o&&(t=`${t}${l}${(0,s.gJ)(a[o])}`)));if(f&&"number"==typeof t&&isFinite(t)){const e=a&&parseFloat(a[d]);t=(0,s.zS)(t,f,e,c)}p.push(t)})),p}async function z(e){const{attribute:a,features:n}=e,{normalizationType:i,normalizationField:t,minValue:o,maxValue:l,fieldType:r}=a,u=await v({field:a.field,valueExpression:a.valueExpression,normalizationType:i,normalizationField:t,normalizationTotal:a.normalizationTotal,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},n),f=(0,s.Vb)({normalizationType:i,normalizationField:t,minValue:o,maxValue:l}),m={value:.5,fieldType:r},d="esriFieldTypeString"===r?(0,s.z9)({values:u,supportsNullCount:f,percentileParams:m}):(0,s.G_)({values:u,minValue:o,maxValue:l,useSampleStdDev:!i,supportsNullCount:f,percentileParams:m});return(0,s.oZ)(d,"esriFieldTypeDate"===r)}async function y(e){const{attribute:a,features:n}=e,i=await v({field:a.field,field2:a.field2,field3:a.field3,fieldDelimiter:a.fieldDelimiter,valueExpression:a.valueExpression,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},n),t=(0,s.b3)(i);return(0,s.lv)(t,a.domains,a.returnAllCodedValues,a.fieldDelimiter)}async function I(e){const{attribute:a,features:n}=e,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r}=a,u=await v({field:i,valueExpression:a.valueExpression,normalizationType:t,normalizationField:o,normalizationTotal:l,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},n),f=(0,s.Rw)(u,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r,standardDeviationInterval:a.standardDeviationInterval,numClasses:a.numClasses,minValue:a.minValue,maxValue:a.maxValue});return(0,s.jM)(f,r)}async function x(e){const{attribute:a,features:n}=e,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r}=a,u=await v({field:i,valueExpression:a.valueExpression,normalizationType:t,normalizationField:o,normalizationTotal:l,viewInfoParams:a.viewInfoParams,fieldInfos:a.fieldInfos},n);return(0,s.$y)(u,{field:i,normalizationType:t,normalizationField:o,normalizationTotal:l,classificationMethod:r,standardDeviationInterval:a.standardDeviationInterval,numBins:a.numBins,minValue:a.minValue,maxValue:a.maxValue})}async function T(e){const{attribute:a,features:n}=e,{field:i,radius:t,fieldOffset:o,transform:l,spatialReference:r}=a,s=a.size??[0,0],u=c(n??[],l,r,s),{count:f,min:m,max:d,mean:v,stdDev:z}=p(u,t??void 0,o,i,s[0],s[1]);return{count:f,min:m,max:d,avg:v,stddev:z}}}}]);
//# sourceMappingURL=3359.a8226d44.js.map