{"version":3,"file":"js/6607.3294bba7.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/sources/geojson/geojson.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/ogc/dateUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/ogc/wfsUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/ogc/xmlUtils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new t(e?g(new n,e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if(\"unknown\"===c){l.add(r);continue}l.delete(r),i.add(r);const u=o(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=o(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction e(e){return t(e)??n(e)}function n(e){const n=new Date(e).getTime();return Number.isNaN(n)?null:n}function t(e){const n=s.exec(e);if(!n?.groups)return null;const t=n.groups,u=+t.year,o=+t.month-1,r=+t.day,f=+(t.hours??\"0\"),i=+(t.minutes??\"0\"),d=+(t.seconds??\"0\");if(f>23)return null;if(i>59)return null;if(d>59)return null;const l=t.ms??\"0\",c=l?+l.padEnd(3,\"0\").substring(0,3):0;let a;if(t.isUTC)a=Date.UTC(u,o,r,f,i,d,c);else if(t.offsetSign){const e=+t.offsetHours,n=+t.offsetMinutes;a=6e4*(\"+\"===t.offsetSign?-1:1)*(60*e+n)+Date.UTC(u,o,r,f,i,d,c)}else a=new Date(u,o,r,f,i,d,c).getTime();return Number.isNaN(a)?null:a}const s=/^(?:(?<year>-?\\d{4,})-(?<month>\\d{2})-(?<day>\\d{2}))(?:T(?<hours>\\d{2}):(?<minutes>\\d{2}):(?<seconds>\\d{2})(?:\\.(?<ms>\\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\\+|-)(?<offsetHours>\\d{2}):(?<offsetMinutes>\\d{2})))?$/;export{e as parseDate,n as parseJSDate};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import{cache as r,find as n}from\"../../core/iteratorUtils.js\";import{eachAlways as a}from\"../../core/promiseUtils.js\";import{isHTTPSProtocol as o,hasSameOrigin as s,toHTTPS as i}from\"../../core/urlUtils.js\";import{initializeProjection as p,project as u}from\"../../geometry/projection.js\";import{WGS84 as l,equals as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{featureGeometryTypeKebabDictionary as m}from\"../../geometry/support/typeUtils.js\";import{getGeometryType as y}from\"../graphics/sources/geojson/geojson.js\";import{parseDate as f}from\"./dateUtils.js\";import{visitXML as d,iterateXML as g}from\"./xmlUtils.js\";import w from\"../support/Field.js\";import b from\"../../geometry/SpatialReference.js\";import h from\"../../geometry/Extent.js\";const T=\"xlink:href\",F=\"2.0.0\",S=\"__esri_wfs_id__\",x=\"wfs-layer:getWFSLayerTypeInfo-error\",C=\"wfs-layer:empty-service\",E=\"wfs-layer:feature-type-not-found\",N=\"wfs-layer:geojson-not-supported\",P=\"wfs-layer:kvp-encoding-not-supported\",R=\"wfs-layer:malformed-json\",j=\"wfs-layer:unknown-geometry-type\",A=\"wfs-layer:unknown-field-type\",G=\"wfs-layer:unsupported-spatial-reference\",k=\"wfs-layer:unsupported-wfs-version\";async function v(t,r){const n=U((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetCapabilities\",VERSION:F,...r?.customParameters},signal:r?.signal})).data);return O(t,n),n}function U(e){const t=Z(e);te(t),re(t);const n=t.firstElementChild,a=r(L(n));return{operations:I(n),get featureTypes(){return Array.from(a())},readFeatureTypes:a}}const D=new Set([\"json\",\"application/json\",\"geojson\",\"application/json; subtype=geojson\"]);function I(e){let r=!1;const n={GetCapabilities:{url:\"\"},DescribeFeatureType:{url:\"\"},GetFeature:{url:\"\",outputFormat:null,supportsPagination:!1}};if(d(e,{OperationsMetadata:{Operation:e=>{switch(e.getAttribute(\"name\")){case\"GetCapabilities\":return{DCP:{HTTP:{Get:e=>{n.GetCapabilities.url=e.getAttribute(T)}}}};case\"DescribeFeatureType\":return{DCP:{HTTP:{Get:e=>{n.DescribeFeatureType.url=e.getAttribute(T)}}}};case\"GetFeature\":return{DCP:{HTTP:{Get:e=>{n.GetFeature.url=e.getAttribute(T)}}},Parameter:e=>{if(\"outputFormat\"===e.getAttribute(\"name\"))return{AllowedValues:{Value:e=>{const t=e.textContent;t&&D.has(t.toLowerCase())&&(n.GetFeature.outputFormat=t)}}}}}}},Constraint:e=>{switch(e.getAttribute(\"name\")){case\"KVPEncoding\":return{DefaultValue:e=>{r=\"true\"===e.textContent.toLowerCase()}};case\"ImplementsResultPaging\":return{DefaultValue:e=>{n.GetFeature.supportsPagination=\"true\"===e.textContent.toLowerCase()}}}}}}),!r)throw new t(P,\"WFS service doesn't support key/value pair (KVP) encoding\");if(null==n.GetFeature.outputFormat)throw new t(N,\"WFS service doesn't support GeoJSON output format\");return n}function O(e,t){o(e)&&(s(e,t.operations.DescribeFeatureType.url,!0)&&(t.operations.DescribeFeatureType.url=i(t.operations.DescribeFeatureType.url)),s(e,t.operations.GetFeature.url,!0)&&(t.operations.GetFeature.url=i(t.operations.GetFeature.url)))}function L(e){return g(e,{FeatureTypeList:{FeatureType:e=>{const t={typeName:\"undefined:undefined\",name:\"\",title:\"\",description:\"\",extent:null,namespacePrefix:\"\",namespaceUri:\"\",supportedSpatialReferences:[]},r=new Set([4326]),n=e=>{const t=parseInt(e.textContent?.match(/(?<wkid>\\d+$)/i)?.groups?.wkid??\"\",10);Number.isNaN(t)||r.add(t)};return d(e,{Name:e=>{const{name:r,prefix:n}=ee(e.textContent);t.typeName=`${n}:${r}`,t.name=r,t.namespacePrefix=n,t.namespaceUri=e.lookupNamespaceURI(n)},Abstract:e=>{t.description=e.textContent},Title:e=>{t.title=e.textContent},WGS84BoundingBox:e=>{t.extent=$(e)},DefaultSRS:n,DefaultCRS:n,OtherSRS:n,OtherCRS:n}),t.title||(t.title=t.name),t.supportedSpatialReferences.push(...r),t}}})}function $(e){let t,r,n,a;for(const o of e.children)switch(o.localName){case\"LowerCorner\":[t,r]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)));break;case\"UpperCorner\":[n,a]=o.textContent.split(\" \").map((e=>Number.parseFloat(e)))}return{xmin:t,ymin:r,xmax:n,ymax:a,spatialReference:l}}function M(e,t,r){return n(e,(e=>r?e.name===t&&e.namespaceUri===r:e.typeName===t||e.name===t))}async function V(e,t,r,n={}){const{featureType:a,extent:o}=await W(e,t,r,n),{fields:s,geometryType:i,swapXY:p,objectIdField:u,geometryField:l}=await X(e,a.typeName,n);return{url:e.operations.GetCapabilities.url,name:a.name,namespaceUri:a.namespaceUri,fields:s,geometryField:l,geometryType:i,objectIdField:u,spatialReference:n.spatialReference??b.WGS84,extent:o,swapXY:p,wfsCapabilities:e,customParameters:n.customParameters}}async function W(e,r,n,a={}){const{spatialReference:o=b.WGS84}=a,s=e.readFeatureTypes(),i=r?M(s,r,n):s.next().value;if(null==i)throw r?new t(E,`The type '${r}' could not be found in the service`):new t(C,\"The service is empty\");let m=new h({...i.extent,spatialReference:o});if(!c(o,l))try{await p(l,o,void 0,a),m=u(m,l)}catch{throw new t(G,\"Projection not supported\")}return{extent:m,spatialReference:o,featureType:i}}async function X(e,r,n={}){const[o,s]=await a([z(e.operations.DescribeFeatureType.url,r,n),q(e,r,n)]);if(o.error||s.error)throw new t(x,`An error occurred while getting info about the feature type '${r}'`,{error:o.error||s.error});const{fields:i,errors:p}=o.value??{},u=o.value?.geometryType||s.value?.geometryType,l=s.value?.swapXY??!1;if(null==u)throw new t(j,`The geometry type could not be determined for type '${r}`,{typeName:r,geometryType:u,fields:i,errors:p});return{...Y(i??[]),geometryType:u,swapXY:l}}function Y(e){const t=e.find((e=>\"geometry\"===e.type));let r=e.find((e=>\"oid\"===e.type));return e=e.filter((e=>\"geometry\"!==e.type)),r||(r=new w({name:S,type:\"oid\",alias:S}),e.unshift(r)),{geometryField:t?.name??null,objectIdField:r.name,fields:e}}async function q(t,r,n={}){let a,o=!1;const[s,i]=await Promise.all([H(t.operations.GetFeature.url,r,t.operations.GetFeature.outputFormat,{...n,count:1}),e(t.operations.GetFeature.url,{responseType:\"text\",query:B(r,void 0,{...n,count:1}),signal:n?.signal})]),p=\"FeatureCollection\"===s.type&&s.features[0]?.geometry;if(p){let e;switch(a=m.fromJSON(y(p.type)),p.type){case\"Point\":e=p.coordinates;break;case\"LineString\":case\"MultiPoint\":e=p.coordinates[0];break;case\"MultiLineString\":case\"Polygon\":e=p.coordinates[0][0];break;case\"MultiPolygon\":e=p.coordinates[0][0][0]}const t=/<[^>]*pos[^>]*> *(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)/.exec(i.data);if(t){const r=e[0].toFixed(3),n=e[1].toFixed(3),a=parseFloat(t[1]).toFixed(3);r===parseFloat(t[2]).toFixed(3)&&n===a&&(o=!0)}}return{geometryType:a,swapXY:o}}async function z(t,r,n){return _(r,(await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"DescribeFeatureType\",VERSION:F,TYPENAME:r,...n?.customParameters},signal:n?.signal})).data)}function _(e,r){const{name:a}=ee(e),o=Z(r);re(o);const s=n(g(o.firstElementChild,{element:e=>({name:e.getAttribute(\"name\"),typeName:ee(e.getAttribute(\"type\")).name})}),(({name:e})=>e===a));if(null!=s){const e=n(g(o.firstElementChild,{complexType:e=>e}),(e=>e.getAttribute(\"name\")===s.typeName));if(null!=e)return Q(e)}throw new t(E,`Type '${e}' not found in document`,{document:(new XMLSerializer).serializeToString(o)})}const J=new Set([\"objectid\",\"fid\"]);function Q(e){const r=[],n=[];let a;const o=g(e,{complexContent:{extension:{sequence:{element:e=>e}}}});for(const s of o){const o=s.getAttribute(\"name\");if(!o)continue;let i,p;if(s.hasAttribute(\"type\")?i=ee(s.getAttribute(\"type\")).name:d(s,{simpleType:{restriction:e=>(i=ee(e.getAttribute(\"base\")).name,{maxLength:e=>{p=+e.getAttribute(\"value\")}})}}),!i)continue;const u=\"true\"===s.getAttribute(\"nillable\");let l=!1;switch(i.toLowerCase()){case\"integer\":case\"nonpositiveinteger\":case\"negativeinteger\":case\"long\":case\"int\":case\"short\":case\"byte\":case\"nonnegativeinteger\":case\"unsignedlong\":case\"unsignedint\":case\"unsignedshort\":case\"unsignedbyte\":case\"positiveinteger\":n.push(new w({name:o,alias:o,type:\"integer\",nullable:u}));break;case\"float\":case\"double\":case\"decimal\":n.push(new w({name:o,alias:o,type:\"double\",nullable:u}));break;case\"boolean\":case\"string\":case\"gyearmonth\":case\"gyear\":case\"gmonthday\":case\"gday\":case\"gmonth\":case\"anyuri\":case\"qname\":case\"notation\":case\"normalizedstring\":case\"token\":case\"language\":case\"idrefs\":case\"entities\":case\"nmtoken\":case\"nmtokens\":case\"name\":case\"ncname\":case\"id\":case\"idref\":case\"entity\":case\"duration\":case\"time\":n.push(new w({name:o,alias:o,type:\"string\",nullable:u,length:p??255}));break;case\"datetime\":case\"date\":n.push(new w({name:o,alias:o,type:\"date\",nullable:u,length:p??36}));break;case\"pointpropertytype\":a=\"point\",l=!0;break;case\"multipointpropertytype\":a=\"multipoint\",l=!0;break;case\"curvepropertytype\":case\"multicurvepropertytype\":case\"multilinestringpropertytype\":a=\"polyline\",l=!0;break;case\"surfacepropertytype\":case\"multisurfacepropertytype\":case\"multipolygonpropertytype\":a=\"polygon\",l=!0;break;case\"geometrypropertytype\":case\"multigeometrypropertytype\":l=!0,r.push(new t(j,`geometry type '${i}' is not supported`,{type:(new XMLSerializer).serializeToString(e)}));break;default:r.push(new t(A,`Unknown field type '${i}'`,{type:(new XMLSerializer).serializeToString(e)}))}l&&n.push(new w({name:o,alias:o,type:\"geometry\",nullable:u}))}for(const t of n)if(\"integer\"===t.type&&!t.nullable&&J.has(t.name.toLowerCase())){t.type=\"oid\";break}return{geometryType:a,fields:n,errors:r}}async function H(r,n,a,o){let{data:s}=await e(r,{responseType:\"text\",query:B(n,a,o),signal:o?.signal});s=s.replaceAll(/\": +(-?\\d+),(\\d+)(,)?/g,'\": $1.$2$3');try{if(o?.dateFields?.length){const e=new Set(o.dateFields);return JSON.parse(s,((t,r)=>e.has(t)?f(r):r))}return JSON.parse(s)}catch(i){throw new t(R,\"Error while parsing the response\",{response:s,error:i})}}function B(e,t,r){return{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:e,OUTPUTFORMAT:t,SRSNAME:\"EPSG:4326\",STARTINDEX:r?.startIndex,COUNT:r?.count,...r?.customParameters}}async function K(t,r,n){const a=Z((await e(t,{responseType:\"text\",query:{SERVICE:\"WFS\",REQUEST:\"GetFeature\",VERSION:F,TYPENAMES:r,RESULTTYPE:\"hits\",...n?.customParameters},signal:n?.signal})).data);re(a);const o=Number.parseFloat(a.firstElementChild.getAttribute(\"numberMatched\"));return Number.isNaN(o)?0:o}function Z(e){return(new DOMParser).parseFromString(e.trim(),\"text/xml\")}function ee(e){const[t,r]=e.split(\":\");return{prefix:r?t:\"\",name:r??t}}function te(e){const r=e.firstElementChild?.getAttribute(\"version\");if(r&&r!==F)throw new t(k,`Unsupported WFS version ${r}. Supported version: ${F}`)}function re(e){let r=\"\",n=\"\";if(d(e.firstElementChild,{Exception:e=>(r=e.getAttribute(\"exceptionCode\"),{ExceptionText:e=>{n=e.textContent}})}),r)throw new t(`wfs-layer:${r}`,n)}export{S as WFS_OID_FIELD_NAME,z as describeFeatureType,M as findFeatureType,v as getCapabilities,H as getFeature,K as getFeatureCount,W as getFeatureTypeInfo,V as getWFSLayerInfo,_ as parseDescribeFeatureTypeResponse,U as parseGetCapabilitiesResponse,Y as prepareWFSLayerFields};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction o(n,c){if(n&&c)for(const f of n.children)if(f.localName in c){const n=c[f.localName];if(\"function\"==typeof n){const c=n(f);c&&o(f,c)}else o(f,n)}}function*n(o,c){for(const f of o.children)if(f.localName in c){const o=c[f.localName];\"function\"==typeof o?yield o(f):yield*n(f,o)}}export{n as iterateXML,o as visitXML};"],"names":["i","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","s","e","c","type","t","features","u","coordinates","l","o","geometryType","r","objectIdField","geometry","properties","id","f","a","y","g","n","length","p","d","push","m","h","w","P","b","j","G","S","F","k","M","lengths","coords","hasZ","O","T","data","crs","name","code","RegExp","test","L","Set","Object","keys","filter","has","add","delete","alias","fields","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","I","Date","getTime","Number","isNaN","exec","groups","year","month","day","hours","minutes","seconds","ms","padEnd","substring","isUTC","UTC","offsetSign","offsetHours","offsetMinutes","x","C","E","N","R","A","async","v","U","responseType","query","SERVICE","REQUEST","VERSION","customParameters","signal","Z","te","re","firstElementChild","operations","featureTypes","readFeatureTypes","D","GetCapabilities","url","DescribeFeatureType","GetFeature","outputFormat","supportsPagination","OperationsMetadata","Operation","getAttribute","DCP","HTTP","Get","Parameter","AllowedValues","Value","textContent","toLowerCase","Constraint","DefaultValue","FeatureTypeList","FeatureType","typeName","title","description","extent","namespacePrefix","namespaceUri","supportedSpatialReferences","parseInt","match","wkid","Name","prefix","ee","lookupNamespaceURI","Abstract","Title","WGS84BoundingBox","$","DefaultSRS","DefaultCRS","OtherSRS","OtherCRS","children","localName","split","map","parseFloat","xmin","ymin","xmax","ymax","spatialReference","V","featureType","W","swapXY","geometryField","X","WGS84","wfsCapabilities","next","value","z","q","error","errors","Y","find","unshift","Promise","all","H","count","B","fromJSON","toFixed","_","TYPENAME","element","complexType","Q","document","XMLSerializer","serializeToString","J","complexContent","extension","sequence","hasAttribute","simpleType","restriction","maxLength","nullable","replaceAll","dateFields","JSON","parse","response","TYPENAMES","OUTPUTFORMAT","SRSNAME","STARTINDEX","startIndex","COUNT","DOMParser","parseFromString","trim","Exception","ExceptionText"],"sourceRoot":""}