{"version":3,"file":"js/4397.9b3287f7.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/geometry/support/scaleUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/floorFilterUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/sublayerUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/WGLRendererInfo.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/FeatureContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/TileContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/BaseGraphicContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/HighlightGraphicContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/RefreshableLayerView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/operations/identify.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/support/IdentifyParameters.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/support/IdentifyResult.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/identify.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/MapServiceLayerViewHelper.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getMetersPerUnitForSR as t,inchesPerMeter as n}from\"../../core/unitUtils.js\";const e=96;function i(i,r){const o=r||i.extent,c=i.width,d=t(o&&o.spatialReference);return o&&c?o.width/c*d*n*e:0}function r(i,r){return i/(t(r)*n*e)}function o(t){return t/(n*e)}function c(i,r){return i*(t(r)*n*e)}function d(t,n){const e=t.extent,i=t.width-(t.padding?t.padding.left+t.padding.right:0),o=r(n,e.spatialReference);return e.clone().expand(o*i/e.width)}export{d as getExtentForScale,r as getResolutionForScale,o as getResolutionInMetersForScale,i as getScale,c as getScaleForResolution};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as s,isNumber as a}from\"./Utils.js\";import{Technique as l}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as r}from\"./techniques/utils.js\";import{getWebGLCapabilities as o}from\"../../../webgl/capabilities.js\";function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=l}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case\"static\":return t;case\"level-dependent\":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=r(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:o(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if(s(t.minSize)&&s(t.maxSize))if(a(t.minSize)&&a(t.maxSize))i=e(t.minSize),l=e(t.maxSize);else{const s=r.scale;i=e(n(s,t.minSize.stops)),l=e(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=e(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=t(r.spatialReference)/i[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}export{v as WGLRendererInfo};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"geoscene-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,d as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as _}from\"../../engine/webgl/Utils.js\";import{BufferObject as c}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:_,resolution:c,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*_[0],B=h*_[1],M=c*y,j=c*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(_[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=c.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=c.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>_(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let n=class extends t{constructor(e){super(e),this.hasHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasLabels(){return!1}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"geoscene.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"geoscene.layers.mixins.RefreshableLayerView\")],c),c};export{a as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as r}from\"../../geometry/support/jsonUtils.js\";import{getScale as t}from\"../../geometry/support/scaleUtils.js\";import{getLayerFloorFilterClause as i}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as n}from\"../../layers/support/sublayerUtils.js\";const s=e=>e.spatialReference.wkid||JSON.stringify(e.spatialReference);function l(e,t){const{dpi:i,gdbVersion:n,geometry:l,geometryPrecision:a,height:f,layerOption:p,mapExtent:m,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,spatialReference:x,timeExtent:b,tolerance:h,width:E}=e.toJSON(),{dynamicLayers:O,layerDefs:S,layerIds:N}=o(e),j=t&&null!=t.geometry?t.geometry:null,J={geometryPrecision:a,maxAllowableOffset:y,returnFieldName:u,returnGeometry:c,returnUnformattedValues:d,returnZ:g,tolerance:h},R=j&&j.toJSON()||l;if(J.imageDisplay=`${E},${f},${i}`,n&&(J.gdbVersion=n),R&&(delete R.spatialReference,J.geometry=JSON.stringify(R),J.geometryType=r(R)),x?J.sr=x.wkid||JSON.stringify(x):R&&R.spatialReference?J.sr=s(R):m&&m.spatialReference&&(J.sr=s(m)),J.time=b?[b.start,b.end].join(\",\"):null,m){const{xmin:e,ymin:r,xmax:t,ymax:i}=m;J.mapExtent=`${e},${r},${t},${i}`}return S&&(J.layerDefs=S),O&&!S&&(J.dynamicLayers=O),J.layers=\"popup\"===p?\"visible\":p,N&&!O&&(J.layers+=`:${N.join(\",\")}`),J}function o(e){const{mapExtent:r,floors:s,width:l,sublayers:o,layerIds:f,layerOption:p,gdbVersion:m}=e,y=o?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===p,c={},d=t({extent:r,width:l,spatialReference:r?.spatialReference}),g=[],x=e=>{const r=0===d,t=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(r||t&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===f?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(o?.forEach(x),o&&!g.length)c.layerIds=[];else{const e=n(g,y,m),r=g.map((e=>{const r=i(s,e);return e.toExportImageJSON(r)}));if(e)c.dynamicLayers=JSON.stringify(r);else{if(o){let e=g.map((({id:e})=>e));f&&(e=e.filter((e=>f.includes(e)))),c.layerIds=e}else f?.length&&(c.layerIds=f);const e=a(s,g);if(null!=e&&e.length){const r={};for(const t of e)t.definitionExpression&&(r[t.id]=t.definitionExpression);Object.keys(r).length&&(c.layerDefs=JSON.stringify(r))}}}return c}function a(r,t){const n=!!r?.length,s=t.filter((e=>null!=e.definitionExpression||n&&null!=e.floorInfo));return s.length?s.map((t=>{const n=i(r,t),s=e(n,t.definitionExpression);return{id:t.id,definitionExpression:s??void 0}})):null}export{l as identifyToIdentifyRESTParameters,o as toDynamicLayersJSON};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{geometryTypes as e}from\"../../geometry.js\";import o from\"../../TimeExtent.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromJSON as n}from\"../../geometry/support/jsonUtils.js\";import l from\"../../geometry/Extent.js\";import y from\"../../geometry/SpatialReference.js\";var m;let a=m=class extends r{static from(t){return i(m,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}};t([s({type:Number,json:{write:!0}})],a.prototype,\"dpi\",void 0),t([s()],a.prototype,\"floors\",void 0),t([s({type:String,json:{write:!0}})],a.prototype,\"gdbVersion\",void 0),t([s({types:e,json:{read:n,write:!0}})],a.prototype,\"geometry\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"geometryPrecision\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"height\",void 0),t([s({type:[Number],json:{write:!0}})],a.prototype,\"layerIds\",void 0),t([s({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],a.prototype,\"layerOption\",void 0),t([s({type:l,json:{write:!0}})],a.prototype,\"mapExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"maxAllowableOffset\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnFieldName\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnGeometry\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnM\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnUnformattedValues\",void 0),t([s({type:Boolean,json:{write:!0}})],a.prototype,\"returnZ\",void 0),t([s({type:y,json:{write:!0}})],a.prototype,\"spatialReference\",void 0),t([s()],a.prototype,\"sublayers\",void 0),t([s({type:o,json:{write:!0}})],a.prototype,\"timeExtent\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"tolerance\",void 0),t([s({type:Number,json:{write:!0}})],a.prototype,\"width\",void 0),a=m=t([p(\"geoscene.rest.support.IdentifyParameters\")],a);const u=a;export{u as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import e from\"../../Graphic.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as i}from\"../../geometry/support/typeUtils.js\";let u=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=i.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:e})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([a(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"geoscene.rest.support.IdentifyResult\")],u);const m=u;export{m as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e&&e[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{isSome as s}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{makeHandle as a}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{debounce as l,eachAlways as p}from\"../../../core/promiseUtils.js\";import{on as c}from\"../../../core/reactiveUtils.js\";import{getMetersPerUnitForSR as u}from\"../../../core/unitUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../geometry/Extent.js\";import{getResolutionForScale as f}from\"../../../geometry/support/scaleUtils.js\";import{collectFields as d}from\"../../../layers/support/fieldUtils.js\";import{getLayerFloorFilterClause as g}from\"../../../layers/support/floorFilterUtils.js\";import{calculateTolerance as w}from\"../../../renderers/support/clickToleranceUtils.js\";import{identify as b}from\"../../../rest/identify.js\";import v from\"../../../rest/support/IdentifyParameters.js\";import{loadArcade as j}from\"../../../support/arcadeOnDemand.js\";import x from\"../../../symbols/SimpleMarkerSymbol.js\";import{getRequiredFields as F,getFetchPopupTemplate as G}from\"./popupUtils.js\";let P=null;function S(e,t){return\"tile\"===t.type||\"map-image\"===t.type}let U=class extends r{constructor(e){super(e),this._featuresResolutions=new WeakMap,this.highlightGraphics=null,this.highlightGraphicUpdated=null,this.updateHighlightedFeatures=l((async e=>{this.destroyed||this.updatingHandles.addPromise(this._updateHighlightedFeaturesGeometries(e).catch((()=>{})))}))}initialize(){const e=e=>{this.updatingHandles.addPromise(this._updateHighlightedFeaturesSymbols(e).catch((()=>{}))),this.updateHighlightedFeatures(this._highlightGeometriesResolution)};this.addHandles([c((()=>this.highlightGraphics),\"change\",(t=>e(t.added)),{onListenerAdd:t=>e(t)})])}async fetchPopupFeatures(e,t){const{layerView:{layer:r,view:{scale:s}}}=this;if(!e)throw new o(\"fetchPopupFeatures:invalid-area\",\"Nothing to fetch without area\",{layer:r});const i=_(r.sublayers,s,t);if(!i.length)return[];const a=await A(r,i);if(!((r.capabilities?.operations?.supportsIdentify??!0)&&r.version>=10.5)&&!a)throw new o(\"fetchPopupFeatures:not-supported\",\"query operation is disabled for this service\",{layer:r});return a?this._fetchPopupFeaturesUsingQueries(e,i,t):this._fetchPopupFeaturesUsingIdentify(e,i,t)}clearHighlights(){this.highlightGraphics?.removeAll()}highlight(e){const r=this.highlightGraphics;if(!r)return{remove(){}};let o=null;if(e instanceof t?o=[e]:i.isCollection(e)&&e.length>0?o=e.toArray():Array.isArray(e)&&e.length>0&&(o=e),o=o?.filter(s),!o||!o.length)return a();for(const t of o){const e=t.sourceLayer;null!=e&&\"geometryType\"in e&&\"point\"===e.geometryType&&(t.visible=!1)}return r.addMany(o),{remove:()=>{r.removeMany(o??[])}}}async _updateHighlightedFeaturesSymbols(e){const{layerView:{view:t},highlightGraphics:r,highlightGraphicUpdated:s}=this;if(r&&s)for(const i of e){const e=i.sourceLayer&&\"renderer\"in i.sourceLayer&&i.sourceLayer.renderer;i.sourceLayer&&\"geometryType\"in i.sourceLayer&&\"point\"===i.sourceLayer.geometryType&&e&&\"getSymbolAsync\"in e&&e.getSymbolAsync(i).then((async o=>{o||=new x;let a=null;const n=\"visualVariables\"in e?e.visualVariables?.find((e=>\"size\"===e.type)):void 0;n&&(P||(P=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSize),a=P(n,i,{view:t.type,scale:t.scale,shape:\"simple-marker\"===o.type?o.style:null})),a||=\"width\"in o&&\"height\"in o&&null!=o.width&&null!=o.height?Math.max(o.width,o.height):\"size\"in o?o.size:16,r.includes(i)&&(i.symbol=new x({style:\"square\",size:a,xoffset:\"xoffset\"in o?o.xoffset:0,yoffset:\"yoffset\"in o?o.yoffset:0}),s(i,\"symbol\"),i.visible=!0)}))}}async _updateHighlightedFeaturesGeometries(e){const{layerView:{layer:t,view:r},highlightGraphics:s,highlightGraphicUpdated:i}=this;if(this._highlightGeometriesResolution=e,!i||!s?.length||!t.capabilities.operations.supportsQuery)return;const o=this._getTargetResolution(e),a=new Map;for(const c of s)if(!this._featuresResolutions.has(c)||this._featuresResolutions.get(c)>o){const e=c.sourceLayer;n(a,e,(()=>new Map)).set(c.getObjectId(),c)}const l=Array.from(a,(([e,t])=>{const s=e.createQuery();return s.objectIds=[...t.keys()],s.outFields=[e.objectIdField],s.returnGeometry=!0,s.maxAllowableOffset=o,s.outSpatialReference=r.spatialReference,e.queryFeatures(s)})),p=await Promise.all(l);if(!this.destroyed)for(const{features:n}of p)for(const e of n){const t=e.sourceLayer,r=a.get(t).get(e.getObjectId());r&&s.includes(r)&&(r.geometry=e.geometry,i(r,\"geometry\"),this._featuresResolutions.set(r,o))}}_getTargetResolution(e){const t=e*u(this.layerView.view.spatialReference),r=t/16;return r<=10?0:e/t*r}async _fetchPopupFeaturesUsingIdentify(e,t,r){const s=await this._createIdentifyParameters(e,t,r);if(null==s)return[];const{results:i}=await b(this.layerView.layer.parsedUrl,s);return i.map((e=>e.feature))}async _createIdentifyParameters(e,t,r){const{floors:s,layer:i,timeExtent:o,view:{spatialReference:a,scale:n}}=this.layerView,l=null!=r?r.event:null;if(!t.length)return null;await Promise.all(t.map((({sublayer:e})=>e.load().catch((()=>{})))));const p=Math.min(has(\"mapservice-popup-identify-max-tolerance\"),i.allSublayers.reduce(((e,t)=>t.renderer?w({renderer:t.renderer,event:l}):e),2)),c=this.createFetchPopupFeaturesQueryGeometry(e,p),u=f(n,a),h=Math.round(c.width/u),y=new m({xmin:c.center.x-u*h,ymin:c.center.y-u*h,xmax:c.center.x+u*h,ymax:c.center.y+u*h,spatialReference:c.spatialReference});return new v({floors:s,gdbVersion:\"gdbVersion\"in i?i.gdbVersion:void 0,geometry:e,height:h,layerOption:\"popup\",mapExtent:y,returnGeometry:!0,spatialReference:a,sublayers:i.sublayers,timeExtent:o,tolerance:p,width:h})}async _fetchPopupFeaturesUsingQueries(e,t,r){const{layerView:{floors:i,timeExtent:o}}=this,a=null!=r?r.event:null,n=t.map((async({sublayer:t,popupTemplate:r})=>{if(await t.load().catch((()=>{})),t.capabilities&&!t.capabilities.operations.supportsQuery)return[];const s=t.createQuery(),n=w({renderer:t.renderer,event:a}),l=this.createFetchPopupFeaturesQueryGeometry(e,n),p=new Set,[c]=await Promise.all([F(t,r),t.renderer?.collectRequiredFields(p,t.fieldsIndex)]);d(p,t.fieldsIndex,c);const u=Array.from(p).sort();if(s.geometry=l,s.outFields=u,s.timeExtent=o,i){const e=i.clone(),r=g(e,t);null!=r&&(s.where=s.where?`(${s.where}) AND (${r})`:r)}const h=this._getTargetResolution(l.width/n),y=await R(r),m=\"point\"===t.geometryType||y&&y.arcadeUtils.hasGeometryOperations(r);m||(s.maxAllowableOffset=h);let{features:f}=await t.queryFeatures(s);const b=m?0:h;f=await V(t,f);for(const e of f)this._featuresResolutions.set(e,b);return f}));return(await p(n)).reverse().reduce(((e,t)=>t.value?[...e,...t.value]:e),[]).filter(s)}};function _(e,t,r){const s=[],i=e=>{const o=0===e.minScale||t<=e.minScale,a=0===e.maxScale||t>=e.maxScale;if(e.visible&&o&&a)if(e.sublayers)e.sublayers.forEach(i);else if(e.popupEnabled){const t=G(e,{...r,defaultPopupTemplateEnabled:!1});null!=t&&s.unshift({sublayer:e,popupTemplate:t})}};return(e?.toArray()??[]).reverse().map(i),s}function R(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?j():Promise.resolve()}async function A(e,t){if(e.capabilities?.operations?.supportsQuery)return!0;try{return await Promise.any(t.map((({sublayer:e})=>e.load().then((()=>e.capabilities.operations.supportsQuery)))))}catch{return!1}}async function V(e,t){const r=e.renderer;return r&&\"defaultSymbol\"in r&&!r.defaultSymbol&&(t=r.valueExpression?await Promise.all(t.map((e=>r.getSymbolAsync(e).then((t=>t?e:null))))).then((e=>e.filter((e=>null!=e)))):t.filter((e=>null!=r.getSymbol(e)))),t}e([h({constructOnly:!0})],U.prototype,\"createFetchPopupFeaturesQueryGeometry\",void 0),e([h({constructOnly:!0})],U.prototype,\"layerView\",void 0),e([h({constructOnly:!0})],U.prototype,\"highlightGraphics\",void 0),e([h({constructOnly:!0})],U.prototype,\"highlightGraphicUpdated\",void 0),e([h({constructOnly:!0})],U.prototype,\"updatingHandles\",void 0),U=e([y(\"geoscene.views.layers.support.MapService\")],U);export{U as MapServiceLayerViewHelper,_ as collectPopupProviders,S as isMapServiceLayerView};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const t=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:u}=p,{objectIdField:d,typeIdField:i,globalIdField:s,relationships:a}=n;if(t.includes(\"*\"))return[\"*\"];const o=u?await e(n):[],f=l(n.fieldsIndex,[...t,...o]);return i&&f.push(i),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&s&&n.fieldsIndex?.has(s)&&!f.includes(s)&&f.push(s),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function t(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,t as hasPopupTemplate};"],"names":["e","i","r","o","extent","c","width","d","t","spatialReference","n","layer","floorInfo","floorField","view","l","floors","length","filter","map","push","join","flatten","sublayers","some","originIdOf","source","type","mapLayerId","id","gdbVersion","SERVICE","slice","reverse","toArray","minScale","layerDefinition","value","size","s","v","constructor","this","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","getSizeVVFieldStops","_vvSizeFieldStops","levels","parseFloat","a","Math","abs","sizes","values","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","u","color","colors","opacity","opacities","h","rotation","super","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","children","forEach","removeAllChildren","clear","setRendererInfo","requestRender","getMaterialItems","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","updateTransforms","hasData","setTransform","createRenderParams","rendererInfo","painter","pixelRatio","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","mosaicItem","resolve","key","level","row","col","_tileInfoView","requiresDedicatedFBO","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","has","stencilRef","PI","x","b","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","y","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","m","LINES","UNSIGNED_INT","_createTransforms","dvs","programCache","acquire","attributes","displayMat3","_","viewpoint","p","g","targetGeometry","B","M","j","A","f","Uint32Array","setData","buffer","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","geometry","location","count","FLOAT","hasHighlight","_boundsRenderer","enableRenderingBounds","hasLabels","onTileData","patch","contains","addChild","onTileError","_renderChildren","isReady","setStencilFunction","EQUAL","getDisplayList","replay","bindTextures","effects","highlight","bind","COLOR_BUFFER_BIT","defines","concat","draw","unbind","initialize","handles","add","doRefresh","dataChanged","catch","getLogger","error","prototype","wkid","JSON","stringify","dpi","geometryPrecision","height","layerOption","mapExtent","maxAllowableOffset","returnFieldName","returnGeometry","returnUnformattedValues","returnZ","timeExtent","tolerance","E","toJSON","dynamicLayers","O","layerDefs","S","layerIds","N","J","R","imageDisplay","geometryType","sr","time","start","end","xmin","ymin","xmax","ymax","layers","find","serviceSublayers","maxScale","visible","includes","popupTemplate","popupEnabled","unshift","toExportImageJSON","definitionExpression","Object","keys","from","returnM","Number","json","write","String","types","read","Boolean","displayFieldName","feature","layerId","layerName","readFeature","fromJSON","writeFeature","async","path","query","data","results","exceededTransferLimit","Map","sourceLayer","get","P","U","_featuresResolutions","WeakMap","highlightGraphics","highlightGraphicUpdated","updateHighlightedFeatures","destroyed","updatingHandles","addPromise","_updateHighlightedFeaturesGeometries","_updateHighlightedFeaturesSymbols","_highlightGeometriesResolution","addHandles","added","onListenerAdd","fetchPopupFeatures","layerView","operations","supportsIdentify","version","_fetchPopupFeaturesUsingQueries","_fetchPopupFeaturesUsingIdentify","clearHighlights","removeAll","remove","isCollection","Array","isArray","addMany","removeMany","renderer","getSymbolAsync","visualVariables","getSize","shape","style","max","xoffset","yoffset","supportsQuery","_getTargetResolution","getObjectId","createQuery","objectIds","outFields","objectIdField","outSpatialReference","queryFeatures","features","_createIdentifyParameters","parsedUrl","event","sublayer","load","min","allSublayers","reduce","w","createFetchPopupFeaturesQueryGeometry","round","center","Set","F","collectRequiredFields","fieldsIndex","sort","clone","where","arcadeUtils","hasGeometryOperations","V","G","defaultPopupTemplateEnabled","expressionInfos","content","any","defaultSymbol","valueExpression","getSymbol","constructOnly","getRequiredFields","lastEditInfoEnabled","typeIdField","globalIdField","relationships","keyField","defaultPopupTemplate"],"sourceRoot":""}