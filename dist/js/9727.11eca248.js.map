{"version":3,"file":"js/9727.11eca248.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/BitmapContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/WGLRendererInfo.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/FeatureContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/imagery/ImageryView2D.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/imagery/RasterVFContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/imagery/ImageryVFStrategy.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/imagery/VectorFieldView2D.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/ImageryLayerView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/ImageryLayerView2D.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/BaseGraphicContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/graphics/HighlightGraphicContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/viewStateUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/support/ExportStrategy.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{brushes as e}from\"./brushes.js\";import{WGLDrawPhase as s}from\"./webgl/enums.js\";import r from\"./webgl/WGLContainer.js\";class a extends r{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return this._hasCrossfade}beforeRender(e){super.beforeRender(e),this._manageFade()}prepareRenderPasses(r){const a=r.registerRenderPass({name:\"bitmap\",brushes:[e.bitmap],target:()=>this.children,drawPhase:s.MAP});return[...super.prepareRenderPasses(r),a]}_manageFade(){this.children.reduce(((e,s)=>e+(s.inFadeTransition?1:0)),0)>=2?(this.children.forEach((e=>e.blendFunction=\"additive\")),this._hasCrossfade=!0):(this.children.forEach((e=>e.blendFunction=\"standard\")),this._hasCrossfade=!1)}}export{a as BitmapContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as s,isNumber as a}from\"./Utils.js\";import{Technique as l}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as r}from\"./techniques/utils.js\";import{getWebGLCapabilities as o}from\"../../../webgl/capabilities.js\";function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=l}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case\"static\":return t;case\"level-dependent\":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=r(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:o(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if(s(t.minSize)&&s(t.maxSize))if(a(t.minSize)&&a(t.maxSize))i=e(t.minSize),l=e(t.maxSize);else{const s=r.scale;i=e(n(s,t.minSize.stops)),l=e(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=e(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=t(r.spatialReference)/i[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}export{v as WGLRendererInfo};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{s(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{s(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new c(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([a()],m.prototype,\"attached\",void 0),t([a()],m.prototype,\"container\",void 0),t([a()],m.prototype,\"layer\",void 0),t([a()],m.prototype,\"strategy\",void 0),t([a()],m.prototype,\"timeExtent\",void 0),t([a()],m.prototype,\"view\",void 0),t([a()],m.prototype,\"updateRequested\",void 0),t([a()],m.prototype,\"updating\",null),t([a()],m.prototype,\"type\",void 0),m=t([o(\"geoscene.views.2d.layers.imagery.ImageryView2D\")],m);const u=m;export{u as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{debounce as i,isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=i(((e,t)=>this._update(e,t).catch((e=>{s(e)||r.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new n({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,l]=e.state.size;this._loading=this.fetchPixels(o,a,l,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:i,pixelBlock:s}=e,o=new l(s);o.offset=[0,0],o.symbolizerParameters=t,o.rawPixelData=e,o.invalidateVAO(),o.x=i.xmin,o.y=i.ymax,o.pixelRatio=r.pixelRatio,o.rotation=r.rotation,o.resolution=r.resolution,o.width=s.width*t.symbolTileSize,o.height=s.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(o)}};e([o()],c.prototype,\"fetchPixels\",void 0),e([o()],c.prototype,\"container\",void 0),e([o()],c.prototype,\"_loading\",void 0),e([o()],c.prototype,\"updating\",null),c=e([a(\"geoscene.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{watch as s,syncAndInitial as a}from\"../../../../core/reactiveUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../geometry/Extent.js\";import{projectExtent as c}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as m,convertVectorFieldData as p}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as h}from\"../../engine/imagery/RasterVFContainer.js\";import y from\"./ImageryVFStrategy.js\";let u=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new h,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=m(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const c={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(c)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===c.bbox)return t}}const{pixelData:h}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=c;const y=h?.pixelBlock;if(null==y)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?p(y,\"vector-uv\"):y}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new y({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add(s((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),a),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.handles.remove(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams)}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return await c(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:t.wkid||JSON.stringify(t.toJSON()),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?l.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([o()],u.prototype,\"attached\",void 0),t([o()],u.prototype,\"container\",void 0),t([o()],u.prototype,\"layer\",void 0),t([o()],u.prototype,\"timeExtent\",void 0),t([o()],u.prototype,\"type\",void 0),t([o()],u.prototype,\"view\",void 0),t([o()],u.prototype,\"updating\",null),u=t([n(\"geoscene.views.2d.layers.imagery.VectorFieldView2D\")],u);const d=u;export{d as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import i from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as a}from\"./support/popupUtils.js\";const n=n=>{let u=class extends n{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,t){const{layer:o}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:o});const{popupEnabled:p}=o,n=a(o,t);if(!p||null==n)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:p,popupTemplate:n});const u=await n.getRequiredFields(),l=new i;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=u,l.outSpatialReference=e.spatialReference;const{resolution:m,spatialReference:c}=this.view,y=\"2d\"===this.view.type?new s(m,m,c):new s(.5*m,.5*m,c),{returnTopmostRaster:d,showNoDataRecords:h}=n.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},w={returnDomainValues:!0,returnTopmostRaster:d,pixelSize:y,showNoDataRecords:h,signal:null!=t?t.signal:null};return o.queryVisibleRasters(l,w).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([t()],u.prototype,\"layer\",void 0),e([t()],u.prototype,\"suspended\",void 0),e([t(p)],u.prototype,\"timeExtent\",void 0),e([t()],u.prototype,\"view\",void 0),u=e([o(\"geoscene.views.layers.ImageryLayerView\")],u),u};export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{watch as r,syncAndInitial as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import p from\"./graphics/HighlightGraphicContainer.js\";import u from\"./imagery/ImageryView2D.js\";import d from\"./imagery/VectorFieldView2D.js\";import m from\"../../layers/ImageryLayerView.js\";import y from\"../../layers/LayerView.js\";import v from\"../../layers/RefreshableLayerView.js\";let g=class extends(m(v(c(y)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new p(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([r((()=>this.layer.blendMode??\"normal\"),(e=>this.subview&&(this.subview.container.blendMode=e)),s),r((()=>this.layer.effect??null),(e=>this.subview&&(this.subview.container.effect=e)),s),r((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),r((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),r((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:i.isCollection(e)?e.at(0):e)instanceof t))return{remove:()=>{}};let s=[];return Array.isArray(e)||i.isCollection(e)?s=e.map((e=>e.clone())):e instanceof t&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===e?t=\"imageryVF\":\"flow\"===e&&(t=\"flow\"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===t?new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===t?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],g.prototype,\"pixelData\",null),e([h()],g.prototype,\"subview\",void 0),g=e([o(\"geoscene.views.2d.layers.ImageryLayerView2D\")],g);const b=g;export{b as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,d as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as _}from\"../../engine/webgl/Utils.js\";import{BufferObject as c}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:_,resolution:c,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*_[0],B=h*_[1],M=c*y,j=c*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(_[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=c.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=c.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>_(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let n=class extends t{constructor(e){super(e),this.hasHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasLabels(){return!1}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Error.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"geoscene.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst t=Math.PI/180;function n(n){return n*t}function o(t,o){const a=n(o.rotation),r=Math.abs(Math.cos(a)),s=Math.abs(Math.sin(a)),[u,c]=o.size;return t[0]=Math.round(c*s+u*r),t[1]=Math.round(c*r+u*s),t}function a(t,n,o,a){const[r,s]=n,[u,c]=a,h=.5*o;return t[0]=r-h*u,t[1]=s-h*c,t[2]=r+h*u,t[3]=s+h*c,t}export{a as getBBox,o as getOuterSize};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{debounce as i,throwIfAborted as o,throwIfAbortError as r,eachAlways as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as n,toExtent as m}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as l}from\"../../../../geometry/support/spatialReferenceUtils.js\";import h from\"../../../../layers/support/TileInfo.js\";import{getOuterSize as d,getBBox as c}from\"../../viewStateUtils.js\";import{Bitmap as u}from\"../../engine/Bitmap.js\";import g from\"../../tiling/TileInfoView.js\";import f from\"../../tiling/TileKey.js\";const y=n(),x=[0,0],S=new f(0,0,0,0),_={container:null,fetchSource:null,requestUpdate:null,imageMaxWidth:2048,imageMaxHeight:2048,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1};let w=class extends e{constructor(t){super(t),this._imagePromise=null,this.bitmaps=[],this.hidpi=_.hidpi,this.imageMaxWidth=_.imageMaxWidth,this.imageMaxHeight=_.imageMaxHeight,this.imageRotationSupported=_.imageRotationSupported,this.imageNormalizationSupported=_.imageNormalizationSupported,this.update=i((async(t,e)=>{if(o(e),!t.stationary||this.destroyed)return;const i=t.state,s=l(i.spatialReference),a=this.hidpi?t.pixelRatio:1,p=this.imageNormalizationSupported&&i.worldScreenWidth&&i.worldScreenWidth<i.size[0],n=this.imageMaxWidth??0,m=this.imageMaxHeight??0;p?(x[0]=i.worldScreenWidth,x[1]=i.size[1]):this.imageRotationSupported?(x[0]=i.size[0],x[1]=i.size[1]):d(x,i);const h=Math.floor(x[0]*a)>n||Math.floor(x[1]*a)>m,c=s&&(i.extent.xmin<s.valid[0]||i.extent.xmax>s.valid[1]),u=!this.imageNormalizationSupported&&c,g=!h&&!u,f=this.imageRotationSupported?i.rotation:0,y=this.container.children.slice();if(g){const t=p?i.paddedViewState.center:i.center;this._imagePromise&&console.error(\"Image promise was not defined!\"),this._imagePromise=this._singleExport(i,x,t,i.resolution,f,a,e)}else{let t=Math.min(n,m);u&&(t=Math.min(i.worldScreenWidth,t)),this._imagePromise=this._tiledExport(i,t,a,e)}try{const t=await this._imagePromise??[];o(e);const i=[];if(this._imagePromise=null,this.destroyed)return;this.bitmaps=t;for(const e of y)t.includes(e)||i.push(e.fadeOut().then((()=>{e.remove(),e.destroy()})));for(const e of t)i.push(e.fadeIn());await Promise.all(i)}catch(S){this._imagePromise=null,r(S)}}),5e3),this.updateExports=i((async t=>{const e=[];for(const i of this.container.children){if(!i.visible||!i.stage)return;e.push(t(i).then((()=>{i.invalidateTexture(),i.requestRender()})))}this._imagePromise=s(e).then((()=>this._imagePromise=null)),await this._imagePromise}))}destroy(){this.bitmaps.forEach((t=>t.destroy())),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}async _export(t,e,i,r,s,a){const p=await this.fetchSource(t,Math.floor(e*s),Math.floor(i*s),{rotation:r,pixelRatio:s,signal:a});o(a);const n=new u(null,!0);return n.x=t.xmin,n.y=t.ymax,n.resolution=t.width/e,n.rotation=r,n.pixelRatio=s,n.opacity=0,this.container.addChild(n),await n.setSourceAsync(p,a),o(a),n}async _singleExport(t,e,i,o,r,s,a){c(y,i,o,e);const p=m(y,t.spatialReference);return[await this._export(p,e[0],e[1],r,s,a)]}_tiledExport(t,e,i,o){const r=h.create({size:e,spatialReference:t.spatialReference,scales:[t.scale]}),s=new g(r),a=s.getTileCoverage(t);if(!a)return null;const p=[];return a.forEach(((r,a,n,l)=>{S.set(r,a,n,0),s.getTileBounds(y,S);const h=m(y,t.spatialReference);p.push(this._export(h,e,e,0,i,o).then((t=>(0!==l&&(S.set(r,a,n,l),s.getTileBounds(y,S),t.x=y[0],t.y=y[3]),t))))})),Promise.all(p)}};t([a()],w.prototype,\"_imagePromise\",void 0),t([a()],w.prototype,\"bitmaps\",void 0),t([a()],w.prototype,\"container\",void 0),t([a()],w.prototype,\"fetchSource\",void 0),t([a()],w.prototype,\"hidpi\",void 0),t([a()],w.prototype,\"imageMaxWidth\",void 0),t([a()],w.prototype,\"imageMaxHeight\",void 0),t([a()],w.prototype,\"imageRotationSupported\",void 0),t([a()],w.prototype,\"imageNormalizationSupported\",void 0),t([a()],w.prototype,\"requestUpdate\",void 0),t([a()],w.prototype,\"updating\",null),w=t([p(\"geoscene.views.2d.layers.support.ExportStrategy\")],w);const v=w;export{v as default};"],"names":["a","r","constructor","super","arguments","this","_hasCrossfade","requiresDedicatedFBO","beforeRender","e","_manageFade","prepareRenderPasses","registerRenderPass","name","brushes","bitmap","target","children","drawPhase","s","MAP","reduce","inFadeTransition","forEach","blendFunction","n","t","i","length","value","size","v","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","l","getSizeVVFieldStops","_vvSizeFieldStops","type","levels","o","parseFloat","Math","abs","sizes","values","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","u","color","colors","c","opacity","opacities","h","rotation","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","removeAllChildren","clear","setRendererInfo","requestRender","getMaterialItems","push","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","updateTransforms","some","hasData","setTransform","createRenderParams","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","m","attached","container","updateRequested","_bitmapView","detach","updating","isUpdating","strategy","catch","getLogger","error","hitTest","attributes","geometry","clone","layer","attach","addChild","version","imageMaxHeight","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","redraw","updateExports","async","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","view","getPixelData","bitmaps","intersects","p","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","signal","prototype","symbolTypes","visible","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","stationary","xmin","ymin","xmax","ymax","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","width","symbolTileSize","height","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","handles","add","_updateSymbolizerParams","remove","_symbolizerParams","fullExtent","url","query","option","outSR","wkid","toJSON","f","data","featureCollection","layers","layerDefinition","fromJSON","symbolizer","generateWebGLParameters","d","fetchPopupFeatures","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","returnTopmostRaster","showNoDataRecords","layerOptions","w","returnDomainValues","pixelSize","queryVisibleRasters","canResume","isEmpty","g","_exportImageVersion","_highlightGraphics","_highlightView","subview","graphic","mapPoint","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","blendMode","effect","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","moveStart","viewChange","moveEnd","highlight","Array","isArray","isCollection","at","addMany","removeMany","doRefresh","_attachSubview","format","layerView","addChildAt","removeChild","b","PI","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","ONE","ONE_MINUS_SRC_ALPHA","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","LINES","UNSIGNED_INT","_createTransforms","dvs","programCache","acquire","displayMat3","_","viewpoint","targetGeometry","B","M","j","A","Uint32Array","setData","buffer","createVertex","DYNAMIC_DRAW","createIndex","bufferLayouts","location","count","FLOAT","hasHighlight","_boundsRenderer","enableRenderingBounds","hasLabels","onTileData","patch","contains","onTileError","_renderChildren","isReady","setStencilFunction","EQUAL","stencilRef","getDisplayList","replay","HIGHLIGHT","bindTextures","effects","COLOR_BUFFER_BIT","defines","concat","draw","unbind","cos","sin","round","S","imageRotationSupported","hidpi","_imagePromise","destroyed","worldScreenWidth","floor","valid","slice","paddedViewState","center","console","_singleExport","min","_tiledExport","includes","fadeOut","fadeIn","invalidateTexture","_export","setSourceAsync","create","scales","getTileCoverage","getTileBounds"],"sourceRoot":""}