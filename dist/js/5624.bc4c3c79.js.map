{"version":3,"file":"js/5624.bc4c3c79.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/core/CircularArray.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/floorFilterUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/BitmapTile.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/BitmapTileContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/WGLRendererInfo.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/FeatureContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/BufferPool.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/TileContainer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/AggregateGraphic.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/effects/FeatureEffectView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/support/AggregateFeatureSet.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers/BaseTileRenderer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers/support/HeatmapSource.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers/HeatmapTileRenderer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/collisions/MetricReader.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/cpuMapped/Buffer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/cpuMapped/Geometry.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/webgl/FeatureTile.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers/support/WGLFeatureView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers/SymbolTileRenderer.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/features/tileRenderers.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/support/FeatureCommandQueue.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/support/FeatureLayerProxy.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/support/visualVariableSimpleUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/tiling/TileManager.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/FeatureLayerView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/FeatureLayerView2D.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/RefreshableLayerView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/popupUtils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nclass t{constructor(t){this.size=0,this._start=0,this.maxSize=t,this._buffer=new Array(t)}get entries(){return this._buffer}enqueue(t){if(this.size===this.maxSize){const s=this._buffer[this._start];return this._buffer[this._start]=t,this._start=(this._start+1)%this.maxSize,s}return this._buffer[(this._start+this.size++)%this.maxSize]=t,null}dequeue(){if(0===this.size)return null;const t=this._buffer[this._start];return this._buffer[this._start]=null,this.size--,this._start=(this._start+1)%this.maxSize,t}peek(){return 0===this.size?null:this._buffer[this._start]}find(t){if(0===this.size)return null;for(const s of this._buffer)if(null!=s&&t(s))return s;return null}clear(t){let s=this.dequeue();for(;null!=s;)t&&t(s),s=this.dequeue()}}export{t as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{Bitmap as e}from\"./Bitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class r extends s{constructor(t,s,r,i,a,n,m=null){super(t,s,r,i,a,n),this.bitmap=new e(m),this.bitmap.coordScale=[a,n],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:t(),tileMat3:t()}}setTransform(t){super.setTransform(t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{r as BitmapTile};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{BitmapTile as i}from\"./BitmapTile.js\";import{brushes as r}from\"./brushes.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import s from\"./webgl/TileContainer.js\";class n extends s{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),s=this._tileInfoView.getTileResolution(r.level),[n,o]=this._tileInfoView.tileInfo.size;return new i(r,s,t[0],t[3],n,o)}prepareRenderPasses(e){const i=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[r.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),i]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as t}from\"../../../../core/unitUtils.js\";import{meterIn as i}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as s,isNumber as a}from\"./Utils.js\";import{Technique as l}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as r}from\"./techniques/utils.js\";import{getWebGLCapabilities as o}from\"../../../webgl/capabilities.js\";function n(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class v{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=l}getSizeVVFieldStops(e){const t=this._vvSizeFieldStops;if(t)switch(t.type){case\"static\":return t;case\"level-dependent\":return t.levels[e]??(()=>{let i=1/0,s=0;for(const o in t.levels){const t=parseFloat(o),a=Math.abs(e-t);a<i&&(i=a,s=t)}if(i===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const a=2**((e-s)/2),l=t.levels[s],r=new Float32Array(l.values);return r[2]*=a,r[3]*=a,{sizes:l.sizes,values:r}})();default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){null!=this._vvInfo&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=r(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:o(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){this.outsideLabelsVisible=null!=e&&e.excludedLabelsVisible}_updateVisualVariables(l,r){const o=this._vvMaterialParameters;if(o.vvOpacityEnabled=!1,o.vvSizeEnabled=!1,o.vvColorEnabled=!1,o.vvRotationEnabled=!1,!l)return;const v=l.size;if(v){if(o.vvSizeEnabled=!0,v.minMaxValue){const t=v.minMaxValue;let i,l;if(s(t.minSize)&&s(t.maxSize))if(a(t.minSize)&&a(t.maxSize))i=e(t.minSize),l=e(t.maxSize);else{const s=r.scale;i=e(n(s,t.minSize.stops)),l=e(n(s,t.maxSize.stops))}this.vvSizeMinMaxValue.set([t.minDataValue,t.maxDataValue,i,l])}if(v.scaleStops&&(this.vvSizeScaleStopsValue=e(n(r.scale,v.scaleStops.stops))),v.unitValue){const e=t(r.spatialReference)/i[v.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/r.resolution}v.fieldStops&&(this._vvSizeFieldStops=v.fieldStops)}const u=l.color;u&&(o.vvColorEnabled=!0,this.vvColorValues.set(u.values),this.vvColors.set(u.colors));const c=l.opacity;c&&(o.vvOpacityEnabled=!0,this.vvOpacityValues.set(c.values),this.vvOpacities.set(c.opacities));const h=l.rotation;h&&(o.vvRotationEnabled=!0,o.vvRotationType=h.type)}}export{v as WGLRendererInfo};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport has from\"../../../../core/has.js\";import{unwrapOrThrow as t}from\"../../../../core/maybe.js\";import{FreeList as e}from\"./cpuMapped/FreeList.js\";const s=has(\"geoscene-2d-log-allocations\");class r{constructor(t,e){this._array=t,this._pool=e}get array(){return this._array}get length(){return this._array.length}static create(t,e){const s=e.acquire(t);return new r(s,e)}expand(t){const e=this._pool.acquire(t);e.set(this._array),this._pool.release(this._array),this._array=e}destroy(){this._pool.release(this._array)}set(t,e){this._array.set(t._array,e)}slice(){const t=this._pool.acquire(this._array.byteLength);return t.set(this._array),new r(t,this._pool)}}class a{constructor(){this._data=new ArrayBuffer(a.BYTE_LENGTH),this._freeList=new e({start:0,end:this._data.byteLength})}static get BYTE_LENGTH(){return 64e6}get buffer(){return this._data}allocate(t){const e=this._freeList.firstFit(t);return null==e?null:new Uint32Array(this._data,e,t/Uint32Array.BYTES_PER_ELEMENT)}free(t){this._freeList.free(t.byteOffset,t.byteLength)}}class i{constructor(){this._bytesAllocated=0,this._pages=[],this._pagesByBuffer=new Map,this._addPage()}destroy(){this._pages=[],this._pagesByBuffer=null}get _bytesTotal(){return this._pages.length*a.BYTE_LENGTH}acquire(e){if(this._bytesAllocated+=e,s&&console.log(`Allocating ${e}, (${this._bytesAllocated} / ${this._bytesTotal})`),e>a.BYTE_LENGTH)return new Uint32Array(e/Uint32Array.BYTES_PER_ELEMENT);for(const t of this._pages){const s=t.allocate(e);if(null!=s)return s}return t(this._addPage().allocate(e),\"Expected to allocate page\")}release(t){this._bytesAllocated-=t.byteLength,s&&console.log(`Freeing ${t.byteLength}, (${this._bytesAllocated} / ${this._bytesTotal})`);const e=this._pagesByBuffer.get(t.buffer);e&&e.free(t)}_addPage(){const t=new a;return this._pages.push(t),this._pagesByBuffer.set(t.buffer,t),t}}export{i as BufferPool,r as TypedBuffer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"geoscene-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"./chunks/tslib.es6.js\";import r from\"./Graphic.js\";import{property as t}from\"./core/accessorSupport/decorators/property.js\";import\"./core/accessorSupport/ensureType.js\";import\"./core/arrayUtils.js\";import\"./core/has.js\";import{subclass as o}from\"./core/accessorSupport/decorators/subclass.js\";let p=class extends r{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const r=this.sourceLayer&&this.sourceLayer.featureReduction;return r&&\"popupTemplate\"in r&&r.popupEnabled?r.popupTemplate:null}getObjectId(){return this.attributes.aggregateId}};e([t({type:Boolean})],p.prototype,\"isAggregate\",void 0),p=e([o(\"geoscene.AggregateGraphic\")],p);const s=p;export{s as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{EffectView as f}from\"./EffectView.js\";let c=class extends t{constructor(e){super(e),this._filter=null,this.duration=has(\"mapview-transitions-duration\"),this._excludedEffectView=new f(e),this._includedEffectView=new f(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get(\"featureEffect\")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set(\"scale\",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set(\"scale\",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransitions(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null}_transitionTo(e){const t=this._get(\"featureEffect\"),i=e,s=i?.includedEffect,f=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(s)&&this._excludedEffectView.canTransitionTo(f);this._includedEffectView.effect=s,this._excludedEffectView.effect=f,this._set(\"featureEffect\",i),this._filter=i?.filter||t?.filter||null,c||this.endTransitions()}};e([i()],c.prototype,\"_filter\",void 0),e([i()],c.prototype,\"_excludedEffectView\",void 0),e([i()],c.prototype,\"_includedEffectView\",void 0),e([i()],c.prototype,\"duration\",void 0),e([i()],c.prototype,\"excludedEffects\",null),e([i()],c.prototype,\"featureEffect\",null),e([i()],c.prototype,\"filter\",null),e([i()],c.prototype,\"hasEffects\",null),e([i()],c.prototype,\"includedEffects\",null),e([i({value:0})],c.prototype,\"scale\",null),e([i()],c.prototype,\"transitioning\",null),c=e([s(\"geoscene.layers.effects.FeatureEffectView\")],c);const r=c;export{r as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../AggregateGraphic.js\";import\"../../geometry.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"./FeatureSet.js\";import p from\"../../geometry/SpatialReference.js\";let c=class extends a{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=p.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=r.fromJSON(t),c=t.geometry&&t.geometry.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const i=t.aggregateGeometries,m=p.aggregateGeometries;if(i&&null!=m)for(const e in m){const r=m[e],t=i[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};e([t({type:[r],json:{write:!0}})],c.prototype,\"features\",void 0),e([o(\"features\")],c.prototype,\"readFeatures\",null),c=e([s(\"geoscene.rest.support.AggregateFeatureSet\")],c);const i=c;export{i as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as t}from\"../../../../../core/HandleOwner.js\";import has from\"../../../../../core/has.js\";import{property as s}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import{subclass as i}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(e){super(e),this.tiles=new Map}destroy(){this.tiles.clear(),this.layer=this.layerView=this.tileInfoView=this.tiles=null}get updating(){return this.isUpdating()}acquireTile(e){const t=this.createTile(e);return t.once(\"isReady\",(()=>this.notifyChange(\"updating\"))),this.tiles.set(e.id,t),this.notifyChange(\"updating\"),t}forceAttributeTextureUpload(){}forEachTile(e){this.tiles.forEach(e)}releaseTile(e){this.tiles.delete(e.key.id),this.notifyChange(\"updating\"),this.disposeTile(e)}isUpdating(){let e=!0;this.tiles.forEach((t=>{e=e&&t.isReady}));const t=!e;if(has(\"geoscene-2d-log-updating\")){let s=\"\";this.tiles.forEach((t=>{const i=t.updateStatus;s+=`-> ${t.key.id}: isReady: ${t.isReady} status: ${i}\\n`,e=e&&t.isReady})),console.log(`Updating BaseTileRenderer ${t}\\n${s}`)}return t}setHighlight(){}invalidateLabels(){}requestUpdate(){this.layerView.requestUpdate()}};e([s()],r.prototype,\"layer\",void 0),e([s()],r.prototype,\"layerView\",void 0),e([s()],r.prototype,\"tileInfoView\",void 0),e([s()],r.prototype,\"updating\",null),r=e([i(\"geoscene.views.2d.layers.features.tileRenderers.BaseTileRenderer\")],r);const o=r;export{o as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{drawHeatmap as t}from\"../../../../../../renderers/support/heatmapUtils.js\";class i{constructor(){this.gradient=null,this.height=512,this.intensities=null,this.width=512}render(i){t(i,512,this.intensities,this.gradient,this.minDensity,this.maxDensity)}}export{i as HeatmapSource};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Error.js\";import{subclass as t}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{generateGradient as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{BitmapTileContainer as r}from\"../../../engine/BitmapTileContainer.js\";import s from\"./BaseTileRenderer.js\";import{HeatmapSource as n}from\"./support/HeatmapSource.js\";let o=class extends s{constructor(e){super(e),this._intensityInfo={minDensity:0,maxDensity:0},this.type=\"heatmap\",this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new r(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if(\"heatmap\"===e.type){const{minDensity:t,maxDensity:r,colorStops:s}=e;this._intensityInfo.minDensity=t,this._intensityInfo.maxDensity=r,this._gradient=i(s),this.tiles.forEach((e=>{const i=e.bitmap.source;i&&(i.minDensity=t,i.maxDensity=r,i.gradient=this._gradient,e.bitmap.invalidateTexture(),e.bitmap.requestRender())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&\"heatmap\"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minDensity:r,maxDensity:s}=this._intensityInfo,o=t.bitmap.source||new n;o.intensities=i&&i.matrix||null,o.minDensity=r,o.maxDensity=s,o.gradient=this._gradient,t.bitmap.source=o,this._container.addChild(t),this._container.requestRender(),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}fetchResource(e,t){return console.error(e),Promise.reject()}};o=e([t(\"geoscene.views.2d.layers.features.tileRenderers.HeatmapTileRenderer\")],o);export{o as HeatmapTileRenderer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst t=6,s=4294967296;class e{constructor(t){this._savedCursor=null,this._savedOffset=null,this._head=t,this._cursor=t}static from(t){const s=r.from(new Float32Array(t));return new e(s)}get id(){return this._cursor.id}get baseZoom(){return this._cursor.baseZoom}get anchorX(){return this._cursor.anchorX}get anchorY(){return this._cursor.anchorY}get directionX(){return this._cursor.directionX}get directionY(){return this._cursor.directionY}get size(){return this._cursor.size}get materialKey(){return this._cursor.materialKey}get boundsCount(){return this._cursor.boundsCount}computedMinZoom(){return this._cursor.computedMinZoom()}setComputedMinZoom(t){return this._cursor.setComputedMinZoom(t)}boundsComputedAnchorX(t){return this._cursor.boundsComputedAnchorX(t)}boundsComputedAnchorY(t){return this._cursor.boundsComputedAnchorY(t)}setBoundsComputedAnchorX(t,s){return this._cursor.setBoundsComputedAnchorX(t,s)}setBoundsComputedAnchorY(t,s){return this._cursor.setBoundsComputedAnchorY(t,s)}boundsX(t){return this._cursor.boundsX(t)}boundsY(t){return this._cursor.boundsY(t)}boundsWidth(t){return this._cursor.boundsWidth(t)}boundsHeight(t){return this._cursor.boundsHeight(t)}link(t){if(null!=t._head)return this._cursor.link(t._head)}getCursor(){return this.copy()}copy(){const t=new e(this._head?.copy());if(!t._head)return t;let s=t._head,r=t._head._link;for(;r;)s._link=r.copy(),s=r,r=s._link;return t}peekId(){return this._cursor.peekId()??this._cursor._link.peekId()}nextId(){const t=this.id;for(;t===this.id;)if(!this.next())return!1;return!0}save(){this._savedCursor=this._cursor,this._savedOffset=this._cursor._offset}restore(){this._savedCursor&&(this._cursor=this._savedCursor),null!=this._savedOffset&&(this._cursor._offset=this._savedOffset)}next(){if(!this._cursor)return!1;if(!this._cursor.next()){if(!this._cursor._link)return!1;this._cursor=this._cursor._link,this._cursor._offset=0}return!0}lookup(t){for(this._cursor=this._head;this._cursor&&!this._cursor.lookup(t);){if(!this._cursor._link)return!1;this._cursor=this._cursor._link}return!!this._cursor}delete(t){let s=this._head,e=null;for(;s;){if(s.delete(t))return s.isEmpty()&&null!=e&&(e._link=s._link),!0;e=s,s=s._link}return!1}}class r{constructor(t){this._offset=-1,this._link=null,this._count=0,this._deletedCount=0,this._offsets={instance:null},this._buffer=t}static from(t){return new r(new Float32Array(t))}isEmpty(){return this._deletedCount===this.count}get count(){return this._count||(this._count=this._computeCount()),this._count}get id(){return this._buffer[this._offset]}set id(t){this._buffer[this._offset]=t}get baseZoom(){return this._buffer[this._offset+1]}get anchorX(){return this._buffer[this._offset+2]}get anchorY(){return this._buffer[this._offset+3]}get directionX(){return this._buffer[this._offset+4]}get directionY(){return this._buffer[this._offset+5]}get size(){return this._buffer[this._offset+6]}get materialKey(){return this._buffer[this._offset+7]}computedMinZoom(){return this._buffer[this._offset+8]}setComputedMinZoom(t){this._buffer[this._offset+8]=t}get boundsCount(){return this._buffer[this._offset+9]}boundsComputedAnchorX(s){return this._buffer[this._offset+10+s*t]}boundsComputedAnchorY(s){return this._buffer[this._offset+10+s*t+1]}setBoundsComputedAnchorX(s,e){this._buffer[this._offset+10+s*t]=e}setBoundsComputedAnchorY(s,e){this._buffer[this._offset+10+s*t+1]=e}boundsX(s){return this._buffer[this._offset+10+s*t+2]}boundsY(s){return this._buffer[this._offset+10+s*t+3]}boundsWidth(s){return this._buffer[this._offset+10+s*t+4]}boundsHeight(s){return this._buffer[this._offset+10+s*t+5]}link(t){let s=this;for(;s._link;)s=s._link;s._link=t}getCursor(){return this.copy()}copy(){const t=new r(this._buffer);return t._link=this._link,t._offset=this._offset,t._deletedCount=this._deletedCount,t._offsets=this._offsets,t._count=this._count,t}peekId(){const s=this._offset+10+this.boundsCount*t+0;return s>=this._buffer.length?0:this._buffer[s]}next(){let e=0;for(;this._offset<this._buffer.length&&e++<100&&(-1===this._offset?this._offset=0:this._offset+=10+this.boundsCount*t,this.id===s););return this.id!==s&&this._offset<this._buffer.length}delete(t){const s=this._offset,e=this.lookup(t);if(e)for(this.id=4294967295,++this._deletedCount;this.next()&&this.id===t;)this.id=4294967295,++this._deletedCount;return this._offset=s,e}lookup(t){const e=this._offset;if(null==this._offsets.instance){this._offsets.instance=new Map;const t=this.copy();t._offset=-1;let s=0;for(;t.next();)t.id!==s&&(this._offsets.instance.set(t.id,t._offset),s=t.id)}return!!this._offsets.instance.has(t)&&(this._offset=this._offsets.instance.get(t),this.id!==s||(this._offset=e,!1))}_computeCount(){const t=this._offset;let s=0;for(this._offset=-1;this.next();)s++;return this._offset=t,s}}export{e as MetricReader,r as MetricReaderNode};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{applySome as t,unwrapOrThrow as i}from\"../../../../../core/maybe.js\";import{TypedBuffer as e}from\"../BufferPool.js\";import{FreeList as r}from\"./FreeList.js\";import{BufferObject as s}from\"../../../../webgl/BufferObject.js\";import{Usage as h}from\"../../../../webgl/enums.js\";const n=1.25,u=32767,a=u<<16|u;class d{constructor(t,i,r,s){const h=e.create(i*r*Uint32Array.BYTES_PER_ELEMENT,s);this.size=i,this.strideInt=r,this.bufferType=t,this.dirty={start:1/0,end:0},this._gpu=null,this._cpu=h,this.clear()}get elementSize(){return this._cpu.length/this.strideInt}get invalidated(){return this.bufferSize>0&&!this._gpu}get invalidatedComputeBuffer(){return this.bufferSize>0&&!this._gpuComputeTriangles}invalidate(){this._invalidateTriangleBuffer(),t(this._gpu,(t=>t.dispose())),this._gpu=null}_invalidateTriangleBuffer(){t(this._gpuComputeTriangles,(t=>t.dispose())),this._gpuComputeTriangles=null}destroy(){t(this._gpu,(t=>t.dispose())),t(this._gpuComputeTriangles,(t=>t.dispose())),t(this._cpu,(t=>t.destroy())),t(this._cpu2,(t=>t.destroy()))}clear(){this.dirty.start=1/0,this.dirty.end=0,this.freeList=new r({start:0,end:this._cpu.length/this.strideInt}),this.fillPointer=0}ensure(t){if(this.maxAvailableSpace()>=t)return;if(t*this.strideInt>this._cpu.length-this.fillPointer){this.invalidate();const i=this._cpu.length/this.strideInt,e=Math.round((i+t)*n),r=e*this.strideInt;this._cpu.expand(r*Uint32Array.BYTES_PER_ELEMENT),this.freeList.free(i,e-i)}}set(t,i){this._cpu.array[t]!==i&&(this._cpu.array[t]=i,this.dirty.start=Math.min(t,this.dirty.start),this.dirty.end=Math.max(t,this.dirty.end))}getGPUBuffer(t,i=!1){if(!this.bufferSize)return null;if(i){if(\"index\"!==this.bufferType)throw new Error(\"Tired to get triangle buffer, but target is not an index buffer\");return null==this._gpuComputeTriangles&&(this._gpuComputeTriangles=this._createComputeBuffer(t)),this._gpuComputeTriangles}return null==this._gpu&&(this._gpu=this._createBuffer(t)),this._gpu}getCPUBuffer(){if(!this._cpu2){const t=this._cpu.slice();this._cpu2=t}return this._cpu2.length!==this._cpu.length&&this._cpu2.expand(this._cpu.length*this._cpu.array.BYTES_PER_ELEMENT),this._cpu2.set(this._cpu),this._cpu2}get bufferSize(){return this._cpu.length/this.strideInt}maxAvailableSpace(){return this.freeList.maxAvailableSpace()}insert(t,e,r,s){const h=r*this.strideInt;if(!h)return 0;const n=e*this.strideInt*Uint32Array.BYTES_PER_ELEMENT,u=new Uint32Array(t,n,h),a=i(this.freeList.firstFit(r),\"First fit region must be defined\")*this.strideInt,d=h,f=a/this.strideInt-e;if(0!==s)for(let i=0;i<u.length;i++)u[i]+=s;return this._cpu.array.set(u,a),this.dirty.start=Math.min(this.dirty.start,a),this.dirty.end=Math.max(this.dirty.end,a+d),this.fillPointer=Math.max(this.fillPointer,a+d),f}free(t,i,e){const r=t*this.strideInt,s=(t+i)*this.strideInt;if(!0===e)for(let h=t;h!==t+i;h++)this._cpu.array[h*this.strideInt]=a;this.dirty.start=Math.min(this.dirty.start,r),this.dirty.end=Math.max(this.dirty.end,s),this.freeList.free(t,i)}upload(){if(this.dirty.end){if(this._invalidateTriangleBuffer(),null==this._gpu)return this.dirty.start=1/0,void(this.dirty.end=0);this._gpu.setSubData(this._cpu.array,this.dirty.start,this.dirty.start,this.dirty.end),this.dirty.start=1/0,this.dirty.end=0}}_createBuffer(t){const i=h.DYNAMIC_DRAW;return\"index\"===this.bufferType?s.createIndex(t,i,this._cpu.array):s.createVertex(t,i,this._cpu.array)}_createComputeBuffer(t){const i=h.DYNAMIC_DRAW,e=new Uint32Array(this.fillPointer/3);for(let r=0;r<this.fillPointer;r+=3)e[r/3]=this._cpu.array[r];return s.createIndex(t,i,e)}}export{d as Buffer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{destroyMaybe as e,unwrapOrThrow as t}from\"../../../../../core/maybe.js\";import{FeatureDisplayList as r}from\"../FeatureDisplayList.js\";import{Buffer as s}from\"./Buffer.js\";import{DisplayRecordReader as i}from\"./DisplayRecordReader.js\";import{VertexArrayObject as n}from\"../../../../webgl/VertexArrayObject.js\";const f=0,o=1;class d{constructor(e,t){this._vaos=new Map,this._indicesInvalid=!1,this.geometryType=e,this._stage=t}destroy(){for(const[e,t]of this._vaos)t?.disposeVAOOnly();this._indexBuffer=e(this._indexBuffer),this._vertexBuffer=e(this._vertexBuffer)}get records(){return this._records}insert(e,r,n){if(!e.records.byteLength)return;const f=e.stride;if(this._vertexBuffer&&this._indexBuffer){const s=e.indices.byteLength/4,n=e.vertices.byteLength/f;this._indexBuffer.ensure(s),this._vertexBuffer.ensure(n);const{vertices:o,indices:d}=e,h=i.from(e.records),u=this._vertexBuffer.insert(o,0,o.byteLength/f,0),c=this._indexBuffer.insert(d,0,d.byteLength/4,u);if(h.forEach((e=>{e.indexFrom+=c,e.vertexFrom+=u})),t(this._records,\"Expected records to be defined\").link(h),r)this._indicesInvalid=!0;else if(this._displayList){const e=h.getCursor();for(;e.next();)this._displayList.addRecord(e)}}else{const t=e.indices.byteLength/4,n=e.vertices.byteLength/f,o=f/Uint32Array.BYTES_PER_ELEMENT,d=this._stage.bufferPool;this._records=i.from(e.records),this._indexBuffer=new s(\"index\",t,1,d),this._vertexBuffer=new s(\"vertex\",n,o,d),this._indexBuffer.insert(e.indices,0,e.indices.byteLength/4,0),this._vertexBuffer.insert(e.vertices,0,e.vertices.byteLength/f,0),r&&(this._indicesInvalid=!0)}}remove(e){if(null!=this._records)for(const t of e){const e=this._records.getCursor();if(!e.lookup(t))continue;const r=e.indexFrom,s=e.vertexFrom;let i=e.indexCount,n=e.vertexCount;for(;e.next()&&e.id===t;)i+=e.indexCount,n+=e.vertexCount;this._indexBuffer.free(r,i),this._vertexBuffer.free(s,n,!0),this._records.delete(t)}}getVAO(e,t,r,s){if(!this._vertexBuffer||!this._indexBuffer||null==this._records||!this._vertexBuffer.bufferSize)return null;const i=s?o:f;let d=this._vaos.get(i);(this._vertexBuffer.invalidated||this._indexBuffer.invalidated||s&&this._indexBuffer.invalidatedComputeBuffer)&&(d?.disposeVAOOnly(),d=null),this._vertexBuffer.upload(),this._indexBuffer.upload();const h=this._indexBuffer.getGPUBuffer(e,1===i),u=this._vertexBuffer.getGPUBuffer(e);return d||(d=new n(e,r,t,{geometry:u},h),this._vaos.set(i,d)),d}forEachCommand(e){if(null!=this._records){if(this._sortIndices(this._records),!this._displayList){const e=this._cursorIndexOrder;this._displayList=r.from(this,this.geometryType,this._records.getCursor(),e)}this._displayList.forEach(e)}}_sortIndices(e){const t=!!this._indexBuffer.bufferSize;if(!this._indicesInvalid)return;this._indicesInvalid=!1;let r=0;const s=e.getCursor(),i=[],n=[],f=[];for(;s.next();)n.push(s.index),f.push(s.sortKey),i.push(s.id);n.sort(((e,t)=>{const r=f[t],s=f[e];return s===r?i[t]-i[e]:r-s}));const o=e.getCursor(),d=t?this._indexBuffer.getCPUBuffer():this._vertexBuffer.getCPUBuffer();for(const h of n){if(!o.seekIndex(h))throw new Error(\"Expected to find index\");if(t){const{indexFrom:e,indexCount:t}=o;o.indexFrom=r;for(let s=0;s<t;s++)this._indexBuffer.set(r++,d.array[e+s])}else{const{vertexFrom:e,vertexCount:t}=o,s=this._vertexBuffer.strideInt,i=e*s,n=i+t*s;o.vertexFrom=r/s;for(let f=i;f<n;f++)this._vertexBuffer.set(r++,d.array[f])}}this._cursorIndexOrder=n,this._displayList=null}}export{d as Geometry};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../core/CircularArray.js\";import has from\"../../../../core/has.js\";import{c as t}from\"../../../../chunks/mat2df32.js\";import{WGLGeometryType as r}from\"./enums.js\";import{forEachGeometryType as s}from\"./Utils.js\";import{WGLTile as i}from\"./WGLTile.js\";import{MetricReader as a}from\"./collisions/MetricReader.js\";import{Geometry as n}from\"./cpuMapped/Geometry.js\";const h=50,d=4,o=100;let u=0;class c extends i{constructor(r,s,i,a,n,h){super(r,s,i,a),this.instanceId=u++,this.patchCount=0,this._renderState={current:{geometry:new Map,metrics:null},next:null,swap:!1,swapFrames:0,locked:!1},this._patches=new e(o),this._bufferPatches=new e(o),this._lastCommitTime=0,this.transforms.labelMat2d=t(),this._store=n,this._requestLabelUpdate=h}destroy(){super.destroy(),this._renderState.current.geometry.forEach((e=>e.destroy())),null!=this._renderState.next&&this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.current=null,this._renderState.next=null}get labelMetrics(){return this._renderState.current.metrics}get hasData(){return!!this._renderState.current.geometry.size}get updateStatus(){return`renderState:${!!this._renderState.current}, ${!!this._renderState.next}, hasData:${this.hasData}, queue:${this._patches.size}`}getGeometry(e){return this._renderState.current.geometry.get(e)}patch(e,t){this.patchCount++,e.clear&&this._patches.size>=h&&this._dropPatches();const r=e,s=r.addOrUpdate&&this.key.id!==r.addOrUpdate.tileKeyOrigin;t&&s?this._bufferPatches.enqueue(r):(r.sort=r.sort&&!t,this._patches.enqueue(r)),this.requestRender()}commit(e){if(this._lastCommitTime!==e.time){this._lastCommitTime=e.time;for(let e=0;e<d;e++)this._updateMesh(),this.isReady&&this._updateBufferMesh();this._renderState.swap&&(this._swapRenderStates(),this.requestRender())}}lock(){this._renderState.locked=!0}unlock(){this._renderState.locked=!1,this._flushUpdates(),this._swap()}_swapRenderStates(){if(this._renderState.next){if(this._renderState.locked)return this._renderState.swap=!0,void this.requestRender();this._renderState.swap=!0,this._swap()}}_swap(){this._renderState.swap&&(this._renderState.swap=!1,null!=this._renderState.next&&(this._renderState.current.geometry.forEach((e=>e.destroy())),this._renderState.current=this._renderState.next,this._renderState.next=null,this._requestLabelUpdate()))}_flushUpdates(){let e=this._patches.maxSize;for(;this._patches.size&&e--;)this._updateMesh(),this._swap()}_updateBufferMesh(){const e=this._bufferPatches.peek();if(null==e||!e.clear||null===this._renderState.next)for(;this._bufferPatches.size;){const e=this._bufferPatches.dequeue();null!=e&&this._patchBuffer(e)}}_updateMesh(){const e=this._patches.dequeue();if(null!=e){if(has(\"geoscene-2d-update-debug\")){const t=e,r=t.addOrUpdate?.tileKeyOrigin,s=this.key.id===r?\"SELF\":r;let i=\"\";for(let e=0;e<5;e++)i+=t.addOrUpdate?.data[e]?.records?.byteLength?1:0;console.debug(this.key.id,\"FeatureTile:patch\",`[clear: ${t.clear} origin: ${s}, end:${t.end} data:${i}]`)}!0===e.clear&&(null!=this._renderState.next&&(this._renderState.next.geometry.forEach((e=>e.destroy())),this._renderState.next=null),this._renderState.next={geometry:new Map,metrics:null},has(\"geoscene-2d-update-debug\")&&console.debug(this.key.id,\"FeatureTile:_updateMesh - Creating new renderState\")),this.requestRender(),this._patch(e),e.end&&(has(\"geoscene-2d-update-debug\")&&console.debug(this.key.id,\"FeatureTile:_updateMesh - Encountered end message\"),this.ready(),this._swapRenderStates())}}_patch(e){s((t=>{this._remove(t,e.remove),this._insert(t,e,!1)}))}_patchBuffer(e){s((t=>{this._insert(t,e,!0)}))}_insert(e,t,s){try{const i=this._renderState.next??this._renderState.current,a=t.addOrUpdate?.data[e],h=i.geometry;if(null==a)return;h.has(e)||(has(\"geoscene-2d-update-debug\")&&console.debug(this.key.id,`FeatureTile:_insert - Creating geometry buffer ${e}`),h.set(e,new n(e,this.stage))),has(\"geoscene-2d-update-debug\")&&console.debug(this.key.id,`FeatureTile:_insert - Inserting into ${e}, version=${t.addOrUpdate?.version} stride=${a.stride}`),h.get(e).insert(a,t.sort,s),e===r.LABEL&&this._insertLabelMetrics(t.type,a.metrics,t.clear)}catch(i){}}_insertLabelMetrics(e,t,r){const s=this._renderState.next??this._renderState.current;if(null==t)return;const i=a.from(t);if(null!=s.metrics){if(\"update\"===e){const e=i.getCursor();for(;e.next();)s.metrics.delete(e.id)}s.metrics.link(i)}else s.metrics=i}_remove(e,t){const r=(this._renderState.next??this._renderState.current).geometry.get(e);t&&t.length&&r&&(r.remove(t),this._removeLabelMetrics(t))}_removeLabelMetrics(e){const{metrics:t}=this._renderState.next??this._renderState.current;if(null!=t&&e.length)for(const r of e)for(;t.delete(r););}_dropPatches(){const e=new Array;let t=!1;for(;this._patches.size;){const r=this._patches.dequeue();if(null==r)break;if(r.clear){if(t)break;t=!0}e.push(r)}this._patches.clear(),e.forEach((e=>this._patches.enqueue(e)))}}export{c as FeatureTile};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport has from\"../../../../../../core/has.js\";import{createResolver as e}from\"../../../../../../core/promiseUtils.js\";import{brushes as t}from\"../../../../engine/brushes.js\";import{FeatureContainer as s}from\"../../../../engine/FeatureContainer.js\";import{WGLDrawPhase as i}from\"../../../../engine/webgl/enums.js\";const r=has(\"featurelayer-order-by-server-enabled\");class a extends s{constructor(e,t,s,i){super(e),this._hitTestsRequests=[],this._layer=s,this._layerView=t,this._onUpdate=i}renderChildren(e){if(this.attributeView.update(),this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}super.renderChildren(e)}hasEmptyAttributeView(){return this.attributeView.isEmpty()}isUpdating(){return this.attributeView.isUpdating()}hitTest(t){let s=this._hitTestsRequests.find((({x:e,y:s})=>e===t.x&&s===t.y));const i=e();return s?s.resolvers.push(i):(s={x:t.x,y:t.y,resolvers:[i]},this._hitTestsRequests.push(s)),this.requestRender(),i.promise}onTileData(e,t){const s=r&&\"orderBy\"in this._layer&&this._layer.orderBy,i=s&&s?.length&&!s[0].valueExpression&&s[0].field,a=!!s&&this._layerView.orderByFields===i;e.patch(t,a),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){this.contains(e)||this.addChild(e)}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._layerView.featureEffectView.transitionStep(e,t),this._layerView.featureEffectView.transitioning&&this.requestRender()}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,i=e.state.scale;i<=(t||1/0)&&i>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}onAttributeStoreUpdate(){this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this._onUpdate()}get hasAnimation(){return this.hasLabels}setStencilReference(e){const{rendererSchema:t}=e.rendererInfo;if(\"dot-density\"===t?.type&&t?.dotSize>1||\"heatmap\"===t?.type){const e=1;for(const t of this.children)t.stencilRef=t.key.level+e}else super.setStencilReference(e)}get hasLabels(){if(\"sublayers\"in this._layer)return this._layer.sublayers.some((e=>!!e.labelingInfo?.length&&e.labelsVisible));const e=this._layer.featureReduction,t=e&&\"labelingInfo\"in e&&e.labelsVisible&&e.labelingInfo&&e.labelingInfo.length;return this._layer.labelingInfo&&this._layer.labelingInfo.length&&this._layer.labelsVisible||!!t}prepareRenderPasses(e){const s=super.prepareRenderPasses(e),r=e.registerRenderPass({name:\"label\",brushes:[t.label],target:()=>this.hasLabels?this.children:null,drawPhase:i.LABEL|i.LABEL_ALPHA});if(has(\"featurelayer-force-marker-text-draw-order\")){const i=e.registerRenderPass({name:\"geometry\",brushes:[t.fill,t.dotDensity,t.line,t.heatmap,t.pieChart],target:()=>this.children,forceDrawByDisplayOrder:!0,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}else{const i=e.registerRenderPass({name:\"geometry\",brushes:[t.fill,t.dotDensity,t.line,t.marker,t.heatmap,t.pieChart,t.text],target:()=>this.children,enableDefaultDraw:()=>!this._layerView.featureEffectView.hasEffects,effects:[{apply:e.effects.outsideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.excludedEffects},{apply:e.effects.insideEffect,enable:()=>this._layerView.featureEffectView.hasEffects,args:()=>this._layerView.featureEffectView.includedEffects},{apply:e.effects.hittest,enable:()=>!!this._hitTestsRequests.length,args:()=>this._hitTestsRequests}]});s.push(i)}const a=e.registerRenderPass({name:\"highlight\",brushes:[t.fill,t.dotDensity,t.line,t.marker,t.pieChart,t.text],target:()=>this.children,drawPhase:i.HIGHLIGHT,enableDefaultDraw:()=>!1,effects:[{apply:e.effects.highlight,enable:()=>!!this._layerView.hasHighlight()}]});return s.push(a),s.push(r),s}}export{a as WGLFeatureView};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import has from\"../../../../../core/has.js\";import{destroyMaybe as t}from\"../../../../../core/maybe.js\";import{isAbortError as i}from\"../../../../../core/promiseUtils.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/Error.js\";import{subclass as r}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../../geometry/support/aaBoundingRect.js\";import{FeatureTile as a}from\"../../../engine/webgl/FeatureTile.js\";import{simplifyVVRenderer as o}from\"../support/rendererUtils.js\";import l from\"./BaseTileRenderer.js\";import{convertVisualVariables as n}from\"./support/visualVariablesUtils.js\";import{WGLFeatureView as u}from\"./support/WGLFeatureView.js\";let p=class extends l{constructor(){super(...arguments),this.type=\"symbol\"}install(e){const t=()=>this.notifyChange(\"updating\"),i=new u(this.tileInfoView,this.layerView,this.layer,t);this.featuresView=i,e.addChild(i)}uninstall(e){e.removeChild(this.featuresView),this.featuresView=t(this.featuresView)}fetchResource(e,t){const{url:r}=e,s=this.featuresView.stage;try{return s.resourceManager.fetchResource(r,{signal:t.signal})}catch(a){return i(a)?Promise.resolve({width:0,height:0}):Promise.reject(a)}}isUpdating(){const e=super.isUpdating(),t=!this.featuresView||this.featuresView.isUpdating(),i=this.featuresView?.hasEmptyAttributeView(),r=e||t||e&&i;return has(\"geoscene-2d-log-updating\")&&console.log(`Updating SymbolTileRenderer ${r}\\n  -> updatingTiles ${e}\\n  -> hasFeaturesView ${!!this.featuresView}\\n  -> updatingFeaturesView ${t}`),r}hitTest(e){return this.featuresView.hitTest(e)}supportsRenderer(e){return null!=e&&[\"simple\",\"class-breaks\",\"unique-value\",\"dot-density\",\"dictionary\",\"heatmap\",\"pie-chart\"].includes(e.type)}onConfigUpdate(e){let t=null;if(e&&\"visualVariables\"in e){const i=(o(e).visualVariables||[]).map((e=>{const t=e.clone();return\"normalizationField\"in e&&(t.normalizationField=null),e.valueExpression&&\"$view.scale\"!==e.valueExpression&&(t.valueExpression=null,t.field=\"nop\"),t}));t=n(i)}this.featuresView.setRendererInfo(e,t,this.layerView.featureEffect)}onTileData(e){const t=this.tiles.get(e.tileKey);t&&e.data&&this.featuresView.onTileData(t,e.data),this.layerView.view.labelManager.requestUpdate()}onTileError(e){const t=this.tiles.get(e.tileKey);t&&this.featuresView.onTileError(t)}forceAttributeTextureUpload(){this.featuresView.attributeView.forceTextureUpload()}lockGPUUploads(){this.featuresView.attributeView.lockTextureUpload(),this.tiles.forEach((e=>e.lock()))}unlockGPUUploads(){this.featuresView.attributeView.unlockTextureUpload(),this.tiles.forEach((e=>e.unlock()))}async getMaterialItems(e){return this.featuresView.getMaterialItems(e)}invalidateLabels(){this.featuresView.hasLabels&&this.layerView.view.labelManager.requestUpdate()}createTile(e){const t=this.tileInfoView.getTileBounds(s(),e),i=()=>this.layerView.view.labelManager.requestUpdate(),r=this.tileInfoView.getTileResolution(e.level),o=this.featuresView.attributeView;return new a(e,r,t[0],t[3],o,i)}disposeTile(e){this.featuresView.removeChild(e),e.destroy(),this.layerView.view.labelManager.requestUpdate()}};p=e([r(\"geoscene.views.2d.layers.features.tileRenderers.SymbolTileRenderer\")],p);export{p as SymbolTileRenderer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{HeatmapTileRenderer as e}from\"./tileRenderers/HeatmapTileRenderer.js\";import{SymbolTileRenderer as r}from\"./tileRenderers/SymbolTileRenderer.js\";function t(t,n){if(!t)return null;switch(t.type){case\"symbol\":return new r(n);case\"heatmap\":return new e(n)}}export{t as createOrReuseTileRenderer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{QueueProcessor as o}from\"../../../support/QueueProcessor.js\";function i(e){return e.some((e=>e.globalId))}function n(e){return e.filter((e=>!e.error)).map((e=>e.objectId??e.globalId)).filter((e=>null!=e))}function d(e,t){const s=new Set(e);for(const r of t.values())s.add(r);return s}function a(e,t){const s=new Set(e);for(const r of t.values())s.delete(r);return s}let c=class extends t{constructor(e){super(e),this._hasGlobalIds=!1,this._notifyUpdating=()=>{this.notifyChange(\"updating\")}}normalizeCtorArgs(e){return this._queueProcessor=new o({concurrency:1,process:e.process}),{}}destroy(){this.clear()}get updating(){return this._queueProcessor.length>0}clear(){this._queueProcessor.clear()}push(e){const t=this._queueProcessor,s=t.last();switch(e.type){case\"update\":case\"refresh\":if(s?.type===e.type)return;t.push(e).then(this._notifyUpdating,this._notifyUpdating);break;case\"edit\":{const r=\"processed-edit\"===s?.type?s:null;r&&t.popLast();const o=this._mergeEdits(r,e);for(const e of o)e&&t.push(e).then(this._notifyUpdating,this._notifyUpdating);break}}this.notifyChange(\"updating\")}_mergeEdits(e,t){const{addedFeatures:s,deletedFeatures:r,updatedFeatures:o}=t.edits;if(this._hasGlobalIds=this._hasGlobalIds||i(s)||i(o)||i(r),this._hasGlobalIds){return[e,{type:\"processed-edit\",edits:{addOrModified:[...s,...o],removed:r}}]}const c=new Set(n(e?.edits.addOrModified??[])),p=new Set(n(e?.edits.removed??[])),u=new Set([...n(s),...n(o)]),l=new Set(n(r));return[{type:\"processed-edit\",edits:{addOrModified:Array.from(d(a(c,l),u)).map((e=>({objectId:e}))),removed:Array.from(d(a(p,u),l)).map((e=>({objectId:e})))}}]}};e([s({readOnly:!0})],c.prototype,\"updating\",null),e([s()],c.prototype,\"process\",void 0),c=e([r(\"geoscene.views.2d.layers.support.FeatureCommandQueue\")],c);const p=c;export{p as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{EsriPromise as t}from\"../../../../core/Promise.js\";import{createResolver as r,ignoreAbortErrors as s,throwIfNotAbortError as o}from\"../../../../core/promiseUtils.js\";import{open as i}from\"../../../../core/workers/workers.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";function c(e){return Array.isArray(e)}let u=class extends t{constructor(e){super(e),this._startupResolver=r(),this.isReady=!1}initialize(){this._controller=new AbortController,this.addResolvingPromise(this._startWorker(this._controller.signal))}destroy(){this._controller.abort(),this._connection&&this._connection.close()}set tileRenderer(e){this.client.tileRenderer=e}get closed(){return this._connection.closed}async startup(e,t,r,s){await this.when();const o=this._controller.signal,i=c(r.source)?{transferList:r.source,signal:o}:void 0,n={service:r,config:t,tileInfo:e.tileInfo.toJSON(),tiles:s};await this._connection.invoke(\"startup\",n,i),this._startupResolver.resolve(),this._set(\"isReady\",!0)}async updateTiles(e){return await this._startupResolver.promise,s(this._connection.invoke(\"updateTiles\",e))}async update(e){const t={config:e};return await this._startupResolver.promise,this._connection.invoke(\"update\",t)}async applyUpdate(e){return await this._startupResolver.promise,this._connection.invoke(\"applyUpdate\",e)}async setHighlight(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.setHighlight\",e))}async stop(){if(await this._startupResolver.promise,!this.closed)return s(this._connection.invoke(\"stop\"))}async refresh(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.refresh\",e))}async querySummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.querySummaryStatistics\",{query:e.toJSON(),params:t},r)}async queryAggregateSummaryStatistics(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateSummaryStatistics\",{query:e.toJSON(),params:t},r)}async queryUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryUniqueValues\",{query:e.toJSON(),params:t},r)}async queryAggregateUniqueValues(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateUniqueValues\",{query:e.toJSON(),params:t},r)}async queryClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryClassBreaks\",{query:e.toJSON(),params:t},r)}async queryAggregateClassBreaks(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateClassBreaks\",{query:e.toJSON(),params:t},r)}async queryHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryHistogram\",{query:e.toJSON(),params:t},r)}async queryAggregateHistogram(e,t,r){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateHistogram\",{query:e.toJSON(),params:t},r)}async queryFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryFeatures\",e?.toJSON(),t)}async queryVisibleFeatures(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryVisibleFeatures\",e?.toJSON(),t)}async queryObjectIds(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryObjectIds\",e?.toJSON(),t)}async queryFeatureCount(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryFeatureCount\",e?.toJSON(),t)}async queryExtent(e,t){return this._connection.invoke(\"controller.queryExtent\",e.toJSON(),t)}async queryLatestObservations(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryLatestObservations\",e.toJSON(),t)}async queryStatistics(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryStatistics\",e)}async queryAggregates(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregates\",e?.toJSON(),t)}async queryAggregateCount(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateCount\",e?.toJSON(),t)}async queryAggregateIds(e,t){return await this._startupResolver.promise,this._connection.invoke(\"controller.queryAggregateIds\",e?.toJSON(),t)}async getObjectId(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getObjectId\",e)}async getDisplayId(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getDisplayId\",e)}async getFeatures(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.getFeatures\",e)}async getAggregates(){return await this._startupResolver.promise,this._connection.invoke(\"controller.getAggregates\")}async getAggregateValueRanges(){return await this._startupResolver.promise,this._connection.invoke(\"controller.getAggregateValueRanges\")}async mapValidDisplayIds(e){return await this._startupResolver.promise,this._connection.invoke(\"controller.mapValidDisplayIds\",e)}async onEdits(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.onEdits\",e))}async enableEvent(e,t){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.enableEvent\",{name:e,value:t}))}async pauseStream(){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.pauseStream\"))}async resumeStream(){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.resumeStream\"))}async sendMessageToSocket(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.sendMessageToSocket\",e))}async sendMessageToClient(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.sendMessageToClient\",e))}async updateCustomParameters(e){return await this._startupResolver.promise,s(this._connection.invoke(\"controller.updateCustomParameters\",e))}async _startWorker(e){try{this._connection=await i(\"Pipeline\",{client:this.client,strategy:\"dedicated\",signal:e})}catch(t){o(t)}}};e([n()],u.prototype,\"isReady\",void 0),e([n({constructOnly:!0})],u.prototype,\"client\",void 0),e([n()],u.prototype,\"tileRenderer\",null),u=e([a(\"geoscene.views.2d.layers.support.FeatureLayerProxy\")],u);const l=u;export{l as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{meterIn as t}from\"../../../../renderers/support/lengthUtils.js\";import{TransformationType as n}from\"../../../../renderers/visualVariables/support/sizeVariableUtils.js\";const r=Math.PI;function i(e,t){switch(t.transformationType){case n.Additive:return s(e,t);case n.Constant:return o(t,e);case n.ClampedLinear:return u(e,t);case n.Proportional:return l(e,t);case n.Stops:return c(e,t);case n.RealWorldSize:return m(e,t);case n.Identity:return e;case n.Unknown:return null}}function a(e,t){return\"number\"==typeof e?e:i(t,e)}function s(e,t){return e+(a(t.minSize,e)||t.minDataValue)}function o(e,t){const n=e.stops;let r=n&&n.length&&n[0].size;return null==r&&(r=e.minSize),a(r,t)}function u(e,t){const n=t.minDataValue,r=t.maxDataValue,i=(e-n)/(r-n),s=a(t.minSize,e),o=a(t.maxSize,e);return e<=n?s:e>=r?o:s+i*(o-s)}function l(t,n){const r=t/n.minDataValue,i=a(n.minSize,t),s=a(n.maxSize,t);let o=null;return o=r*i,e(o,i,s)}function c(e,t){const[n,r,i]=p(e,t.cache.ipData);if(n===r)return a(t.stops[n].size,e);{const s=a(t.stops[n].size,e);return s+(a(t.stops[r].size,e)-s)*i}}function m(n,i){const s=t[i.valueUnit],o=a(i.minSize,n),u=a(i.maxSize,n),{valueRepresentation:l}=i;let c=null;return c=\"area\"===l?2*Math.sqrt(n/r)/s:\"radius\"===l||\"distance\"===l?2*n/s:n/s,e(c,o,u)}function p(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}export{i as getSizeForValueSimple};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"./TileCoverage.js\";import i from\"./TileKey.js\";const t=1e-6;class l{constructor(e){this._tiles=new Map,this.buffer=0,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,this.buffer=e.buffer}destroy(){}clear(){this._tiles.forEach((e=>this._releaseTile(e)))}tileKeys(){const e=[];return this._tiles.forEach(((i,t)=>e.push(t))),e}update(t){const l=this.tileInfoView.getTileCoverage(t.state,this.buffer,!0,\"closest\"),{spans:s,lodInfo:r}=l,{level:a}=r,o=[],d=[],h=new Set,n=new Set;for(const{row:e,colFrom:c,colTo:f}of s)for(let t=c;t<=f;t++){const l=i.getId(a,e,r.normalizeCol(t),r.getWorldForColumn(t)),s=this._getOrAcquireTile(o,l);h.add(l),s.isReady?s.visible=!0:n.add(s.key)}n.forEach((e=>this._addPlaceholders(h,e))),this._tiles.forEach((e=>{h.has(e.key.id)||(d.push(e.key.id),this._releaseTile(e))})),e.pool.release(l);return{hasMissingTiles:n.size>0,added:o,removed:d}}_getOrAcquireTile(e,t){if(!this._tiles.has(t)){const l=this.acquireTile(new i(t));e.push(t),this._tiles.set(t,l),l.visible=!1}return this._tiles.get(t)}_getTile(e){return this._tiles.get(e)}_releaseTile(e){this._tiles.delete(e.key.id),this.releaseTile(e)}_addPlaceholders(e,i){const l=this._addPlaceholderChildren(e,i);if(!(Math.abs(1-l)<t)){if(!this._addPlaceholderParent(e,i)){this._getTile(i.id).visible=!0}}}_addPlaceholderChildren(e,i){let t=0;return this._tiles.forEach((l=>{t+=this._addPlaceholderChild(e,l,i)})),t}_addPlaceholderChild(e,i,t){if(i.key.level<=t.level||!i.hasData||!t.contains(i.key))return 0;i.visible=!0,e.add(i.key.id);return 1/(1<<2*(i.key.level-t.level))}_addPlaceholderParent(e,i){let t=i.getParentKey(),l=0,s=null;for(;null!=t;){if(e.has(t.id))return!0;const i=this._getTile(t.id);if(i?.isReady){for(const i of e){const e=this._getTile(i);e&&t.contains(e.key)&&(e.visible=!1)}return i.visible=!0,e.add(i.key.id),!0}i?.hasData&&i.patchCount>l&&(l=i.patchCount,s=i),t=t.getParentKey()}return!!s&&(s.visible=!0,e.add(s.key.id),!0)}}export{l as TileManager};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{eachAlways as i}from\"../../core/promiseUtils.js\";import{watch as s,syncAndInitial as o,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as u}from\"../../layers/support/commonProperties.js\";import p from\"../../layers/support/FeatureEffect.js\";import d from\"../../layers/support/FeatureFilter.js\";import{fixFields as f,unpackFieldNames as c,collectLabelingFields as m,collectElevationFields as y,collectFilterFields as h,collectFeatureReductionFields as F,collectOrderByInfos as g,collectFields as w,collectField as E,featureHasFields as b}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as x}from\"../../layers/support/floorFilterUtils.js\";import I from\"../../rest/support/Query.js\";import{loadArcade as v}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as R,getRequiredFields as j}from\"./support/popupUtils.js\";const q=\"geoscene.views.layers.FeatureLayerView\",P=r.getLogger(q),_=r=>{let _=class extends r{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.filter=null,this.timeExtent=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.handles.add([s((()=>{const e=this.layer;return[e?.elevationInfo?.featureExpressionInfo,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),o),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?f(t,[...c(t,e.outFields),...r]):f(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){P.error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new I(e);if(\"feature\"===this.layer.type){const e=x(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new I(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeatures(e,t){const r=this.validateFetchPopupFeatures(t);if(r)throw r;return this.fetchClientPopupFeatures(t)}_loadArcadeModules(e){return e.get(\"expressionInfos.length\")||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?v():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:r,objectIdField:s}}=this,o=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await i([o?o.collectRequiredFields(a,r):null,m(a,t),e?y(a,t):null,null!=this.filter?h(a,t,this.filter):null,null!=this.featureEffect?h(a,t,this.featureEffect.filter):null,l?F(a,t,l):null,n?g(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&w(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"feature\"===t.type&&(t.floorInfo&&w(a,t.fieldsIndex,[t.floorInfo.floorField]),e&&null!=t.infoFor3D&&(null==t.globalIdField&&P.error(\"globalIdField missing on 3DObjectFeatureLayer\"),w(a,t.fieldsIndex,[t.globalIdField]))),\"subtype-group\"===t.type){E(a,r,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,r),m(a,e)])));await i(e)}for(const i of u)i.error&&P.error(i.error);E(a,r,s),e&&\"displayField\"in t&&t.displayField&&E(a,r,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}validateFetchPopupFeatures(e){if(null==e)return null;for(const r of e.clientGraphics??[]){const i=r.layer;if(\"popupEnabled\"in i&&!i.popupEnabled)return new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i});if(r.isAggregate){const e=\"featureReduction\"in i?i.featureReduction:null;if(!(e&&\"popupTemplate\"in e&&e.popupEnabled&&e.popupTemplate))return new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:i})}else if(\"popupTemplate\"in i){if(!R(i,e))return new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:i})}}}async fetchClientPopupFeatures(e){const t=null!=e?e.clientGraphics:null;if(!t||0===t.length)return[];const r=new Array(t.length),i=new Map,s=await this.createPopupQuery(e);for(let o=0;o<t.length;o++){const n=t[o];if(n.isAggregate){r[o]=n;continue}const l=n.layer;if(!(\"popupEnabled\"in l))continue;const a=c(this.layer.fieldsIndex,s.outFields),u=R(l,e);if(null==u)continue;const p=await this._loadArcadeModules(u);p&&p.arcadeUtils.hasGeometryOperations(u)||!b(a,n)?i.set(n.getObjectId(),{graphic:n,index:o}):r[o]=n}if(\"stream\"===this.layer.type||0===i.size)return r.filter(Boolean);s.objectIds=Array.from(i.keys());try{const e=await this.layer.queryFeatures(s);for(const t of e.features){const{graphic:{geometry:e},index:s}=i.get(t.getObjectId());t.geometry||=e,r[s]=t}}catch{}return r.filter(Boolean)}async createPopupQuery(e){const t=this.layer.createQuery(),r=new Set;let i=!1;const s=null!=e&&e.clientGraphics?e.clientGraphics.map((e=>e.layer)):[this.layer];for(const o of s){if(!(\"popupEnabled\"in o))continue;const t=R(o,e);if(null==t)continue;const s=await this._loadArcadeModules(t),n=s&&s.arcadeUtils.hasGeometryOperations(t);i=!(\"point\"!==this.layer.geometryType&&!n);const l=await j(this.layer,t);for(const e of l)r.add(e)}if(t.returnGeometry=i,t.returnZ=i,t.returnM=i,t.outFields=Array.from(r),t.outSpatialReference=this.view.spatialReference,\"feature\"===this.layer.type){const e=x(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return t}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}};return e([l()],_.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],_.prototype,\"availableFields\",null),e([l({type:p})],_.prototype,\"featureEffect\",null),e([l({type:d})],_.prototype,\"filter\",void 0),e([l(u)],_.prototype,\"timeExtent\",void 0),e([l()],_.prototype,\"layer\",void 0),e([l({type:Number})],_.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],_.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],_.prototype,\"requiredFields\",void 0),e([l()],_.prototype,\"suspended\",void 0),e([l()],_.prototype,\"view\",void 0),_=e([a(q)],_),_};export{_ as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../AggregateGraphic.js\";import\"../../../geometry.js\";import r from\"../../../Graphic.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import a from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{clone as n}from\"../../../core/lang.js\";import o from\"../../../core/Logger.js\";import{applySome as l,destroyMaybe as u,removeMaybe as d}from\"../../../core/maybe.js\";import{debounce as h,isAbortError as p}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y,initial as g}from\"../../../core/reactiveUtils.js\";import{pt2px as f}from\"../../../core/screenUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import b from\"../../../layers/effects/FeatureEffectView.js\";import v from\"../../../layers/support/FeatureFilter.js\";import{getEffectiveLayerCapabilities as R}from\"../../../layers/support/layerUtils.js\";import S from\"../../../rest/support/AggregateFeatureSet.js\";import w from\"../../../rest/support/FeatureSet.js\";import x from\"../../../rest/support/Query.js\";import{MAX_FILTERS as F}from\"../engine/webgl/definitions.js\";import{LayerView2DMixin as U}from\"./LayerView2D.js\";import{createSchema as C}from\"./features/schemaUtils.js\";import{createOrReuseTileRenderer as I}from\"./features/tileRenderers.js\";import{isRendererSupported as q}from\"./features/support/rendererUtils.js\";import{findSizeVV as V,createClusterCountSizeVariable as O,injectDynamicLevelDependentSizeVisualVariable as E,isClusterCompatibleRenderer as T,createClusterRenderer as j}from\"./support/clusterUtils.js\";import A from\"./support/FeatureCommandQueue.js\";import L from\"./support/FeatureLayerProxy.js\";import{toJSONGeometryType as N}from\"./support/util.js\";import{getSizeForValueSimple as Q}from\"./support/visualVariableSimpleUtils.js\";import{TileManager as k}from\"../tiling/TileManager.js\";import H from\"../../layers/FeatureLayerView.js\";import P from\"../../layers/LayerView.js\";import z from\"../../layers/RefreshableLayerView.js\";import{getWebGLCapabilities as J}from\"../../webgl/capabilities.js\";import D from\"../../../geometry/Extent.js\";function M(e){return e&&\"openPorts\"in e}function B(e){for(const t of e){const e=\"featureReduction\"in t&&t.featureReduction&&\"labelingInfo\"in t.featureReduction?t.featureReduction:void 0,r=[...t.labelingInfo||[],...e?.labelingInfo||[]];if(!t.labelsVisible||!r.length)continue;if(r.some((e=>\"none\"===e.deconflictionStrategy)))return!0}return!1}function $(e){return t=>f(Q(t,e))}function G(e){const t=null!=e&&\"visualVariables\"in e&&e.visualVariables;if(!t)return null;for(const r of t)if(\"size\"===r.type)return $(r);return null}let K=class extends(H(z(U(P)))){constructor(){super(...arguments),this._pipelineIsUpdating=!0,this._commandsQueue=new A({process:e=>{switch(e.type){case\"processed-edit\":return this._doEdit(e);case\"refresh\":return this._doRefresh(e.dataChanged);case\"update\":return this._doUpdate()}}}),this._visibilityOverrides=new Set,this._highlightIds=new Map,this._updateHighlight=h((async()=>this._proxy.setHighlight(Array.from(this._highlightIds.keys())))),this._uploadsLocked=!1,this._needsClusterSizeUpdate=!1,this.featureEffectView=new b,this._lastDefinitionExpression=null}destroy(){l(this._updateClusterSizeTask,(e=>e.remove())),this._proxy?.destroy(),this._commandsQueue.destroy()}initialize(){this.addResolvingPromise(Promise.all([this._initProxy(),this._initServiceOptions()])),this.addHandles([this.on(\"valueRangesChanged\",(e=>{this._set(\"_aggregateValueRanges\",e.valueRanges)})),c((()=>this.featureEffect),(e=>{this.featureEffectView.featureEffect=e}),y)],\"constructor\"),this.featureEffectView.endTransitions()}async _initProxy(){const e=this.layer;if(\"isTable\"in e&&e.isTable)throw new a(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:this.layer});if((\"feature\"===e.type||\"subtype-group\"===e.type)&&!R(e)?.operations.supportsQuery)throw new a(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e});this._proxy&&this._proxy.destroy();const t=this._createClientOptions();return this._set(\"_proxy\",new L({client:t})),this._proxy.when()}async _initServiceOptions(){return this._set(\"_serviceOptions\",await this._createServiceOptions()),this._serviceOptions}get _effectiveFeatureReduction(){if(!(\"featureReduction\"in this.layer))return null;const e=this.layer.featureReduction;return e&&(!(\"maxScale\"in e)||!e.maxScale||e.maxScale<this.view.scale)?e:null}get orderByFields(){return\"stream\"!==this._serviceOptions?.type?this._serviceOptions?.orderByFields:void 0}get labelsVisible(){const e=\"subtype-group\"===this.layer.type?this.layer.sublayers.items:[this.layer];return!this.suspended&&e.some((e=>e.labelingInfo&&e.labelsVisible))}get labelingCollisionInfos(){const{tileRenderer:e,layer:t}=this;if(null==e)return null;const r=\"subtype-group\"===this.layer.type?this.layer.sublayers.items:[this.layer],i=t.geometryType,s=!B(r),a={};if(\"subtype-group\"!==t.type){if(\"heatmap\"===e?.type)return null;const r=G(t.renderer);a[0]=r}return[{tileRenderer:e,vvEvaluators:a,deconflictionEnabled:s,geometryType:i,visible:!this.suspended}]}get queryMode(){return this._serviceOptions?.type}get renderingConfigHash(){if(!this.layer)return null;const e=this.availableFields,t=this.layer,r=this.view.floors,{definitionExpression:i}=t,s=\"subtype-group\"!==this.layer.type&&this.layer.labelsVisible&&this.layer.labelingInfo,a=\"renderer\"in t&&t.renderer,n=\"gdbVersion\"in t?t.gdbVersion:void 0,o=\"historicMoment\"in t?t.historicMoment?.getTime():void 0,{timeExtent:l}=this,u=\"customParameters\"in t?JSON.stringify(t.customParameters):void 0,d=\"apiKey\"in t?t.apiKey:void 0,h=\"stream\"===t.type?`${JSON.stringify(t.geometryDefinition)}${t.definitionExpression}`:null,p=JSON.stringify(this.clips),c=this._effectiveFeatureReduction?.toJSON(),y=\"orderBy\"in this.layer&&JSON.stringify(this.layer.orderBy),g=\"sublayers\"in this.layer&&this.layer.sublayers.items.reduce(((e,t)=>e+`${t.visible?1:0}.${JSON.stringify(t.renderer)}.${t.labelsVisible}\\n.${JSON.stringify(t.labelingInfo)}`),\"\"),f=\"subtypeCode\"in this.layer&&this.layer.subtypeCode;return JSON.stringify({orderBy:y,sublayerHash:g,subtypeCode:f,filterHash:null!=this.filter&&this.filter.toJSON(),effectHash:null!=this.featureEffect&&this.featureEffect.toJSON(),streamFilter:h,gdbVersion:n,definitionExpression:i,historicMoment:o,availableFields:e,renderer:a,labelingInfo:s,timeExtent:l,floors:r,clipsHash:p,featureReduction:c,customParameters:u,apiKey:d})}highlight(e){let t;e instanceof r?t=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?t=[e]:s.isCollection(e)&&e.length>0?t=e.map((e=>e?.getObjectId())).toArray():Array.isArray(e)&&e.length>0&&(t=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map((e=>e?.getObjectId())));const a=t?.filter(i);return a&&a.length?(this._addHighlight(a),{remove:()=>this._removeHighlight(a)}):{remove:()=>{}}}hasHighlight(){return!!this._highlightIds.size}async hitTest(e,i){if(!this.tileRenderer)return null;const s=await this.tileRenderer.hitTest(i);if(0===s.length)return null;has(\"featurelayer-force-marker-text-draw-order\")&&s.sort(((e,t)=>e-t));const{features:a,aggregates:n}=await this._proxy.getFeatures(s);return[...n.map((r=>this._createGraphicHit(e,t.fromJSON(r)))),...a.map((t=>this._createGraphicHit(e,r.fromJSON(t))))]}queryStatistics(){return this._proxy.queryStatistics()}async querySummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.querySummaryStatistics(this._cleanUpQuery(e),i,r)}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateSummaryStatistics(this._cleanUpAggregateQuery(e),i,r)}async queryUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryUniqueValues(this._cleanUpQuery(e),i,r)}async queryAggregateUniqueValues(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateUniqueValues(this._cleanUpAggregateQuery(e),i,r)}async queryClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryClassBreaks(this._cleanUpQuery(e),i,r)}async queryAggregateClassBreaks(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateClassBreaks(this._cleanUpAggregateQuery(e),i,r)}async queryHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryHistogram(this._cleanUpQuery(e),i,r)}async queryAggregateHistogram(e,t,r){const i={...t,scale:this.view.scale};return this._proxy.queryAggregateHistogram(this._cleanUpAggregateQuery(e),i,r)}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=w.fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}queryVisibleFeatures(e,t){return this._proxy.queryVisibleFeatures(this._cleanUpQuery(e),t).then((e=>{const t=w.fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}async queryAggregates(e,t){const r=await this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t),i=S.fromJSON(r);return i.features.forEach((e=>this._setLayersForFeature(e))),i}queryAggregateIds(e,t){return this._proxy.queryAggregateIds(this._cleanUpAggregateQuery(e),t)}queryAggregateCount(e,t){return this._proxy.queryAggregateCount(this._cleanUpAggregateQuery(e),t)}queryAggregateJSON(e,t){return this._proxy.queryAggregates(this._cleanUpAggregateQuery(e),t)}queryFeaturesJSON(e,t){return this._proxy.queryFeatures(this._cleanUpQuery(e),t)}queryObjectIds(e,t){return this._proxy.queryObjectIds(this._cleanUpQuery(e),t)}queryFeatureCount(e,t){return this._proxy.queryFeatureCount(this._cleanUpQuery(e),t)}queryExtent(e,t){return this._proxy.queryExtent(this._cleanUpQuery(e),t).then((e=>({count:e.count,extent:D.fromJSON(e.extent)})))}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._tileStrategy||!this.tileRenderer)return;const{hasMissingTiles:t,added:r,removed:i}=this._tileStrategy.update(e);(r.length||i.length)&&this._proxy.updateTiles({added:r,removed:i}),t&&this.requestUpdate(),this.notifyChange(\"updating\")}attach(){this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._tileStrategy=new k({acquireTile:e=>this._acquireTile(e),releaseTile:e=>this._releaseTile(e),tileInfoView:this.view.featuresTilingScheme,buffer:0}),this.addAttachHandles(c((()=>this.renderingConfigHash),(()=>this._update()),g)),\"stream\"!==this.layer.type&&this.addAttachHandles(this.layer.on(\"edits\",(e=>this._edit(e))))}detach(){this._commandsQueue.clear(),this._proxy?.stop(),this.container.removeAllChildren(),this.tileRenderer?.uninstall(this.container),this.tileRenderer=null,this._tileStrategy=u(this._tileStrategy),this._tileRendererHash=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}isUpdating(){const e=\"renderer\"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updating,r=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,s=this._pipelineIsUpdating,a=null==this.tileRenderer||this.tileRenderer?.updating,n=e&&(t||r||i||s||a);return has(\"geoscene-2d-log-updating\")&&console.log(`Updating FLV2D (${this.layer.id}): ${n}\\n  -> hasRenderer ${e}\\n  -> hasPendingCommand ${t}\\n  -> updatingRequiredFields ${r}\\n  -> updatingProxy ${i}\\n  -> updatingPipeline ${s}\\n  -> updatingTileRenderer ${a}\\n`),n}_createClientOptions(){return{setUpdating:e=>{this._set(\"_pipelineIsUpdating\",e)},emitEvent:e=>{this.emit(e.name,e.event)}}}async _detectQueryMode(e){const t=\"path\"in e,{layer:r}=this,i=\"editingInfo\"in r&&r.editingInfo?.lastEditDate,s=\"refreshInterval\"in r&&!!r.refreshInterval,a=!i&&s,n=R(r);if(t&&(\"feature\"===r.type||\"subtype-group\"===r.type)&&\"point\"===r.geometryType&&n?.query.supportsPagination&&!n?.operations.supportsEditing&&!a&&has(\"featurelayer-snapshot-enabled\"))try{const e=await r.queryFeatureCount();if(e<=has(\"featurelayer-snapshot-point-min-threshold\"))return{mode:\"snapshot\",featureCount:e};const t=has(\"featurelayer-snapshot-point-max-threshold\"),i=has(\"featurelayer-snapshot-point-coverage\"),s=this.view.extent,a=r.fullExtent,n=a?.clone().intersection(s),o=null!=n?n.width*n.height:0,l=a?.width*a?.height;if(e<=t&&(0===l?0:o/l)>=i)return{mode:\"snapshot\",featureCount:e}}catch(l){o.getLogger(this).warn(\"mapview-feature-layer\",\"Encountered an error when querying for featureCount\",{error:l})}return{mode:\"on-demand\"}}async _createServiceOptions(){const e=this.layer;if(\"stream\"===e.type)return null;const t=R(e),{capabilities:r,objectIdField:i}=e,s=e.fields.map((e=>e.toJSON())),a=null!=e.fullExtent?e.fullExtent.toJSON():null,o=N(e.geometryType),l=\"timeInfo\"in e&&e.timeInfo&&e.timeInfo.toJSON()||null,u=e.spatialReference?e.spatialReference.toJSON():null,d=\"feature\"===e.type?e.globalIdField:null;let h;\"ogc-feature\"===e.type?h=e.source.getSource():M(e.source)?h=await e.source.openPorts():e.parsedUrl&&(h=n(e.parsedUrl),\"dynamicDataSource\"in e&&e.dynamicDataSource&&(h.query={layer:JSON.stringify({source:e.dynamicDataSource})}));const p=\"datesInUnknownTimezone\"in this.layer&&this.layer.datesInUnknownTimezone,c=(\"subtypeField\"in this.layer?this.layer.subtypeField:null)??null,{mode:y,featureCount:g}=await this._detectQueryMode(h);let f=this.layer.objectIdField;if(\"feature\"===this.layer.type&&null!=this.layer.orderBy&&this.layer.orderBy.length){const e=!this.layer.orderBy[0].valueExpression&&this.layer.orderBy[0].field;e&&(f=e)}return{type:y,timeReferenceUnknownClient:p,subtypeField:c,featureCount:g,globalIdField:d,maxRecordCount:r.query.maxRecordCount,tileMaxRecordCount:r.query.tileMaxRecordCount,capabilities:r,effectiveCapabilities:t,fields:s,fullExtent:a,geometryType:o,objectIdField:i,source:h,timeInfo:l,spatialReference:u,orderByFields:f,datesInUnknownTimezone:p,dateFieldsTimeReference:(\"dateFieldsTimeReference\"in this.layer?this.layer.dateFieldsTimeReference?.toJSON():null)||null,preferredTimeReference:(\"preferredTimeReference\"in this.layer?this.layer.preferredTimeReference?.toJSON():null)||null,editFieldsInfo:\"editFieldsInfo\"in this.layer?this.layer.editFieldsInfo?.toJSON():null}}async _createMemoryServiceOptions(e){const t=await e.openPorts();return{...this._createServiceOptions(),type:\"memory\",source:t}}_cleanUpQuery(e){const t=x.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}_cleanUpAggregateQuery(e){const t=x.from(e)||this.createAggregateQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t}async _update(){return this._commandsQueue.push({type:\"update\"})}async _edit(e){if(this.suspended)return void this._clearTiles();return this._validateEdit(e)?this._commandsQueue.push({type:\"edit\",edits:e}):void 0}async doRefresh(e){if(this.attached&&this._tileStrategy.tileKeys().length)return this.suspended&&e?void this._clearTiles():this._commandsQueue.push({type:\"refresh\",dataChanged:e})}_clearTiles(){this._tileStrategy.tileKeys().length&&(this._proxy.updateTiles({added:[],removed:this._tileStrategy.tileKeys()}),this._tileStrategy.clear(),this.requestUpdate(),this._commandsQueue.clear(),this._update())}_validateEdit(e){const t=\"globalIdField\"in this.layer&&this.layer.globalIdField,r=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),i=t&&this.availableFields.includes(t);return r&&!i?(o.getLogger(this).error(new a(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`)),null):e}async _doUpdate(){try{if(this.destroyed||!this._hasRequiredSupport(this.layer)||!this._tileStrategy)return;const{featureEffectView:t,filter:r}=this;if(await this._updateRequiredFields(),this.destroyed)return;const{renderer:i}=this._getEffectiveRenderer();this._set(\"_effectiveRenderer\",i);const s=this._createSchemaConfig(),a=this._createConfiguration(s,r,t.filter),n=this._lastDefinitionExpression!==a.schema.source.definitionExpression;this._lastDefinitionExpression=a.schema.source.definitionExpression;const l=a.schema.tileRenderer,u=this._createTileRendererHash(l);if(\"snapshot\"===this._serviceOptions.type&&(a.schema.source.initialFeatureCount=this._serviceOptions.featureCount),u!==this._tileRendererHash){this._initTileRenderer(l,i);const e=this.layer,t=\"stream\"===e.type?await this._initServiceOptions():this._serviceOptions;this.tileRenderer.onConfigUpdate(i),\"stream\"!==e.type&&M(e.source)&&(t.source=await e.source.openPorts());const r={added:this._tileStrategy.tileKeys(),removed:[]};has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Proxy startup\"),await this._proxy.startup(this.view.featuresTilingScheme,a,t,r),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Finished proxy startup\"),this.hasHighlight()&&(has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Updating highlight\"),await this._proxy.setHighlight(Array.from(this._highlightIds.keys())),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Finished highlight update\")),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: onConfigUpdate start\"),this.tileRenderer.onConfigUpdate(i),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: onConfigUpdate end\")}else{\"snapshot\"===this._serviceOptions.type&&n&&(a.schema.source.changedFeatureCount=await this.layer.queryFeatureCount()),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Updating proxy\");const t=await this._proxy.update(a);has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Finished proxy update\"),(t.mesh||t.targets?.aggregate)&&(has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Locking GPU Uploads\"),this._lockGPUUploads());try{has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Applying update to proxy\"),await this._proxy.applyUpdate(t),has(\"geoscene-2d-update-debug\")&&console.debug(\"FeatureLayerView2D: Finished applying update to proxy\")}catch(e){p(e)||o.getLogger(this).error(e)}(t.mesh||t.targets?.aggregate)&&this._unlockGPUUploads(),this.tileRenderer.onConfigUpdate(i),this._updateClusterSizeVariable(),this._forceAttributeTextureUpload()}this._tileRendererHash=u,this.tileRenderer.invalidateLabels(),this.requestUpdate()}catch(e){}}async _doEdit(e){try{await this._proxy.onEdits(e)}catch(t){p(t),0}}async _doRefresh(e){this._lockGPUUploads();try{let t;e&&\"snapshot\"===this.queryMode&&\"queryFeatureCount\"in this.layer&&(t=await this.layer.queryFeatureCount()),await this._proxy.refresh({dataChanged:e,featureCount:t})}catch(t){p(t),0}this._unlockGPUUploads(),this._effectiveFeatureReduction&&this._updateClusterSizeVariable()}_updateClusterSizeVariable(){this._needsClusterSizeUpdate&&(this.tileRenderer.onConfigUpdate(this._effectiveRenderer),this._needsClusterSizeUpdate=!1)}_createUpdateClusterSizeTask(e,t){return c((()=>this._aggregateValueRanges),(r=>{this._updateClusterEffectiveRendererSizeVariable(e,t,r),this._needsClusterSizeUpdate=!0,this._uploadsLocked||this._updateClusterSizeVariable()}))}async _updateClusterEffectiveRendererSizeVariable(e,t,r){if(e.dynamicClusterSize&&\"visualVariables\"in e&&e.visualVariables){const i=V(e.visualVariables);if(null!=i&&\"cluster_count\"===i.field){const s=e.visualVariables.indexOf(i);e.visualVariables[s]=O(t,r);const a=e.clone();a.dynamicClusterSize=!0,this._set(\"_effectiveRenderer\",a)}}}_getEffectiveRenderer(){const e=this.layer,t=\"renderer\"in e?e.renderer:null,r=this._effectiveFeatureReduction;if(this._updateClusterSizeTask=d(this._updateClusterSizeTask),r&&\"renderer\"in r&&r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated){const e=r.fields;if(\"cluster\"===r.type){const{renderer:t,didInject:i}=E(r.renderer,r,this._aggregateValueRanges);return i&&(this._updateClusterSizeTask=this._createUpdateClusterSizeTask(t,r)),{renderer:t,aggregateFields:e,featureReduction:r}}return{renderer:r.renderer,aggregateFields:e,featureReduction:r}}if(r&&\"cluster\"===r.type&&t&&T(t)){const e=r,i=[],s=j(i,t,e,this._aggregateValueRanges,!0);return this._updateClusterSizeTask=this._createUpdateClusterSizeTask(s,e),{renderer:s,aggregateFields:i,featureReduction:r}}return{renderer:t,aggregateFields:[],featureReduction:null}}_acquireTile(e){const t=this.tileRenderer.acquireTile(e);return t.once(\"attach\",(()=>{this.requestUpdate()})),t}_releaseTile(e){this.tileRenderer.releaseTile(e)}_initTileRenderer(e,t){const r=I(e,{layerView:this,tileInfoView:this.view.featuresTilingScheme,layer:this.layer});return this.tileRenderer&&(this._tileStrategy.clear(),this.tileRenderer.uninstall(this.container),this.tileRenderer=u(this.tileRenderer)),this.destroyed?null:(this._proxy.tileRenderer=r,this._set(\"tileRenderer\",r),this.tileRenderer.install(this.container),this.tileRenderer.onConfigUpdate(t),this.requestUpdate(),this.tileRenderer)}_createTileRendererHash(e){return`${e.type}`}get hasFilter(){const e=!!(\"floorInfo\"in this.layer&&this.layer.floorInfo&&this.view.floors&&this.view.floors.length);return!!this.filter||e||!!this._visibilityOverrides.size||!!this.timeExtent}_injectOverrides(e){const t=null!=e?e.timeExtent:null,r=null!=this.timeExtent&&null!=t?this.timeExtent.intersection(t):this.timeExtent||t;let i=null;const s=\"floorInfo\"in this.layer&&this.layer.floorInfo;if(s){const t=null!=e?e.where:null;i=this._addFloorFilterClause(t)}if(!this._visibilityOverrides.size&&!r&&!s)return null!=e?e.toJSON():null;(e=null!=e&&e.clone()||new v).timeExtent=r,i&&(e.where=i);const a=e.toJSON();return a.hiddenIds=Array.from(this._visibilityOverrides),a}_addFloorFilterClause(e){const t=this.layer;let r=e||\"\";if(\"floorInfo\"in t&&t.floorInfo){let e=this.view.floors;if(!e||!e.length)return r;t.floorInfo.viewAllLevelIds?.length&&(e=t.floorInfo.viewAllLevelIds);const i=e.filter((e=>\"\"!==e)).map((e=>\"'\"+e+\"'\"));i.push(\"''\");const s=t.floorInfo.floorField;let a=\"(\"+s+\" IN ({ids}) OR \"+s+\" IS NULL)\";if(a=a.replace(\"{ids}\",i.join(\", \")),null!=r&&r.includes(s)){let e=new RegExp(\"AND \\\\(\"+s+\".*NULL\\\\)\",\"g\");r=r.replace(e,\"\"),e=new RegExp(\"\\\\(\"+s+\".*NULL\\\\)\",\"g\"),r=r.replace(e,\"\"),r=r.replaceAll(/\\s+/g,\" \").trim()}r=\"\"!==r?\"(\"+r+\") AND \"+a:a}return\"\"!==r?r:null}_createConfiguration(e,t,r){const i=\"feature\"===this.layer.type&&this.layer.historicMoment?this.layer.historicMoment.getTime():void 0,s=\"feature\"===this.layer.type?this.layer.gdbVersion??void 0:void 0,a=new Array(F),n=this._injectOverrides(t);a[0]=n,a[1]=null!=r?r.toJSON():null;const o=C(e);if(null==o)return null;const l=J(\"2d\");return{availableFields:this.availableFields,gdbVersion:s,historicMoment:i,devicePixelRatio:window.devicePixelRatio||1,filters:a,schema:o,supportsTextureFloat:l.supportsTextureFloat,maxTextureSize:l.maxTextureSize}}_hasRequiredSupport(e){return!(\"renderer\"in e)||q(e.renderer)}_lockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!0,this.tileRenderer.lockGPUUploads())}_unlockGPUUploads(){this.tileRenderer&&(this._uploadsLocked=!1,this.tileRenderer.unlockGPUUploads())}_forceAttributeTextureUpload(){this.tileRenderer&&this.tileRenderer.forceAttributeTextureUpload()}_createSchemaConfig(){const e=this.layer;return{renderer:\"renderer\"in e?e.renderer:null,spatialReference:e.spatialReference,timeExtent:\"timeExtent\"in e?e.timeExtent:null,definitionExpression:e.definitionExpression,featureReduction:this._effectiveFeatureReduction,fields:e.fields,geometryType:e.geometryType,historicMoment:\"historicMoment\"in e?e.historicMoment:null,labelsVisible:\"labelsVisible\"in e&&e.labelsVisible,labelingInfo:\"labelingInfo\"in e?e.labelingInfo:null,availableFields:this.availableFields,featureEffect:this.featureEffect,filter:this.filter,gdbVersion:\"gdbVersion\"in e?e.gdbVersion:null,pixelBuffer:0,orderBy:\"orderBy\"in e&&e.orderBy?e.orderBy:null,customParameters:{...\"customParameters\"in e?e.customParameters:void 0,token:\"apiKey\"in e?e.apiKey??void 0:void 0},subtypeCode:\"subtypeCode\"in e?e.subtypeCode:void 0,subtypeField:\"subtypeField\"in e?e.subtypeField:void 0}}_addHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t);this._highlightIds.set(t,e+1)}else this._highlightIds.set(t,1);this._updateHighlight().catch((e=>{p(e)||o.getLogger(this).error(e)}))}_removeHighlight(e){for(const t of e)if(this._highlightIds.has(t)){const e=this._highlightIds.get(t)-1;0===e?this._highlightIds.delete(t):this._highlightIds.set(t,e)}this._updateHighlight().catch((e=>{p(e)||o.getLogger(this).error(e)}))}_setLayersForFeature(e){const t=this.layer;e.layer=t,e.sourceLayer=t}_createGraphicHit(e,t){return this._setLayersForFeature(t),null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:\"graphic\",graphic:t,layer:this.layer,mapPoint:e}}};e([m()],K.prototype,\"_serviceOptions\",void 0),e([m()],K.prototype,\"_proxy\",void 0),e([m()],K.prototype,\"_pipelineIsUpdating\",void 0),e([m()],K.prototype,\"_effectiveRenderer\",void 0),e([m()],K.prototype,\"_effectiveFeatureReduction\",null),e([m()],K.prototype,\"_aggregateValueRanges\",void 0),e([m()],K.prototype,\"_commandsQueue\",void 0),e([m()],K.prototype,\"featureEffectView\",void 0),e([m()],K.prototype,\"labelsVisible\",null),e([m()],K.prototype,\"labelingCollisionInfos\",null),e([m({readOnly:!0})],K.prototype,\"queryMode\",null),e([m()],K.prototype,\"renderingConfigHash\",null),e([m()],K.prototype,\"tileRenderer\",void 0),e([m()],K.prototype,\"updating\",void 0),K=e([_(\"geoscene.views.2d.layers.FeatureLayerView2D\")],K);const W=K;export{W as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";const a=a=>{let c=class extends a{initialize(){this.handles.add(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return r([t()],c.prototype,\"layer\",void 0),c=r([i(\"geoscene.layers.mixins.RefreshableLayerView\")],c),c};export{a as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const t=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:u}=p,{objectIdField:d,typeIdField:i,globalIdField:s,relationships:a}=n;if(t.includes(\"*\"))return[\"*\"];const o=u?await e(n):[],f=l(n.fieldsIndex,[...t,...o]);return i&&f.push(i),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&s&&n.fieldsIndex?.has(s)&&!f.includes(s)&&f.push(s),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function t(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,t as hasPopupTemplate};"],"names":["t","constructor","this","size","_start","maxSize","_buffer","Array","entries","enqueue","s","dequeue","peek","find","clear","o","n","layer","floorInfo","floorField","view","l","floors","length","filter","map","push","join","r","i","a","m","super","bitmap","e","coordScale","once","ready","destroy","beforeRender","afterRender","stencilRef","_createTransforms","dvs","tileMat3","setTransform","transforms","onAttach","stage","onDetach","requiresDedicatedFBO","children","some","blendFunction","createTile","_tileInfoView","getTileBounds","getTileResolution","level","tileInfo","prepareRenderPasses","registerRenderPass","name","brushes","target","drawPhase","MAP","doRender","visible","value","v","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","getSizeVVFieldStops","_vvSizeFieldStops","type","levels","parseFloat","Math","abs","sizes","values","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","u","color","colors","c","opacity","opacities","h","rotation","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","forEach","removeAllChildren","setRendererInfo","requestRender","getMaterialItems","items","abortOptions","resolver","promise","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","updateTransforms","hasData","createRenderParams","rendererInfo","painter","pixelRatio","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","reject","id","mosaicItem","resolve","has","_array","_pool","array","create","acquire","expand","release","slice","byteLength","_data","ArrayBuffer","BYTE_LENGTH","_freeList","start","end","buffer","allocate","firstFit","Uint32Array","BYTES_PER_ELEMENT","free","byteOffset","_bytesAllocated","_pages","_pagesByBuffer","Map","_addPage","_bytesTotal","console","log","get","key","row","col","sortChildren","setStencilReference","requiredLevel","getClosestInfoForScale","displayLevel","scaleToZoom","DEBUG","HIGHLIGHT","getStencilTarget","p","arguments","isAggregate","getEffectivePopupTemplate","popupTemplate","sourceLayer","featureReduction","popupEnabled","getObjectId","attributes","aggregateId","Boolean","prototype","_filter","duration","_excludedEffectView","f","_includedEffectView","excludedEffects","effects","featureEffect","_get","_transitionTo","hasEffects","includedEffects","_set","transitioning","transitionStep","endTransitions","includedEffect","excludedEffect","canTransitionTo","effect","features","readFeatures","fromJSON","geometry","aggregateGeometries","json","write","tiles","layerView","tileInfoView","updating","isUpdating","acquireTile","notifyChange","forceAttributeTextureUpload","forEachTile","releaseTile","delete","disposeTile","isReady","updateStatus","setHighlight","invalidateLabels","requestUpdate","gradient","height","intensities","width","render","minDensity","maxDensity","_intensityInfo","featuresView","initialize","_container","getTileCoords","onConfigUpdate","renderer","colorStops","_gradient","source","invalidateTexture","hitTest","install","addChild","uninstall","removeChild","supportsRenderer","onTileData","tileKey","intensityInfo","matrix","onTileError","error","lockGPUUploads","unlockGPUUploads","fetchResource","_savedCursor","_savedOffset","_head","_cursor","from","baseZoom","anchorX","anchorY","directionX","directionY","materialKey","boundsCount","computedMinZoom","setComputedMinZoom","boundsComputedAnchorX","boundsComputedAnchorY","setBoundsComputedAnchorX","setBoundsComputedAnchorY","boundsX","boundsY","boundsWidth","boundsHeight","link","getCursor","copy","_link","peekId","nextId","next","save","_offset","restore","lookup","isEmpty","_count","_deletedCount","_offsets","instance","count","_computeCount","d","strideInt","bufferType","dirty","_gpu","_cpu","elementSize","invalidated","bufferSize","invalidatedComputeBuffer","_gpuComputeTriangles","invalidate","_invalidateTriangleBuffer","dispose","_cpu2","freeList","fillPointer","ensure","maxAvailableSpace","round","min","max","getGPUBuffer","Error","_createComputeBuffer","_createBuffer","getCPUBuffer","insert","upload","setSubData","DYNAMIC_DRAW","createIndex","createVertex","_vaos","_indicesInvalid","geometryType","_stage","disposeVAOOnly","_indexBuffer","_vertexBuffer","records","_records","stride","indices","vertices","indexFrom","vertexFrom","_displayList","addRecord","bufferPool","remove","indexCount","vertexCount","getVAO","forEachCommand","_sortIndices","_cursorIndexOrder","index","sortKey","sort","seekIndex","instanceId","patchCount","_renderState","current","metrics","swap","swapFrames","locked","_patches","_bufferPatches","_lastCommitTime","labelMat2d","_store","_requestLabelUpdate","labelMetrics","getGeometry","patch","_dropPatches","addOrUpdate","tileKeyOrigin","time","_updateMesh","_updateBufferMesh","_swapRenderStates","lock","unlock","_flushUpdates","_swap","_patchBuffer","data","debug","_patch","_remove","_insert","version","LABEL","_insertLabelMetrics","_removeLabelMetrics","_hitTestsRequests","_layer","_layerView","_onUpdate","hasAnimation","integrate","draw","hasEmptyAttributeView","x","y","resolvers","orderBy","valueExpression","field","orderByFields","contains","updateTransitionProperties","featureEffectView","minScale","maxScale","effectiveScaleRange","hasLabels","labelManager","dotSize","sublayers","labelingInfo","labelsVisible","label","LABEL_ALPHA","fill","dotDensity","line","heatmap","pieChart","forceDrawByDisplayOrder","enableDefaultDraw","apply","outsideEffect","args","insideEffect","hittest","marker","text","highlight","hasHighlight","url","resourceManager","signal","includes","visualVariables","clone","normalizationField","forceTextureUpload","lockTextureUpload","unlockTextureUpload","globalId","objectId","Set","add","_hasGlobalIds","_notifyUpdating","normalizeCtorArgs","_queueProcessor","concurrency","process","last","popLast","_mergeEdits","addedFeatures","deletedFeatures","updatedFeatures","edits","addOrModified","removed","readOnly","isArray","_startupResolver","_controller","AbortController","addResolvingPromise","_startWorker","abort","_connection","close","tileRenderer","client","closed","startup","when","transferList","service","config","toJSON","invoke","updateTiles","applyUpdate","stop","refresh","querySummaryStatistics","query","params","queryAggregateSummaryStatistics","queryUniqueValues","queryAggregateUniqueValues","queryClassBreaks","queryAggregateClassBreaks","queryHistogram","queryAggregateHistogram","queryFeatures","queryVisibleFeatures","queryObjectIds","queryFeatureCount","queryExtent","queryLatestObservations","queryStatistics","queryAggregates","queryAggregateCount","queryAggregateIds","getDisplayId","getFeatures","getAggregates","getAggregateValueRanges","mapValidDisplayIds","onEdits","enableEvent","pauseStream","resumeStream","sendMessageToSocket","sendMessageToClient","updateCustomParameters","strategy","constructOnly","PI","transformationType","Additive","Constant","ClampedLinear","Proportional","Stops","RealWorldSize","Identity","Unknown","cache","ipData","valueUnit","valueRepresentation","sqrt","_tiles","_releaseTile","tileKeys","getTileCoverage","spans","lodInfo","colFrom","colTo","getId","normalizeCol","getWorldForColumn","_getOrAcquireTile","_addPlaceholders","pool","hasMissingTiles","added","_getTile","_addPlaceholderChildren","_addPlaceholderParent","_addPlaceholderChild","getParentKey","q","P","getLogger","_","_updatingRequiredFieldsPromise","timeExtent","requiredFields","handles","elevationInfo","featureExpressionInfo","displayField","timeInfo","_handleRequiredFieldsChange","availableFields","fieldsIndex","outFields","_override","maximumNumberOfFeatures","maximumNumberOfFeaturesExceeded","createQuery","returnGeometry","outSpatialReference","I","where","intersection","createAggregateQuery","fetchPopupFeatures","validateFetchPopupFeatures","fetchClientPopupFeatures","_loadArcadeModules","content","_updateRequiredFields","objectIdField","collectRequiredFields","F","g","w","startField","endField","infoFor3D","globalIdField","E","subtypeField","clientGraphics","R","createPopupQuery","arcadeUtils","hasGeometryOperations","b","graphic","objectIds","keys","j","returnZ","returnM","canResume","Number","M","B","deconflictionStrategy","$","Q","G","K","H","z","U","_pipelineIsUpdating","_commandsQueue","A","_doEdit","_doRefresh","dataChanged","_doUpdate","_visibilityOverrides","_highlightIds","_updateHighlight","async","_proxy","_uploadsLocked","_needsClusterSizeUpdate","_lastDefinitionExpression","_updateClusterSizeTask","_initProxy","_initServiceOptions","addHandles","on","valueRanges","isTable","operations","supportsQuery","_createClientOptions","L","_createServiceOptions","_serviceOptions","_effectiveFeatureReduction","suspended","labelingCollisionInfos","vvEvaluators","deconflictionEnabled","queryMode","renderingConfigHash","definitionExpression","gdbVersion","historicMoment","getTime","JSON","stringify","customParameters","apiKey","geometryDefinition","clips","reduce","subtypeCode","sublayerHash","filterHash","effectHash","streamFilter","clipsHash","isCollection","toArray","_addHighlight","_removeHighlight","aggregates","_createGraphicHit","_cleanUpQuery","_cleanUpAggregateQuery","queryFeaturesJSON","_setLayersForFeature","S","queryAggregateJSON","extent","D","setVisibility","_update","_tileStrategy","attach","timeline","record","title","k","_acquireTile","featuresTilingScheme","addAttachHandles","_edit","detach","container","_tileRendererHash","moveStart","viewChange","moveEnd","setUpdating","emitEvent","emit","event","_detectQueryMode","editingInfo","lastEditDate","refreshInterval","supportsPagination","supportsEditing","mode","featureCount","fullExtent","warn","fields","N","getSource","openPorts","parsedUrl","dynamicDataSource","datesInUnknownTimezone","timeReferenceUnknownClient","maxRecordCount","tileMaxRecordCount","effectiveCapabilities","dateFieldsTimeReference","preferredTimeReference","editFieldsInfo","_createMemoryServiceOptions","_validateEdit","_clearTiles","doRefresh","attached","destroyed","_hasRequiredSupport","_getEffectiveRenderer","_createSchemaConfig","_createConfiguration","schema","_createTileRendererHash","initialFeatureCount","_initTileRenderer","changedFeatureCount","mesh","targets","aggregate","_lockGPUUploads","_unlockGPUUploads","_updateClusterSizeVariable","_forceAttributeTextureUpload","_effectiveRenderer","_createUpdateClusterSizeTask","_aggregateValueRanges","_updateClusterEffectiveRendererSizeVariable","dynamicClusterSize","V","indexOf","O","authoringInfo","isAutoGenerated","didInject","aggregateFields","T","hasFilter","_injectOverrides","_addFloorFilterClause","hiddenIds","viewAllLevelIds","replace","RegExp","replaceAll","trim","C","J","devicePixelRatio","window","filters","maxTextureSize","pixelBuffer","token","catch","mapPoint","W","getRequiredFields","lastEditInfoEnabled","typeIdField","relationships","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate"],"sourceRoot":""}