"use strict";(self["webpackChunksun_glare_project"]=self["webpackChunksun_glare_project"]||[]).push([[1312],{32066:function(e,t,n){n.d(t,{Ib:function(){return s},N3:function(){return o},Om:function(){return r}});class r{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const e=new r(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}}function o(e){return!(null==e.geometry||!e.geometry.coords||!e.geometry.coords.length)}class s extends r{}},83412:function(e,t,n){n.d(t,{A:function(){return r}});class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},47086:function(e,t,n){n.d(t,{A:function(){return r}});class r{constructor(e=[],t=[],n=!1){this.lengths=e??[],this.coords=t??[],this.hasIndeterminateRingOrder=n}static fromRect(e){const[t,n,o,s]=e,u=o-t,i=s-n;return new r([5],[t,n,u,0,0,i,-u,0,0,-i])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}clone(e){return e?(e.set(this.coords),new r(this.lengths.slice(),e,this.hasIndeterminateRingOrder)):new r(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},41312:function(e,t,n){n.d(t,{Ap:function(){return S},B2:function(){return G},BW:function(){return _},Ch:function(){return ge},DF:function(){return M},Di:function(){return W},E2:function(){return K},IE:function(){return w},Nl:function(){return ce},Q4:function(){return me},Rk:function(){return pe},Ux:function(){return te},X9:function(){return J},Ye:function(){return X},ZF:function(){return se},eU:function(){return D},eY:function(){return ie},jH:function(){return le},jQ:function(){return de},kz:function(){return fe},oN:function(){return ee},q3:function(){return ue},qK:function(){return L},qN:function(){return O},z5:function(){return $},zv:function(){return ne}});n(44114);var r=n(47966),o=n(15114),s=n(79908),u=n(32604),i=n(99359),l=n(55772),c=n(32066),f=n(83412),h=n(47086);function a(e,t){return e?t?4:3:t?3:2}const d=o.A.getLogger("geoscene.layers.graphics.featureConversionUtils"),g={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},m=(e,t,n,r,o,s)=>{e[n]=o,e[n+1]=s},y=(e,t,n,r,o,s)=>{e[n]=o,e[n+1]=s,e[n+2]=t[r+2]},p=(e,t,n,r,o,s)=>{e[n]=o,e[n+1]=s,e[n+2]=t[r+3]},b=(e,t,n,r,o,s)=>{e[n]=o,e[n+1]=s,e[n+2]=t[r+2],e[n+3]=t[r+3]};function I(e,t,n,r){if(e){if(n)return t&&r?b:y;if(t&&r)return p}else if(t&&r)return y;return m}function w({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function G({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function N({scale:e,translate:t},n,r){return n*e[r]+t[r]}function M(e,t,n){return e?t?n?Z(e):P(e):n?k(e):T(e):null}function T(e){const t=e.coords;return{x:t[0],y:t[1]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function A(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function k(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function x(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function Z(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function j(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function q(e,t,n,r){let o=T;n&&r?o=Z:n?o=P:r&&(o=k);for(const s of t){const{geometry:t,attributes:n}=s,r=null!=t?o(t):null;e.push({attributes:n,geometry:r})}return e}function v(e,t){return e&&t?j:e?A:t?x:F}function R(e,t,n,r,o){const s=v(n,r);for(const{geometry:u,attributes:i}of t){const t=null!=u?s(new h.A,u):null;e.push(new c.Om(t,i,null,o?i[o]:void 0))}return e}function O(e,t,n=v(null!=t.z,null!=t.m)){return n(e,t)}function z(e,t,n,r){for(const{geometry:o,attributes:s}of t)e.push({attributes:s,geometry:null!=o?L(o,n,r):null});return e}function L(e,t,n){if(null==e)return null;const r=a(t,n),o=[];for(let s=0;s<e.coords.length;s+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[s+n]);o.push(t)}return t?n?{points:o,hasZ:t,hasM:n}:{points:o,hasZ:t}:n?{points:o,hasM:n}:{points:o}}function E(e,t,n,r,o){const s=a(n,r);for(const{geometry:u,attributes:i}of t){const t=null!=u?U(new h.A,u,s):null;e.push(new c.Om(t,i,null,o?i[o]:void 0))}return e}function U(e,t,n=a(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let o=0;for(const s of t.points)for(let e=0;e<n;e++)r[o++]=s[e];return e}function Y(e,t,n,r){for(const{geometry:o,attributes:s}of t)e.push({attributes:s,geometry:null!=o?_(o,n,r):null});return e}function _(e,t,n){if(!e)return null;const r=a(t,n),{coords:o,lengths:s}=e,u=[];let i=0;for(const l of s){const e=[];for(let t=0;t<l;t++){const t=[];for(let e=0;e<r;e++)t.push(o[i++]);e.push(t)}u.push(e)}return t?n?{paths:u,hasZ:t,hasM:n}:{paths:u,hasZ:t}:n?{paths:u,hasM:n}:{paths:u}}function C(e,t,n,r,o){const s=a(n,r);for(const{geometry:u,attributes:i}of t){const t=null!=u?S(new h.A,u,s):null;e.push(new c.Om(t,i,null,o?i[o]:void 0))}return e}function S(e,t,n=a(t.hasZ,t.hasM)){const{lengths:r,coords:o}=e;let s=0;for(const u of t.paths){for(const e of u)for(let t=0;t<n;t++)o[s++]=e[t];r.push(u.length)}return e}function V(e,t,n,r){for(const{geometry:o,attributes:s,centroid:u}of t){const t=null!=o?$(o,n,r):null;if(null!=u){const n=T(u);e.push({attributes:s,centroid:n,geometry:t})}else e.push({attributes:s,geometry:t})}return e}function $(e,t,n){if(!e)return null;const r=a(t,n),{coords:o,lengths:s}=e,u=[];let i=0;for(const l of s){const e=[];for(let t=0;t<l;t++){const t=[];for(let e=0;e<r;e++)t.push(o[i++]);e.push(t)}u.push(e)}return t?n?{rings:u,hasZ:t,hasM:n}:{rings:u,hasZ:t}:n?{rings:u,hasM:n}:{rings:u}}function B(e,t,n,r,o){for(const{geometry:s,centroid:u,attributes:i}of t){const t=null!=s?X(new h.A,s,n,r):null,l=o?i[o]:void 0;null!=u?e.push(new c.Om(t,i,F(new h.A,u),l)):e.push(new c.Om(t,i,null,l))}return e}function X(e,t,n=t.hasZ,r=t.hasM){return D(e,t.rings,n,r)}function D(e,t,n,r){const o=a(n,r),{lengths:s,coords:u}=e;let i=0;be(e);for(const l of t){for(const e of l)for(let t=0;t<o;t++)u[i++]=e[t];s.push(l.length)}return e}const Q=[],H=[];function K(e,t,n,r,o){Q[0]=e;const[s]=W(H,Q,t,n,r,o);return Ie(Q),Ie(H),s}function W(e,t,n,o,s,u){if(Ie(e),!n){for(const n of t){const t=u?n.attributes[u]:void 0;e.push(new c.Om(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return R(e,t,o,s,u);case"esriGeometryMultipoint":return E(e,t,o,s,u);case"esriGeometryPolyline":return C(e,t,o,s,u);case"esriGeometryPolygon":return B(e,t,o,s,u);default:d.error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`)),Ie(e)}return e}function J(e,t,n,o,s,u){const i=e.length;switch(n){case"esriGeometryPoint":R(e,t,o,s,u);break;case"esriGeometryMultipoint":E(e,t,o,s,u);break;case"esriGeometryPolyline":C(e,t,o,s,u);break;case"esriGeometryPolygon":B(e,t,o,s,u);break;default:d.error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`))}for(let r=0;r<t.length;r++)e[r+i].geometryType=n,e[r+i].insertAfter=t[r].insertAfter,e[r+i].groupId=t[r].groupId;return e}function ee(e,t,n,r){H[0]=e,oe(Q,H,t,n,r);const o=Q[0];return Ie(Q),Ie(H),o}function te(e,t,n){if(null==e)return null;const o=new h.A;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),(0,l.fT)(e)?v(null!=t?t:null!=e.z,null!=n?n:null!=e.m)(o,e):(0,l.Bi)(e)?X(o,e,t,n):(0,l.Rg)(e)?S(o,e,a(t,n)):(0,l.U9)(e)?U(o,e,a(t,n)):void d.error("convertFromGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${e}'`))}function ne(e,t,n,o){const s=e&&("coords"in e?e:e.geometry);if(null==s)return null;switch(t){case"esriGeometryPoint":{let e=T;return n&&o?e=Z:n?e=P:o&&(e=k),e(s)}case"esriGeometryMultipoint":return L(s,n,o);case"esriGeometryPolyline":return _(s,n,o);case"esriGeometryPolygon":return $(s,n,o);default:return d.error("convertToGeometry:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${t}'`)),null}}function re(e,t){for(const n of t)e.push({attributes:n.attributes});return e}function oe(e,t,n,o,s){if(Ie(e),null==n)return re(e,t);switch(n){case"esriGeometryPoint":return q(e,t,o,s);case"esriGeometryMultipoint":return z(e,t,o,s);case"esriGeometryPolyline":return Y(e,t,o,s);case"esriGeometryPolygon":return V(e,t,o,s);default:d.error("convertToFeatureSet:unknown-geometry",new r.A(`Unable to parse unknown geometry type '${n}'`))}return e}function se(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:o,hasM:s,hasZ:u,features:i,geometryType:l,exceededTransferLimit:c,uniqueIdField:f,queryGeometry:h,queryGeometryType:a}=e,d={features:oe([],i,l,u,s),fields:o,geometryType:l,objectIdFieldName:t,spatialReference:n,uniqueIdField:f,queryGeometry:ne(h,a,!1,!1)};return r&&(d.transform=r),c&&(d.exceededTransferLimit=c),s&&(d.hasM=s),u&&(d.hasZ=u),d}function ue(e,t){const n=new f.A,{hasM:o,hasZ:s,features:u,objectIdFieldName:i,spatialReference:l,geometryType:c,exceededTransferLimit:h,transform:a,fields:g}=e;return g&&(n.fields=g),n.geometryType=c??null,n.objectIdFieldName=i??t??null,n.spatialReference=l??null,n.objectIdFieldName?(u&&W(n.features,u,c,s,o,n.objectIdFieldName),h&&(n.exceededTransferLimit=h),o&&(n.hasM=o),s&&(n.hasZ=s),a&&(n.transform=a),n):(d.error(new r.A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function ie(e){const{transform:t,features:n,hasM:r,hasZ:o}=e;if(!t)return e;for(const s of n)null!=s.geometry&&ge(s.geometry,s.geometry,r,o,t),null!=s.centroid&&ge(s.centroid,s.centroid,r,o,t);return e.transform=null,e}function le(e,t){const{geometryType:n,features:r,hasM:o,hasZ:s}=t;if(!e)return t;for(let u=0;u<r.length;u++){const t=r[u],i=t.weakClone();i.geometry=new h.A,ce(i.geometry,t.geometry,o,s,n,e),t.centroid&&(i.centroid=new h.A,ce(i.centroid,t.centroid,o,s,"esriGeometryPoint",e)),r[u]=i}return t.transform=e,t}function ce(e,t,n,r,o,s,u=n,i=r){if(be(e),null==t||!t.coords.length)return null;const l=g[o],{coords:c,lengths:f}=t,h=a(n,r),d=a(n&&u,r&&i),m=I(n,r,u,i);if(!f.length)return m(e.coords,c,0,0,w(s,c[0]),G(s,c[1])),be(e,h,0),e;let y,p,b,N,M=0,T=0,F=T;for(const a of f){if(a<l)continue;let t=0;T=F,b=y=w(s,c[M]),N=p=G(s,c[M+1]),m(e.coords,c,T,M,b,N),t++,M+=h,T+=d;for(let n=1;n<a;n++,M+=h)b=w(s,c[M]),N=G(s,c[M+1]),b===y&&N===p||(m(e.coords,c,T,M,b-y,N-p),T+=d,t++,y=b,p=N);t>=l&&(e.lengths.push(t),F=T)}return Ie(e.coords,F),e.coords.length?e:null}function fe(e,t,n,r,o,s,u=n,i=r){if(be(e),!t||!t.coords.length)return null;const l=g[o],{coords:c,lengths:f}=t,h=a(n,r),d=a(n&&u,r&&i),m=I(n,r,u,i);if(!f.length)return m(e.coords,c,0,0,c[0],c[1]),be(e,h,0),e;let y=0;const p=s*s;for(const a of f){if(a<l){y+=a*h;continue}const t=e.coords.length/d,n=y,r=y+(a-1)*h;m(e.coords,c,e.coords.length,n,c[n],c[n+1]),ae(e.coords,c,h,p,m,n,r),m(e.coords,c,e.coords.length,r,c[r],c[r+1]);const o=e.coords.length/d-t;o>=l?e.lengths.push(o):Ie(e.coords,t*d),y+=a*h}return e.coords.length?e:null}function he(e,t,n,r){const o=e[t],s=e[t+1],u=e[n],i=e[n+1],l=e[r],c=e[r+1];let f=u,h=i,a=l-f,d=c-h;if(0!==a||0!==d){const e=((o-f)*a+(s-h)*d)/(a*a+d*d);e>1?(f=l,h=c):e>0&&(f+=a*e,h+=d*e)}return a=o-f,d=s-h,a*a+d*d}function ae(e,t,n,r,o,s,u){let i,l=r,c=0;for(let f=s+n;f<u;f+=n)i=he(t,f,s,u),i>l&&(c=f,l=i);l>r&&(c-s>n&&ae(e,t,n,r,o,s,c),o(e,t,e.length,c,t[c],t[c+1]),u-c>n&&ae(e,t,n,r,o,c,u))}function de(e,t,n,r){if(null==t||!t.coords||!t.coords.length)return null;const o=a(n,r);let s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=o){const n=e[t],r=e[t+1];s=Math.min(s,n),c=Math.max(c,n),l=Math.min(l,r),f=Math.max(f,r)}}return(0,u.is)(e)?(0,u.BI)(e,s,l,c,f):(0,i.fA)(s,l,c,f,e),e}function ge(e,t,n,r,o){const{coords:u,lengths:i}=t,l=a(n,r);if(!u.length)return e!==t&&be(e),e;(0,s.Lw)(o);const{originPosition:c,scale:f,translate:h}=o,d=we;d.originPosition=c;const g=d.scale;g[0]=f[0]??1,g[1]=-(f[1]??1),g[2]=f[2]??1,g[3]=f[3]??1;const m=d.translate;if(m[0]=h[0]??0,m[1]=h[1]??0,m[2]=h[2]??0,m[3]=h[3]??0,!i.length){for(let t=0;t<l;++t)e.coords[t]=N(d,u[t],t);return e!==t&&be(e,l,0),e}let y=0;for(let s=0;s<i.length;s++){const t=i[s];e.lengths[s]=t;for(let o=0;o<l;++o)e.coords[y+o]=N(d,u[y+o],o);let n=e.coords[y],r=e.coords[y+1];y+=l;for(let o=1;o<t;o++,y+=l){n+=u[y]*g[0],r+=u[y+1]*g[1],e.coords[y]=n,e.coords[y+1]=r;for(let t=2;t<l;++t)e.coords[y+t]=N(d,u[y+t],t)}}return e!==t&&be(e,u.length,i.length),e}function me(e,t,n,r,o,s){if(be(e),e.lengths.push(...t.lengths),n===o&&r===s)for(let u=0;u<t.coords.length;u++)e.coords.push(t.coords[u]);else{const u=a(n,r),i=I(n,r,o,s),l=t.coords;for(let t=0;t<l.length;t+=u)i(e.coords,l,e.coords.length,t,l[t],l[t+1])}return e}function ye(e,t,n,r){let o=0,s=e[r*t],u=e[r*(t+1)];for(let i=1;i<n;i++){const n=s+e[r*(t+i)],l=u+e[r*(t+i)+1],c=(n-s)*(l+u);s=n,u=l,o+=c}return.5*o}function pe(e,t){const{coords:n,lengths:r}=e;let o=0,s=0;for(let u=0;u<r.length;u++){const e=r[u];s+=ye(n,o,e,t),o+=e}return Math.abs(s)}function be(e,t=0,n=0){Ie(e.lengths,n),Ie(e.coords,t)}function Ie(e,t=0){e.length!==t&&(e.length=t)}const we={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}}}]);
//# sourceMappingURL=1312.df437e86.js.map