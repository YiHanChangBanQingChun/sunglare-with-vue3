{"version":3,"file":"js/2232.810191b9.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/fetchService.js","webpack://sun-glare-project/./node_modules/@geoscene/core/portal/support/featureCollectionUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/layersCreator.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/lazyLayerLoader.js","webpack://sun-glare-project/./node_modules/@geoscene/core/portal/support/jsonContext.js","webpack://sun-glare-project/./node_modules/@geoscene/core/portal/support/layersLoader.js","webpack://sun-glare-project/./node_modules/@geoscene/core/portal/support/portalLayers.js","webpack://sun-glare-project/./node_modules/@geoscene/core/support/requestPresets.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{fetchArcGISServiceJSON as e}from\"../../support/requestPresets.js\";async function r(r,s){const a=await e(r,s);a.layers=a.layers.filter(t);const n={serviceJSON:a};if((a.currentVersion??0)<10.5)return n;const i=await e(r+\"/layers\",s);return n.layersJSON={layers:i.layers.filter(t),tables:i.tables},n}function t(e){return!e.type||\"Feature Layer\"===e.type}export{r as fetchFeatureService};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction e(e){return t(e,\"notes\")}function r(e){return t(e,\"markup\")}function n(e){return t(e,\"route\")}function t(e,r){return!(!e.layerType||\"ArcGISFeatureLayer\"!==e.layerType)&&e.featureCollectionType===r}export{e as isMapNotesLayer,r as isMarkupLayer,n as isRouteLayer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import{eachAlways as r}from\"../../core/promiseUtils.js\";import{layerLookupMap as a}from\"./lazyLayerLoader.js\";import y from\"../../portal/PortalItem.js\";import{isMapNotesLayer as t,isMarkupLayer as i,isRouteLayer as L}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as n}from\"../../portal/support/portalLayers.js\";import{loadStyleRenderer as o}from\"../../renderers/support/styleUtils.js\";async function c(e,a,y){if(!a)return;const t=[];for(const r of a){const e=f(r,y);\"GroupLayer\"===r.layerType?t.push(b(e,r,y)):t.push(e)}const i=await r(t);for(const r of i)r.value&&e.add(r.value)}const l={ArcGISDimensionLayer:\"DimensionLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",GeoJSON:\"GeoJSONLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\",Voxel:\"VoxelLayer\",LineOfSightLayer:\"LineOfSightLayer\"},s={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},p={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISAnnotationLayer:\"UnsupportedLayer\",ArcGISDimensionLayer:\"UnsupportedLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",CSV:\"CSVLayer\",DefaultTileLayer:\"TileLayer\",GeoRSS:\"GeoRSSLayer\",GeoJSON:\"GeoJSONLayer\",GroupLayer:\"GroupLayer\",KML:\"KMLLayer\",MediaLayer:\"MediaLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",OrientedImageryLayer:\"OrientedImageryLayer\",SubtypeGroupLayer:\"SubtypeGroupLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",WebTiledLayer:\"WebTileLayer\"},u={ArcGISFeatureLayer:\"FeatureLayer\"},d={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"},I={...S,LinkChartLayer:\"LinkChartLayer\"},m={...u},T={...d};async function f(e,r){return g(await G(e,r),e,r)}async function g(e,r,a){const y=new e;return y.read(r,a.context),\"group\"===y.type&&M(r)&&await w(y,r,a.context),await o(y,a.context),y}async function G(e,r){const o=r.context,c=v(o);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const s=c[l];let p=s?a[s]:a.UnknownLayer;if(A(e)){const r=o?.portal;if(e.itemId){const t=new y({id:e.itemId,portal:r});await t.load();const i=(await n(t)).className||\"UnknownLayer\";p=a[i]}}else\"ArcGISFeatureLayer\"===l?t(e)||i(e)?p=a.MapNotesLayer:L(e)?p=a.RouteLayer:M(e)&&(p=a.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?p=a.WMTSLayer:\"WFS\"===l&&\"2.0.0\"!==e.wfsInfo?.version&&(p=a.UnsupportedLayer);return p()}function M(e){if(\"ArcGISFeatureLayer\"!==e.layerType||A(e))return!1;return(e.featureCollection?.layers?.length??0)>1}function A(e){return\"Feature Collection\"===e.type}function v(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=p;break;case\"ground\":r=s;break;default:r=l}break;case\"link-chart\":switch(e.layerContainerType){case\"basemap\":r=T;break;case\"tables\":r=m;break;default:r=I}break;default:switch(e.layerContainerType){case\"basemap\":r=d;break;case\"tables\":r=u;break;default:r=S}}return r}async function b(r,a,y){const t=new e,i=c(t,Array.isArray(a.layers)?a.layers:[],y);try{const e=await r;try{if(await i,\"group\"===e.type)return e.layers.addMany(t),e}catch(L){e.destroy();for(const e of t)e.destroy();throw L}}catch(L){throw L}}async function w(e,r,y){const t=a.FeatureLayer,i=await t(),L=r.featureCollection,n=L?.showLegend,o=L?.layers?.map(((a,t)=>{const L=new i;L.read(a,y);const o={...y,ignoreDefaults:!0};return L.read({id:`${e.id}-sublayer-${t}`,visibility:r.visibleLayers?.includes(t)??!0},o),null!=n&&L.read({showLegend:n},o),L}));e.layers.addMany(o??[])}export{c as populateOperationalLayers};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst a={BingMapsLayer:async()=>(await import(\"../BingMapsLayer.js\")).default,BuildingSceneLayer:async()=>(await import(\"../BuildingSceneLayer.js\")).default,CSVLayer:async()=>(await import(\"../CSVLayer.js\")).default,DimensionLayer:async()=>(await import(\"../DimensionLayer.js\")).default,ElevationLayer:async()=>(await import(\"../ElevationLayer.js\")).default,FeatureLayer:async()=>(await import(\"../FeatureLayer.js\")).default,GeoJSONLayer:async()=>(await import(\"../GeoJSONLayer.js\")).default,GeoRSSLayer:async()=>(await import(\"../GeoRSSLayer.js\")).default,GroupLayer:async()=>(await import(\"../GroupLayer.js\")).default,ImageryLayer:async()=>(await import(\"../ImageryLayer.js\")).default,ImageryTileLayer:async()=>(await import(\"../ImageryTileLayer.js\")).default,IntegratedMeshLayer:async()=>(await import(\"../IntegratedMeshLayer.js\")).default,KMLLayer:async()=>(await import(\"../KMLLayer.js\")).default,LineOfSightLayer:async()=>(await import(\"../LineOfSightLayer.js\")).default,LinkChartLayer:async()=>(await import(\"../LinkChartLayer.js\")).default,MapImageLayer:async()=>(await import(\"../MapImageLayer.js\")).default,MapNotesLayer:async()=>(await import(\"../MapNotesLayer.js\")).default,MediaLayer:async()=>(await import(\"../MediaLayer.js\")).default,OGCFeatureLayer:async()=>(await import(\"../OGCFeatureLayer.js\")).default,OpenStreetMapLayer:async()=>(await import(\"../OpenStreetMapLayer.js\")).default,OrientedImageryLayer:async()=>(await import(\"../OrientedImageryLayer.js\")).default,PointCloudLayer:async()=>(await import(\"../PointCloudLayer.js\")).default,RouteLayer:async()=>(await import(\"../RouteLayer.js\")).default,SceneLayer:async()=>(await import(\"../SceneLayer.js\")).default,StreamLayer:async()=>(await import(\"../StreamLayer.js\")).default,SubtypeGroupLayer:async()=>(await import(\"../SubtypeGroupLayer.js\")).default,TileLayer:async()=>(await import(\"../TileLayer.js\")).default,UnknownLayer:async()=>(await import(\"../UnknownLayer.js\")).default,UnsupportedLayer:async()=>(await import(\"../UnsupportedLayer.js\")).default,VectorTileLayer:async()=>(await import(\"../VectorTileLayer.js\")).default,VoxelLayer:async()=>(await import(\"../VoxelLayer.js\")).default,WFSLayer:async()=>(await import(\"../WFSLayer.js\")).default,WMSLayer:async()=>(await import(\"../WMSLayer.js\")).default,WMTSLayer:async()=>(await import(\"../WMTSLayer.js\")).default,WebTileLayer:async()=>(await import(\"../WebTileLayer.js\")).default};export{a as layerLookupMap};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{urlToObject as r}from\"../../core/urlUtils.js\";import t from\"../Portal.js\";function e(e){return{origin:\"portal-item\",url:r(e.itemUrl),portal:e.portal||t.getDefault(),portalItem:e,readResourcePaths:[]}}function o(e){return{origin:\"portal-item\",messages:[],writtenProperties:[],url:e.itemUrl?r(e.itemUrl):null,portal:e.portal||t.getDefault(),portalItem:e}}export{e as createForItemRead,o as createForItemWrite};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../core/Error.js\";import t from\"../../layers/Layer.js\";import{isArcGISUrl as r}from\"../../layers/support/arcgisLayerUrl.js\";import{fetchFeatureService as a}from\"../../layers/support/fetchService.js\";import n from\"../Portal.js\";import o from\"../PortalItem.js\";import{createForItemRead as l}from\"./jsonContext.js\";import{hasTypeKeyword as s}from\"./portalItemUtils.js\";import{loadStyleRenderer as i}from\"../../renderers/support/styleUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function p(e,t){const r=e.instance.portalItem;if(r&&r.id)return await r.load(t),c(e),y(e,t)}function c(t){const r=t.instance.portalItem;if(!r?.type||!t.supportedTypes.includes(r.type))throw new e(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}'\",{type:r?.type,expectedType:t.supportedTypes.join(\", \")})}async function y(e,t){const r=e.instance,a=r.portalItem;if(!a)return;const{url:n,title:o}=a,s=l(a);if(\"group\"===r.type)return r.read({title:o},s),f(r,e);n&&r.read({url:n},s);const u=await h(e,t);return u&&r.read(u,s),r.resourceReferences={portalItem:a,paths:s.readResourcePaths??[]},\"subtype-group\"!==r.type&&r.read({title:o},s),i(r,s)}async function f(t,r){let a;const{portalItem:n}=t;if(!n)return;const o=n.type,l=r.layerModuleTypeMap,i=s(n,\"Oriented Imagery Layer\")??!1;switch(o){case\"Feature Service\":a=i?l.OrientedImageryLayer:l.FeatureLayer;break;case\"Stream Service\":a=l.StreamLayer;break;case\"Scene Service\":a=l.SceneLayer;break;case\"Feature Collection\":a=l.FeatureLayer;break;default:throw new e(\"portal:unsupported-item-type-as-group\",`The item type '${o}' is not supported as a 'IGroupLayer'`)}let[u,p]=await Promise.all([a(),h(r)]),c=()=>u;if(\"Feature Service\"===o){p=n.url?await w(p,n.url):{};if(j(p).length){const e=l.SubtypeGroupLayer,t=await e();c=e=>\"SubtypeGroupLayer\"===e.layerType?t:u}return b(t,c,p,await P(n.url))}return v(p)>0?b(t,c,p):d(t,c)}async function d(e,t){const{portalItem:r}=e;if(!r?.url)return;const a=await u(r.url);a&&b(e,t,{layers:a.layers?.map(m),tables:a.tables?.map(m)})}function m(e){return{id:e.id,name:e.name}}function b(e,t,r,a){let n=r.layers||[];const o=r.tables||[];if(\"Feature Collection\"===e.portalItem?.type&&(n.forEach((e=>{\"Table\"===e?.layerDefinition?.type&&o.push(e)})),n=n.filter((e=>\"Table\"!==e?.layerDefinition?.type))),\"coverage\"in r){const t=T(r);t&&e.add(t)}n.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.add(a)}})),o.reverse().forEach((n=>{const o=a?.(n);if(o||!a){const a=g(e,t(n),r,n,o);e.tables.add(a)}}))}function g(e,t,r,a,o){const l=e.portalItem,s=new t({portalItem:l.clone(),layerId:a.id});if(\"sourceJSON\"in s&&(s.sourceJSON=o),\"subtype-group\"!==s.type&&(s.sublayerTitleMode=\"service-name\"),\"Feature Collection\"===l.type){const e={origin:\"portal-item\",portal:l.portal||n.getDefault()};s.read(a,e);const t=r.showLegend;null!=t&&s.read({showLegend:t},e)}return s}async function h(e,t){if(!1===e.supportsData)return;const r=e.instance,a=r.portalItem;if(!a)return;let n=null;try{n=await a.fetchData(\"json\",t)}catch(o){}if(S(r)){let e=null,t=!0;if(n&&v(n)>0){if(null==r.layerId){const e=j(n);r.layerId=\"subtype-group\"===r.type?e?.[0]:I(n)}e=L(n,r),e&&(1===v(n)&&(t=!1),null!=n.showLegend&&(e.showLegend=n.showLegend))}return t&&\"sublayerTitleMode\"in r&&\"service-name\"!==r.sublayerTitleMode&&(r.sublayerTitleMode=\"item-title-and-service-name\"),e}return n}async function w(e,t){if(null==e?.layers||null==e?.tables){const r=await u(t);(e=e||{}).layers=e.layers||r?.layers,e.tables=e.tables||r?.tables}return e}function I(e){const t=e.layers;if(t&&t.length)return t[0].id;const r=e.tables;return r&&r.length?r[0].id:null}function L(e,t){const{layerId:r}=t,a=e.layers?.find((e=>e.id===r))||e.tables?.find((e=>e.id===r));return a&&F(a,t)?a:null}function v(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function S(e){return\"stream\"!==e.type&&\"oriented-imagery\"!==e.type&&\"layerId\"in e}function T(a){const{coverage:n}=a;if(!n)return null;const l=new URL(n);if(n.toLowerCase().includes(\"item.html\")){const e=l.searchParams.get(\"id\"),r=l.origin;return t.fromPortalItem({portalItem:new o({id:e,url:r})})}if(r(n))return t.fromGeoSceneServerUrl({url:n});throw new e(\"portal:oriented-imagery-layer-coverage\",\"the provided coverage url couldn't be loaded as a layer\")}function j(e){const t=[];return e?.layers?.forEach((e=>{\"SubtypeGroupLayer\"===e.layerType&&t.push(e.id)})),t}function F(e,t){return!(\"feature\"===t.type&&\"layerType\"in e&&\"SubtypeGroupLayer\"===e.layerType||\"subtype-group\"===t.type&&!(\"layerType\"in e))}async function P(e){const{layersJSON:t}=await a(e);if(!t)return null;const r=[...t.layers,...t.tables];return e=>r.find((t=>t.id===e.id))}export{I as getFirstLayerOrTableId,v as getNumLayersAndTables,j as getSubtypeGroupLayerIds,p as load,w as preprocessFSItemData};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../core/Error.js\";import{sceneServiceLayerTypeToClassName as r}from\"../../layers/support/layerUtils.js\";import{layerLookupMap as a}from\"../../layers/support/lazyLayerLoader.js\";import t from\"../PortalItem.js\";import{getNumLayersAndTables as n,preprocessFSItemData as s,getSubtypeGroupLayerIds as c,getFirstLayerOrTableId as o}from\"./layersLoader.js\";import{hasTypeKeyword as i}from\"./portalItemUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function l(e){!e.portalItem||e.portalItem instanceof t||(e={...e,portalItem:new t(e.portalItem)});const r=await y(e.portalItem);return new(0,r.constructor)({portalItem:e.portalItem,...r.properties})}async function y(e){await e.load();return p(await m(e))}async function m(r){switch(r.type){case\"Map Service\":return f(r);case\"Feature Service\":return L(r);case\"Feature Collection\":return w(r);case\"Scene Service\":return N(r);case\"Image Service\":return d(r);case\"Stream Service\":return S();case\"Vector Tile Service\":return I();case\"GeoJson\":return g();case\"CSV\":return T();case\"KML\":return j();case\"WFS\":return v();case\"WMTS\":return F();case\"WMS\":return M();case\"Feed\":return G();default:throw new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:r.type})}}async function p(e){const r=e.className,t=a[r];return{constructor:await t(),properties:e.properties}}async function f(e){return await b(e)?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}}async function L(e){if(i(e,\"Oriented Imagery Layer\"))return h(e);const r=await C(e);if(\"object\"==typeof r){const e={};return null!=r.id&&(e.layerId=r.id),{className:r.className||\"FeatureLayer\",properties:e}}return{className:\"GroupLayer\"}}async function N(e){const a=await C(e);if(\"object\"==typeof a){const t={};let n;if(null!=a.id?(t.layerId=a.id,n=`${e.url}/layers/${a.id}`):n=e.url,e.typeKeywords?.length)for(const a of Object.keys(r))if(e.typeKeywords.includes(a))return{className:r[a]};const s=await u(n);return{className:r[s?.layerType]||\"SceneLayer\",properties:t}}if(!1===a){const r=await u(e.url);return\"Voxel\"===r?.layerType?{className:\"VoxelLayer\"}:{className:\"GroupLayer\"}}return{className:\"GroupLayer\"}}async function w(e){await e.load();const r=i(e,\"Map Notes\"),a=i(e,\"Markup\");if(r||a)return{className:\"MapNotesLayer\"};if(i(e,\"Route Layer\"))return{className:\"RouteLayer\"};const t=await e.fetchData();return 1===n(t)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const a=await e.fetchData(),t=a?.layerType;if(\"ArcGISTiledImageServiceLayer\"===t)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===t)return{className:\"ImageryLayer\"};const n=await u(e.url),s=n.cacheType?.toLowerCase(),c=n.capabilities?.toLowerCase().includes(\"tilesonly\");return\"map\"===s||c?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function S(){return{className:\"StreamLayer\"}}function I(){return{className:\"VectorTileLayer\"}}function g(){return{className:\"GeoJSONLayer\"}}function T(){return{className:\"CSVLayer\"}}function j(){return{className:\"KMLLayer\"}}function v(){return{className:\"WFSLayer\"}}function M(){return{className:\"WMSLayer\"}}function F(){return{className:\"WMTSLayer\"}}function G(){return{className:\"StreamLayer\"}}async function h(e){await e.load();return{className:\"OrientedImageryLayer\",properties:await e.fetchData()}}async function b(e){return(await u(e.url)).tileInfo}async function C(e){const r=e.url;if(!r||/\\/\\d+$/.test(r))return{};await e.load();const a=await e.fetchData();if(\"Feature Service\"===e.type){const e=V(await s(a,r));if(\"object\"==typeof e){const r=c(a);e.className=null!=e.id&&r.includes(e.id)?\"SubtypeGroupLayer\":\"FeatureLayer\"}return e}if(n(a)>0)return V(a);return V(await u(r))}function V(e){return 1===n(e)&&{id:o(e)}}export{l as fromItem,m as selectLayerClassPath};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../request.js\";async function t(t,o){const{data:r}=await e(t,{responseType:\"json\",query:{f:\"json\",...o?.customParameters,token:o?.apiKey}});return r}export{t as fetchArcGISServiceJSON};"],"names":["async","r","s","a","e","layers","filter","t","n","serviceJSON","currentVersion","i","layersJSON","tables","type","layerType","featureCollectionType","c","y","f","push","b","value","add","l","ArcGISDimensionLayer","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","PointCloudLayer","ArcGISSceneServiceLayer","IntegratedMeshLayer","OGCFeatureLayer","BuildingSceneLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","GroupLayer","GeoJSON","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","DefaultTileLayer","KML","RasterDataLayer","Voxel","LineOfSightLayer","RasterDataElevationLayer","p","OpenStreetMap","S","ArcGISAnnotationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","MediaLayer","OrientedImageryLayer","SubtypeGroupLayer","u","d","I","LinkChartLayer","m","T","g","G","read","context","M","w","o","v","defaultLayerType","UnknownLayer","A","portal","itemId","id","load","className","MapNotesLayer","L","RouteLayer","wmtsInfo","url","layerIdentifier","WMTSLayer","wfsInfo","version","UnsupportedLayer","featureCollection","length","origin","layerContainerType","Array","isArray","addMany","destroy","FeatureLayer","showLegend","map","ignoreDefaults","visibility","visibleLayers","includes","BingMapsLayer","default","CSVLayer","DimensionLayer","ElevationLayer","GeoJSONLayer","GeoRSSLayer","ImageryLayer","ImageryTileLayer","KMLLayer","MapImageLayer","OpenStreetMapLayer","SceneLayer","StreamLayer","TileLayer","VoxelLayer","WFSLayer","WMSLayer","WebTileLayer","itemUrl","getDefault","portalItem","readResourcePaths","messages","writtenProperties","instance","supportedTypes","expectedType","join","title","h","resourceReferences","paths","layerModuleTypeMap","Promise","all","j","P","name","forEach","layerDefinition","reverse","clone","layerId","sourceJSON","sublayerTitleMode","supportsData","fetchData","find","F","coverage","URL","toLowerCase","searchParams","get","fromPortalItem","fromGeoSceneServerUrl","constructor","properties","N","C","typeKeywords","Object","keys","cacheType","capabilities","tileInfo","test","V","data","responseType","query","customParameters","token","apiKey"],"sourceRoot":""}