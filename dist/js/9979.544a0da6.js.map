{"version":3,"file":"js/9979.544a0da6.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/Bitmap.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/engine/ImageryBitmapSource.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/ClipArea.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/ClipRect.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/Geometry.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/support/Path.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/2d/layers/LayerView2D.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/layers/LayerView.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{applySome as t}from\"../../../core/maybe.js\";import{createResolver as e,onAbortOrThrow as s,throwIfNotAbortError as i}from\"../../../core/promiseUtils.js\";import{g as r,h,r as o,l as u,m as a}from\"../../../chunks/mat3.js\";import{c as n}from\"../../../chunks/mat3f32.js\";import{f as d}from\"../../../chunks/vec2f32.js\";import{DisplayObject as l}from\"./DisplayObject.js\";import c from\"./ImageryBitmapSource.js\";import{ContextType as _}from\"../../webgl/contextUtils.js\";import{SizedPixelFormat as p,PixelFormat as m,TextureWrapMode as x}from\"../../webgl/enums.js\";import{Texture as g}from\"../../webgl/Texture.js\";import{TextureDescriptor as f}from\"../../webgl/TextureDescriptor.js\";function w(t){return t&&\"render\"in t}function b(t){const e=document.createElement(\"canvas\");return e.width=t.width,e.height=t.height,t.render(e.getContext(\"2d\")),e}function v(e){return w(e)?e instanceof c?t(e.getRenderedRasterPixels(),(t=>t.renderedRasterPixels)):b(e):e}class T extends l{constructor(t=null,e=!1){super(),this.blendFunction=\"standard\",this._sourceWidth=0,this._sourceHeight=0,this._textureInvalidated=!1,this._texture=null,this.stencilRef=0,this.coordScale=[1,1],this._height=void 0,this.pixelRatio=1,this.resolution=0,this.rotation=0,this._source=null,this._width=void 0,this.x=0,this.y=0,this.immutable=e,this.source=t,this.requestRender=this.requestRender.bind(this)}destroy(){this._texture&&(this._texture.dispose(),this._texture=null),null!=this._uploadStatus&&(this._uploadStatus.controller.abort(),this._uploadStatus=null)}get isSourceScaled(){return this.width!==this._sourceWidth||this.height!==this._sourceHeight}get height(){return void 0!==this._height?this._height:this._sourceHeight}set height(t){this._height=t}get source(){return this._source}set source(t){null==t&&null==this._source||(this._source=t,this.invalidateTexture(),this.requestRender())}get width(){return void 0!==this._width?this._width:this._sourceWidth}set width(t){this._width=t}beforeRender(t){super.beforeRender(t),this.updateTexture(t)}async setSourceAsync(t,i){null!=this._uploadStatus&&this._uploadStatus.controller.abort();const r=new AbortController,h=e();return s(i,(()=>r.abort())),s(r,(t=>h.reject(t))),this._uploadStatus={controller:r,resolver:h},this.source=t,h.promise}invalidateTexture(){this._textureInvalidated||(this._textureInvalidated=!0,this._source instanceof HTMLImageElement?(this._sourceHeight=this._source.naturalHeight,this._sourceWidth=this._source.naturalWidth):this._source&&(this._sourceHeight=this._source.height,this._sourceWidth=this._source.width))}updateTransitionProperties(t,e){t>=64&&(this.fadeTransitionEnabled=!1,this.inFadeTransition=!1),super.updateTransitionProperties(t,e)}setTransform(t){const e=r(this.transforms.dvs),[s,i]=t.toScreenNoRotation([0,0],[this.x,this.y]),n=this.resolution/this.pixelRatio/t.resolution,l=n*this.width,c=n*this.height,_=Math.PI*this.rotation/180;h(e,e,d(s,i)),h(e,e,d(l/2,c/2)),o(e,e,-_),h(e,e,d(-l/2,-c/2)),u(e,e,d(l,c)),a(this.transforms.dvs,t.displayViewMat3,e)}setSamplingProfile(t){this._texture&&(t.mips&&!this._texture.descriptor.hasMipmap&&this._texture.generateMipmap(),this._texture.setSamplingMode(t.samplingMode))}bind(t,e){this._texture&&t.bindTexture(this._texture,e)}async updateTexture({context:t,painter:e}){if(!this._textureInvalidated)return;if(this._textureInvalidated=!1,this._texture||(this._texture=this._createTexture(t)),!this.source)return void this._texture.setData(null);this._texture.resize(this._sourceWidth,this._sourceHeight);const s=v(this.source);try{if(null!=this._uploadStatus){const{controller:t,resolver:i}=this._uploadStatus,r={signal:t.signal},{width:h,height:o}=this,u=this._texture,a=e.textureUploadManager;await a.enqueueTextureUpdate({data:s,texture:u,width:h,height:o},r),i.resolve(),this._uploadStatus=null}else this._texture.setData(s);this.ready()}catch(r){i(r)}}onDetach(){this.destroy()}_createTransforms(){return{dvs:n()}}_createTexture(t){const e=this.immutable&&t.type===_.WEBGL2,s=new f;return s.internalFormat=e?p.RGBA8:m.RGBA,s.wrapMode=x.CLAMP_TO_EDGE,s.isImmutable=e,s.width=this._sourceWidth,s.height=this._sourceHeight,new g(t,s)}}export{T as Bitmap,w as isImageSource,b as rasterize};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nclass l{constructor(l,e,t){this.pixelBlock=l,this.extent=e,this.originalPixelBlock=t}get width(){return null!=this.pixelBlock?this.pixelBlock.width:0}get height(){return null!=this.pixelBlock?this.pixelBlock.height:0}render(l){const e=this.pixelBlock;if(null==e)return;const t=this.filter({extent:this.extent,pixelBlock:this.originalPixelBlock??e});if(null==t.pixelBlock)return;t.pixelBlock.maskIsAlpha&&(t.pixelBlock.premultiplyAlpha=!0);const i=t.pixelBlock.getAsRGBA(),h=l.createImageData(t.pixelBlock.width,t.pixelBlock.height);h.data.set(i),l.putImageData(h,0,0)}getRenderedRasterPixels(){const l=this.filter({extent:this.extent,pixelBlock:this.pixelBlock});return null==l.pixelBlock?null:(l.pixelBlock.maskIsAlpha&&(l.pixelBlock.premultiplyAlpha=!0),{width:l.pixelBlock.width,height:l.pixelBlock.height,renderedRasterPixels:new Uint8Array(l.pixelBlock.getAsRGBA().buffer)})}}export{l as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as s}from\"../../../core/JSONSupport.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends s{get version(){return this.commitVersionProperties(),(this._get(\"version\")||0)+1}};r([o({readOnly:!0})],t.prototype,\"version\",null),t=r([e(\"geoscene.views.layers.support.ClipArea\")],t);const p=t;export{p as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(t){super(t),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty(\"left\"),this.commitProperty(\"right\"),this.commitProperty(\"top\"),this.commitProperty(\"bottom\")}};t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),i=s=t([r(\"geoscene.views.layers.support.ClipRect\")],i);const p=i;export{p as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import p from\"./ClipArea.js\";import m from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:m,polygon:i}};let a=y=class extends p{constructor(r){super(r),this.type=\"geometry\",this.geometry=null}clone(){return new y({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty(\"geometry\")}};r([o({types:c,json:{read:s,write:!0}})],a.prototype,\"geometry\",void 0),a=y=r([e(\"geoscene.views.layers.support.Geometry\")],a);const n=a;export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(r){super(r),this.type=\"path\",this.path=[]}commitVersionProperties(){this.commitProperty(\"path\")}};r([s({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),e=r([o(\"geoscene.views.layers.support.Path\")],e);const p=e;export{p as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{referenceSetter as s}from\"../../../core/collectionUtils.js\";import i from\"../../../core/Error.js\";import{watch as r,syncAndInitial as a,on as o}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{Container as h}from\"../engine/Container.js\";import c from\"../support/HighlightOptions.js\";import l from\"../../layers/support/ClipRect.js\";import d from\"../../layers/support/Geometry.js\";import u from\"../../layers/support/Path.js\";const y=t.ofType({key:\"type\",base:null,typeMap:{rect:l,path:u,geometry:d}}),f=t=>{let l=class extends t{constructor(){super(...arguments),this.attached=!1,this.clips=new y,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){const e=this.view?.spatialReferenceLocked??!0,t=this.view?.spatialReference;t&&e&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new i(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer}))):(this.container||(this.container=new h),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([r((()=>this.suspended),(e=>{this.container&&(this.container.visible=!e),this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),a),r((()=>this.layer?.opacity??1),(e=>{this.container&&(this.container.opacity=e)}),a),r((()=>this.layer&&\"blendMode\"in this.layer?this.layer.blendMode:\"normal\"),(e=>{this.container&&(this.container.blendMode=e)}),a),r((()=>this.layer&&\"effect\"in this.layer?this.layer.effect:null),(e=>{this.container&&(this.container.effect=e)}),a),r((()=>this.highlightOptions),(e=>this.container.highlightOptions=e),a),o((()=>this.clips),\"change\",(()=>{this.container&&(this.container.clips=this.clips)}),a),r((()=>({scale:this.view?.scale,scaleRange:this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null})),(({scale:e})=>{const t=null!=e&&this.isVisibleAtScale(e);t!==this.visibleAtCurrentScale&&this._set(\"visibleAtCurrentScale\",t)}),a)],\"constructor\"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e===this&&this.processAttach()}),(()=>{})):this.when().then((()=>{this.processAttach()}),(()=>{})))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){const e=this.view?.spatialReference;return null==e||this.supportsSpatialReference(e)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this.updatingHandles?.updating)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles(\"attach\"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(e){const t=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;if(!t)return!0;const{minScale:s,maxScale:i}=t;return(0===s||e<=s)&&(0===i||e>=i)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}supportsSpatialReference(e){return!0}canResume(){return!!this.spatialReferenceSupported&&(!!super.canResume()&&this.visibleAtCurrentScale)}getSuspendInfo(){const e=super.getSuspendInfo(),t=!this.spatialReferenceSupported,s=this.visibleAtCurrentScale;return t&&(e.spatialReferenceNotSupported=t),s&&(e.outsideScaleRange=s),e}addAttachHandles(e){this.addHandles(e,\"attach\")}};return e([n()],l.prototype,\"attached\",void 0),e([n({type:y,set(e){const t=s(e,this._get(\"clips\"),y);this._set(\"clips\",t)}})],l.prototype,\"clips\",void 0),e([n()],l.prototype,\"container\",void 0),e([n()],l.prototype,\"moving\",void 0),e([n({readOnly:!0})],l.prototype,\"spatialReferenceSupported\",null),e([n({readOnly:!0})],l.prototype,\"updateParameters\",void 0),e([n()],l.prototype,\"updateRequested\",void 0),e([n()],l.prototype,\"updating\",null),e([n()],l.prototype,\"view\",void 0),e([n({readOnly:!0})],l.prototype,\"visibleAtCurrentScale\",void 0),e([n({type:c})],l.prototype,\"highlightOptions\",void 0),l=e([p(\"geoscene.views.2d.layers.LayerView2D\")],l),l};export{f as LayerView2DMixin};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import o from\"../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends(s(i(n(r.EventedMixin(t))))){constructor(e){super(e),this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer&&this.layer.title||\"no title\";o.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const e=this.parent&&this.parent.suspended?this.parent.suspendInfo:{},t=this;return t.view&&t.view.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l()],p.prototype,\"fullOpacity\",null),e([l()],p.prototype,\"layer\",void 0),e([l()],p.prototype,\"parent\",void 0),e([l({readOnly:!0})],p.prototype,\"suspended\",null),e([l({readOnly:!0})],p.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],p.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],p.prototype,\"updating\",null),e([l({readOnly:!0})],p.prototype,\"updatingProgress\",null),e([l()],p.prototype,\"visible\",null),e([l()],p.prototype,\"view\",void 0),p=e([a(\"geoscene.views.layers.LayerView\")],p);const d=p;export{d as default};"],"names":["w","t","b","e","document","createElement","width","height","render","getContext","v","c","getRenderedRasterPixels","renderedRasterPixels","T","l","constructor","super","this","blendFunction","_sourceWidth","_sourceHeight","_textureInvalidated","_texture","stencilRef","coordScale","_height","pixelRatio","resolution","rotation","_source","_width","x","y","immutable","source","requestRender","bind","destroy","dispose","_uploadStatus","controller","abort","isSourceScaled","invalidateTexture","beforeRender","updateTexture","setSourceAsync","i","r","AbortController","h","s","reject","resolver","promise","HTMLImageElement","naturalHeight","naturalWidth","updateTransitionProperties","fadeTransitionEnabled","inFadeTransition","setTransform","transforms","dvs","toScreenNoRotation","n","_","Math","PI","d","o","u","a","displayViewMat3","setSamplingProfile","mips","descriptor","hasMipmap","generateMipmap","setSamplingMode","samplingMode","bindTexture","context","painter","_createTexture","setData","resize","signal","textureUploadManager","enqueueTextureUpdate","data","texture","resolve","ready","onDetach","_createTransforms","type","WEBGL2","f","internalFormat","p","RGBA8","m","RGBA","wrapMode","CLAMP_TO_EDGE","isImmutable","g","pixelBlock","extent","originalPixelBlock","filter","maskIsAlpha","premultiplyAlpha","getAsRGBA","createImageData","set","putImageData","Uint8Array","buffer","version","commitVersionProperties","_get","readOnly","prototype","left","right","top","bottom","clone","commitProperty","Number","String","json","write","base","key","typeMap","polygon","geometry","types","read","path","ofType","rect","arguments","attached","clips","lastUpdateId","moving","updateRequested","visibleAtCurrentScale","highlightOptions","initialize","view","spatialReferenceLocked","spatialReference","spatialReferenceSupported","addResolvingPromise","Promise","layer","container","visible","endTransitions","addHandles","suspended","requestUpdate","opacity","blendMode","effect","scale","scaleRange","effectiveScaleRange","isVisibleAtScale","_set","whenLayerView","then","processAttach","when","processDetach","supportsSpatialReference","updating","isUpdating","updatingHandles","isResolved","destroyed","attach","removeHandles","detach","minScale","maxScale","processUpdate","isFulfilled","update","hitTest","canResume","getSuspendInfo","spatialReferenceNotSupported","outsideScaleRange","addAttachHandles","EventedMixin","parent","catch","name","id","title","getLogger","error","fullOpacity","suspendInfo","legendEnabled","updatingProgress","_overrideIfSome","loaded","viewNotReady","layerNotLoaded","layerInvisible","Boolean"],"sourceRoot":""}