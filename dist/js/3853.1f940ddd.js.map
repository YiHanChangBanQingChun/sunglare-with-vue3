{"version":3,"file":"js/3853.1f940ddd.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/sources/geojson/geojson.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/sources/support/clientSideDefaults.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/ogc/ogcFeatureUtils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new t(e?g(new n,e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if(\"unknown\"===c){l.add(r);continue}l.delete(r),i.add(r);const u=o(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=o(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as r,defaultPolylineSymbolJSON as e,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?r:\"esriGeometryPolyline\"===t?e:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"geoscene-csp-restrictions\"))return()=>({[s]:null,...t});try{let r=`this.${s} = null;`;for(const s in t){r+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const e=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${r};\\n        }\\n      }\\n    `)();return()=>new e}catch(r){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function c(t,r){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:r,supportsDelete:r,supportsEditing:r,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:r,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:r,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}export{c as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport\"../../geometry.js\";import e from\"../../request.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import{WGS84 as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as r}from\"../../geometry/support/webMercatorUtils.js\";import{convertToFeatureSet as a,convertToGeometry as s,convertFromGeometry as o}from\"../graphics/featureConversionUtils.js\";import l from\"../graphics/OptimizedFeatureSet.js\";import{validateGeoJSON as c,inferLayerProperties as u,createOptimizedFeatures as d}from\"../graphics/sources/geojson/geojson.js\";import{createDrawingInfo as m}from\"../graphics/sources/support/clientSideDefaults.js\";import p from\"../support/FieldsIndex.js\";import{kebabDict as f}from\"../support/fieldType.js\";import g from\"../../geometry/SpatialReference.js\";const y=n.getLogger(\"geoscene.layers.graphics.sources.ogcfeature\"),w=\"http://www.opengis.net/def/crs/\",b=`${w}OGC/1.3/CRS84`;async function h(n,i,r={},a=5){const{links:s}=n,o=$(s,\"items\",\"application/geo+json\")||$(s,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(null==o)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{data:l}=await e(o.href,{signal:r.signal,query:{limit:a,...r.customParameters,token:r.apiKey},headers:{accept:\"application/geo+json\"}});await c(l);const d=u(l,{geometryType:i.geometryType}),g=i.fields||d.fields||[],w=null!=i.hasZ?i.hasZ:d.hasZ,b=d.geometryType,h=i.objectIdField||d.objectIdFieldName||\"OBJECTID\";let j=i.timeInfo;const F=g.find((({name:e})=>e===h));if(F)F.editable=!1,F.nullable=!1;else{if(!d.objectIdFieldType)throw new t(\"ogc-feature-layer:missing-feature-id\",\"Collection geojson require a feature id as a unique identifier\");g.unshift({name:h,alias:h,type:\"number\"===d.objectIdFieldType?\"esriFieldTypeOID\":\"esriFieldTypeString\",editable:!1,nullable:!1})}if(h!==d.objectIdFieldName){const e=g.find((({name:e})=>e===d.objectIdFieldName));e&&(e.type=\"esriFieldTypeInteger\")}g===d.fields&&d.unknownFields.length>0&&y.warn({name:\"ogc-feature-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:d.unknownFields}});for(const e of g){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),\"esriFieldTypeOID\"!==e.type&&\"esriFieldTypeGlobalID\"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new t(\"ogc-feature-layer:invalid-field-name\",\"field name is missing\",{field:e});if(!f.jsonValues.includes(e.type))throw new t(\"ogc-feature-layer:invalid-field-type\",`invalid type for field \"${e.name}\"`,{field:e})}if(j){const e=new p(g);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type=\"esriFieldTypeDate\"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,y.warn({name:\"ogc-feature-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:j}}))}j.startTimeField||j.endTimeField||(y.warn({name:\"ogc-feature-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:j}}),j=null)}return{drawingInfo:b?m(b):null,extent:M(n),geometryType:b,fields:g,hasZ:!!w,objectIdField:h,timeInfo:j}}async function j(n,i={}){const{links:r}=n,a=$(r,\"data\",\"application/json\")||$(r,\"http://www.opengis.net/def/rel/ogc/1.0/data\",\"application/json\");if(null==a)throw new t(\"ogc-feature-layer:missing-collections-page\",\"Missing collections url\");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await e(a.href,{signal:l,headers:{accept:\"application/json\"},query:{...o,token:s}});return c}async function F(n,i={}){const{links:r}=n,a=$(r,\"conformance\",\"application/json\")||$(r,\"http://www.opengis.net/def/rel/ogc/1.0/conformance\",\"application/json\");if(null==a)throw new t(\"ogc-feature-layer:missing-conformance-page\",\"Missing conformance url\");const{apiKey:s,customParameters:o,signal:l}=i,{data:c}=await e(a.href,{signal:l,headers:{accept:\"application/json\"},query:{...o,token:s}});return c}async function I(t,n={}){const{apiKey:i,customParameters:r,signal:a}=n,{data:s}=await e(t,{signal:a,headers:{accept:\"application/json\"},query:{...r,token:i}});return s}async function T(t,n={}){const i=\"application/vnd.oai.openapi+json;version=3.0\",r=$(t.links,\"service-desc\",i);if(null==r)return y.warn(\"ogc-feature-layer:missing-openapi-page\",\"The OGC API-Features server does not have an OpenAPI page.\"),null;const{apiKey:a,customParameters:s,signal:o}=n,{data:l}=await e(r.href,{signal:o,headers:{accept:i},query:{...s,token:a}});return l}function k(e){const t=/^http:\\/\\/www\\.opengis.net\\/def\\/crs\\/(?<authority>.*)\\/(?<version>.*)\\/(?<code>.*)$/i.exec(e),n=t?.groups;if(!n)return null;const{authority:i,code:r}=n;switch(i.toLowerCase()){case\"ogc\":switch(r.toLowerCase()){case\"crs27\":return g.GCS_NAD_1927.wkid;case\"crs83\":return 4269;case\"crs84\":case\"crs84h\":return g.WGS84.wkid;default:return null}case\"esri\":case\"epsg\":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function x(e,t,n){const i=await S(e,t,n);return a(i)}async function S(n,a,c){const{collection:u,layerDefinition:m,maxRecordCount:p,queryParameters:{apiKey:f,customParameters:y},spatialReference:w,supportedCrs:b}=n,{links:h}=u,j=$(h,\"items\",\"application/geo+json\")||$(h,\"http://www.opengis.net/def/rel/ogc/1.0/items\",\"application/geo+json\");if(null==j)throw new t(\"ogc-feature-layer:missing-items-page\",\"Missing items url\");const{geometry:F,num:I,start:T,timeExtent:k,where:x}=a;if(a.objectIds)throw new t(\"ogc-feature-layer:query-by-objectids-not-supported\",\"Queries with objectids are not supported\");const S=g.fromJSON(w),v=a.outSpatialReference??S,q=v.isWGS84?null:N(v,b),M=C(F,b),G=O(k),W=R(x),D=I??(null!=T&&void 0!==T?10:p),{data:P}=await e(j.href,{...c,query:{...y,...M,crs:q,datetime:G,query:W,limit:D,startindex:T,token:f},headers:{accept:\"application/geo+json\"}});let Z=!1;if(P.links){const e=P.links.find((e=>\"next\"===e.rel));Z=!!e}!Z&&Number.isInteger(P.numberMatched)&&Number.isInteger(P.numberReturned)&&(Z=P.numberReturned<P.numberMatched);const{fields:K,geometryType:L,hasZ:J,objectIdField:z}=m,A=d(P,{geometryType:L,hasZ:J,objectIdField:z});if(!q&&v.isWebMercator)for(const e of A)if(null!=e.geometry&&null!=L){const t=s(e.geometry,L,J,!1);t.spatialReference=g.WGS84,e.geometry=o(r(t,v))}for(const e of A)e.objectId=e.attributes[z];const E=q||!q&&v.isWebMercator?v.toJSON():i,U=new l;return U.exceededTransferLimit=Z,U.features=A,U.fields=K,U.geometryType=L,U.hasZ=J,U.objectIdFieldName=z,U.spatialReference=E,U}function v(e){return null!=e&&\"extent\"===e.type}function N(e,t){const{isWebMercator:n,wkid:i}=e;if(!i)return null;const r=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return r?`${w}${r}`:null}function q(e){if(null==e)return\"\";const{xmin:t,ymin:n,xmax:i,ymax:r}=e;return`${t},${n},${i},${r}`}function O(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():\"..\"}/${null!=n?n.toISOString():\"..\"}`}function R(e){return null!=e&&e&&\"1=1\"!==e?e:null}function C(e,t){if(!v(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:q(e)};const i=N(n,t);return null!=i?{bbox:q(e),\"bbox-crs\":i}:n.isWebMercator?{bbox:q(r(e,g.WGS84))}:null}function M(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],i=4===n.length,r=n[0],a=n[1],s=i?void 0:n[2];return{xmin:r,ymin:a,xmax:i?n[2]:n[3],ymax:i?n[3]:n[4],zmin:s,zmax:i?void 0:n[5],spatialReference:g.WGS84.toJSON()}}function $(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}export{b as crsDefault,w as crsPrefix,h as getCollectionDefinition,j as getServerCollections,F as getServerConformance,I as getServerLandingPage,T as getServerOpenApi,k as getSpatialReferenceWkid,x as queryFeatureSetJSON,S as queryOptimizedFeatureSet};"],"names":["i","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","s","e","c","type","t","features","u","coordinates","l","o","geometryType","r","objectIdField","geometry","properties","id","f","a","y","g","n","length","p","d","push","m","h","w","P","b","j","G","S","F","k","M","lengths","coords","hasZ","O","T","data","crs","name","code","RegExp","test","L","Set","Object","keys","filter","has","add","delete","alias","fields","objectIdFieldName","objectIdFieldType","unknownFields","Array","from","I","renderer","symbol","JSON","stringify","Function","description","prototype","attributes","analytics","supportsCacheHint","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryAttachments","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","supportsAsyncConvert3D","query","queryRelated","supportsCount","supportsOrderBy","supportsPagination","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers","supportsAsyncApplyEdits","getLogger","async","links","$","href","signal","limit","customParameters","token","apiKey","headers","accept","timeInfo","find","editable","nullable","unshift","warn","message","details","field","jsonValues","includes","startTimeField","get","endTimeField","trackIdField","drawingInfo","extent","exec","groups","authority","toLowerCase","GCS_NAD_1927","wkid","WGS84","Number","parseInt","isNaN","x","collection","layerDefinition","maxRecordCount","queryParameters","spatialReference","supportedCrs","num","start","timeExtent","where","objectIds","fromJSON","v","outSpatialReference","q","isWGS84","N","C","W","R","D","datetime","startindex","Z","rel","isInteger","numberMatched","numberReturned","K","J","z","A","isWebMercator","objectId","E","toJSON","U","exceededTransferLimit","xmin","ymin","xmax","ymax","end","toISOString","bbox","spatial","zmin","zmax"],"sourceRoot":""}