{"version":3,"file":"js/deng-lu.96a4dbaf.js","mappings":"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","sources":["webpack://sun-glare-project/./src/views/LoginView.vue","webpack://sun-glare-project/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n    <div class=\"deng-lu\">\r\n      <!-- <div class=\"text\">\r\n        <h1>欢迎登录</h1>\r\n      </div> -->\r\n      <div class=\"login-container\">\r\n        <div class=\"image-container\">\r\n          <img src=\"/login.png\" alt=\"Login Image\">\r\n        </div>\r\n      <div class=\"login-box\">\r\n        <div class=\"form-container\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">用户名:</label>\r\n          <input type=\"text\" id=\"username\" v-model=\"loginUsername\">\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n          <label for=\"password\">密码:</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"loginPassword\">\r\n      </div>\r\n      <div class=\"button-group\">\r\n        <button @click=\"showRegisterModal = true\">没有账号，注册一个？</button>\r\n        <button @click=\"resetPassword\">忘记密码？</button>\r\n        <button @click=\"login\">登录</button>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- 注册模态窗口 -->\r\n  <div v-if=\"showRegisterModal\" class=\"modal-overlay\">\r\n    <div class=\"modal\">\r\n      <h2>注册</h2>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-username\">用户名：</label>\r\n        <input type=\"text\" id=\"reg-username\" v-model=\"username\" :class=\"{'invalid-input': !isUsernameValid}\">\r\n        <span class=\"note\">注意：用户名只能使用2到10字符数的中文、数字、英文三种组合。</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-password\">密码：</label>\r\n        <input type=\"password\" id=\"reg-password\" v-model=\"password\" :class=\"{'invalid-input': !isPasswordValid}\">\r\n        <span class=\"note\">注意：密码需要使用包含英文和数字的6到10字符数。</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-email\">邮箱：</label>\r\n        <input type=\"email\" id=\"reg-email\" v-model=\"email\" :class=\"{'invalid-input': !isEmailValid}\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-security-question\">安全问题：</label>\r\n        <input type=\"text\" id=\"reg-security-question\" v-model=\"securityQuestion\">\r\n        <span class=\"note\">注意：用于忘记密码时找回。</span>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-security-answer\">回答：</label>\r\n        <input type=\"text\" id=\"reg-security-answer\" v-model=\"securityAnswer\">\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"reg-birthday\">生日：</label>\r\n        <input type=\"date\" id=\"reg-birthday\" v-model=\"birthday\">\r\n      </div>\r\n      <div class=\"button-group\">\r\n        <button @click=\"showRegisterModal = false\">取消</button>\r\n        <button @click=\"register\">注册</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, watch, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  setup () {\r\n    const username = ref('')\r\n    const password = ref('')\r\n    const email = ref('')\r\n    const securityQuestion = ref('')\r\n    const securityAnswer = ref('')\r\n    const birthday = ref('')\r\n    const loginUsername = ref('') // 你的用户名绑定\r\n    const loginPassword = ref('') // 你的密码绑定\r\n    const showRegisterModal = ref(false)\r\n    const isUsernameValid = ref(true)\r\n    const isPasswordValid = ref(true)\r\n    const isEmailValid = ref(true)\r\n    const store = useStore()\r\n    const router = useRouter()\r\n\r\n    // 清空注册表单，注册时调用\r\n    const clearRegisterForm = () => {\r\n      username.value = ''\r\n      password.value = ''\r\n      email.value = ''\r\n      securityQuestion.value = ''\r\n      securityAnswer.value = ''\r\n      birthday.value = ''\r\n    }\r\n\r\n    // 验证用户名\r\n    const validateUsername = (username) => {\r\n      if (username === '') {\r\n        return true // 空字符串时不进行验证\r\n      }\r\n      const regex = /^[a-zA-Z0-9\\u4e00-\\u9fa5]{2,10}$/\r\n      return regex.test(username)\r\n    }\r\n\r\n    const checkUsername = () => {\r\n      isUsernameValid.value = validateUsername(username.value)\r\n      console.log('Username valid:', isUsernameValid.value)\r\n    }\r\n\r\n    watch(username, checkUsername)\r\n\r\n    // 验证密码\r\n    const validatePassword = (password) => {\r\n      if (password === '') {\r\n        return true // 空字符串时不进行验证\r\n      }\r\n      const regex = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,10}$/\r\n      return regex.test(password)\r\n    }\r\n\r\n    const checkPassword = () => {\r\n      isPasswordValid.value = validatePassword(password.value)\r\n      console.log('Password valid:', isPasswordValid.value)\r\n    }\r\n\r\n    watch(password, checkPassword)\r\n\r\n    // 验证邮箱\r\n    const validateEmail = (email) => {\r\n      if (email === '') {\r\n        return true // 空字符串时不进行验证\r\n      }\r\n      const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      return regex.test(email)\r\n    }\r\n\r\n    const checkEmail = () => {\r\n      isEmailValid.value = validateEmail(email.value)\r\n      console.log('Email valid:', isEmailValid.value)\r\n    }\r\n\r\n    watch(email, checkEmail)\r\n\r\n    // 注册\r\n    const register = async () => {\r\n      if (!username.value || !password.value || !email.value || !securityQuestion.value || !securityAnswer.value || !birthday.value) {\r\n        alert('请填写所有字段')\r\n        return\r\n      }\r\n\r\n      if (!isUsernameValid.value) {\r\n        alert('用户名必须是2-10个字母、数字或汉字的组合')\r\n        return\r\n      }\r\n\r\n      if (!isPasswordValid.value) {\r\n        alert('密码必须是6-10个字符，并包含字母和数字')\r\n        return\r\n      }\r\n\r\n      if (!isEmailValid.value) {\r\n        alert('邮箱格式不正确')\r\n        return\r\n      }\r\n\r\n      try {\r\n        const requestBody = {\r\n          username: username.value,\r\n          password: password.value,\r\n          email: email.value,\r\n          security_question: securityQuestion.value,\r\n          security_answer: securityAnswer.value,\r\n          birthday: birthday.value\r\n        }\r\n\r\n        const apiUrl = `${process.env.VUE_APP_API_URL}/api/register`\r\n\r\n        console.log('API URL:', apiUrl)\r\n        console.log('Request Body:', requestBody)\r\n\r\n        const response = await fetch(apiUrl, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(requestBody)\r\n        })\r\n\r\n        console.log('Response Status:', response.status)\r\n        if (response.ok) {\r\n          const data = await response.json()\r\n          console.log('Response Data:', data)\r\n          alert(data.message)\r\n          showRegisterModal.value = false\r\n          clearRegisterForm() // 清空注册表单\r\n        } else if (response.status === 400) {\r\n          const errorData = await response.json()\r\n          console.log('Error Data:', errorData)\r\n          if (errorData.message === 'Username already exists') {\r\n            alert('用户名已存在，请重新输入')\r\n          } else {\r\n            alert(errorData.message) // 显示其他错误消息\r\n          }\r\n        } else {\r\n          const errorData = await response.json()\r\n          console.log('Error Data:', errorData)\r\n          alert(errorData.message)\r\n        }\r\n      } catch (error) {\r\n        console.error('注册请求失败:', error)\r\n        clearRegisterForm() // 清空注册表单\r\n        alert('注册请求失败，请稍后再试。')\r\n      }\r\n    }\r\n\r\n    // 登录\r\n    const login = async () => {\r\n      try {\r\n        const response = await fetch(`${process.env.VUE_APP_API_URL}/api/login`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({\r\n            username: loginUsername.value,\r\n            password: loginPassword.value\r\n          })\r\n        })\r\n        if (response.ok) {\r\n          const data = await response.json()\r\n          alert(data.message) // 弹窗提示登录成功\r\n          // 更新Vuex Store\r\n          store.dispatch('login', { username: loginUsername.value, avatarUrl: 'your-avatar-url' })\r\n          console.log('登录成功:', data)\r\n          console.log('当前登录状态:', store.state)\r\n          // 这里可以添加更多的逻辑，比如跳转到另一个页面\r\n          // 等待三秒后跳转到用户中心界面\r\n          setTimeout(() => {\r\n            router.push({ name: 'yong-hu-zhong-xin' })\r\n          }, 3000)\r\n        } else {\r\n          const errorData = await response.json()\r\n          alert(errorData.message) // 弹窗提示登录失败\r\n        }\r\n      } catch (error) {\r\n        console.error('登录请求失败:', error)\r\n        alert('登录请求失败，请稍后再试。')\r\n      }\r\n    }\r\n\r\n    // 计算属性，用于获取登录用户的信息\r\n    const loggedInUser = computed(() => store.state.user)\r\n\r\n    return {\r\n      // 用户信息\r\n      username,\r\n      password,\r\n      email,\r\n      securityQuestion,\r\n      securityAnswer,\r\n      birthday,\r\n\r\n      // 登录信息\r\n      loginUsername,\r\n      loginPassword,\r\n\r\n      // 模态框控制\r\n      showRegisterModal,\r\n\r\n      // 验证方法\r\n      validateUsername,\r\n      checkUsername,\r\n\r\n      // 注册方法\r\n      register,\r\n      clearRegisterForm,\r\n\r\n      // 验证状态\r\n      isUsernameValid,\r\n      isEmailValid,\r\n      isPasswordValid,\r\n\r\n      // 登录方法\r\n      login,\r\n\r\n      // 登录用户信息\r\n      loggedInUser\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal {\r\n  background: rgba(109, 72, 72, 0.65); /* 应用深色毛玻璃效果 */\r\n  -webkit-backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n  backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n  border-radius: 10px; /* 添加圆角边框 */\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  width: 500px; /* 增加宽度 */\r\n  max-width: 90%; /* 确保在小屏幕上不会过宽 */\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.text > h1 {\r\n  text-align: center; /* 文本居中 */\r\n  background: -webkit-linear-gradient(rgba(238,174,202,1), rgba(148,187,233,1));\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n  color: transparent; /* 对于非WebKit浏览器的兼容 */\r\n}\r\n\r\n.text {\r\n  margin-top: 5px; /* 顶部外边距 */\r\n  margin-bottom: 5px; /* 底部外边距 */\r\n  background: rgba(109, 72, 72, 0.45);\r\n  -webkit-backdrop-filter: blur(25px);\r\n  backdrop-filter: blur(25px);\r\n  border: 1px solid rgba(255,255,255,0.45);\r\n  border-radius: 15px; /* 添加圆角 */\r\n  padding: 20px; /* 内边距 */\r\n  text-align: left /* 文本居中 */\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.image-container {\r\n  aspect-ratio: 1 / 1; /* 设置容器的长宽比为1:1 */\r\n  display: flex; /* 使用flex布局使得图片能够居中 */\r\n  justify-content: center; /* 水平居中图片 */\r\n  align-items: center; /* 垂直居中图片 */\r\n  width: 55%; /* 或者根据需要设置一个具体的宽度 */\r\n  margin: auto; /* 如果需要，可以使容器在其父元素中居中 */\r\n  margin-left: 0; /* 确保图片没有左边距 */\r\n}\r\n\r\n.image-container img {\r\n  width: 100%; /* 图片宽度填满容器 */\r\n  height: 100%; /* 图片高度填满容器 */\r\n  object-fit: contain; /* 图片缩放以适应容器大小，保持原始长宽比 */\r\n  max-width: 100%; /* 确保图片最大宽度不超过容器 */\r\n  max-height: 100%; /* 确保图片最大高度不超过容器 */\r\n  margin-left: 0; /* 确保图片没有左边距 */\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .login-container {\r\n    flex-direction: column;\r\n  }\r\n\r\n  .image-container {\r\n    width: 100%; /* 在较小屏幕上允许容器占据更多空间 */\r\n  }\r\n\r\n  .image-container img {\r\n    max-width: 100%; /* 在较小屏幕上允许图片占据更多空间 */\r\n    margin-left: 0; /* 确保图片没有左边距 */\r\n  }\r\n}\r\n\r\n.login-box {\r\n  width: 33.33%; /* 设置宽度为页面的三分之一 */\r\n  max-width: 400px; /* 设置一个最大宽度以避免在大屏幕上过宽 */\r\n  margin: 5px auto; /* 顶部和底部外边距为5px，水平居中 */\r\n  padding: 20px; /* 内边距，根据需要调整 */\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center; /* 子元素居中对齐 */\r\n  background: rgba(109, 72, 72, 0.65);\r\n  -webkit-backdrop-filter: blur(25px);\r\n  backdrop-filter: blur(25px);\r\n  border: 1px solid rgba(255, 255, 255, 0.45);\r\n  border-radius: 15px; /* 添加圆角 */\r\n  text-align: left; /* 文本左对齐 */\r\n}\r\n\r\n.form-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  width: 100%;\r\n  align-items: center;\r\n}\r\n\r\n.form-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.form-group label {\r\n  margin-bottom: 5px;\r\n  color:rgba(255, 255, 255, 1);\r\n}\r\n\r\n.form-group input {\r\n  padding: 8px;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\nbutton {\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  border: none;\r\n  background-color: #007bff;\r\n  color: white;\r\n}\r\n\r\n.button-group {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px; /* 按钮之间的间隙 */\r\n  margin-top: 20px; /* 按钮组与上方内容的间隙 */\r\n}\r\n\r\n.button-group button {\r\n  padding: 10px 20px;\r\n}\r\n\r\n.form-group input {\r\n  padding: 10px 20px; /* 调整内边距以匹配按钮 */\r\n  border-radius: 5px; /* 圆角边框，与按钮一致 */\r\n  /* border: none; 去除边框 */\r\n  background-color: #f0f0f0; /* 背景颜色，可以根据需要调整 */\r\n  color: #333; /* 文字颜色，可以根据需要调整 */\r\n  margin-bottom: 10px; /* 在输入框之间添加一些间距，可根据需要调整 */\r\n  width: 90%;\r\n}\r\n\r\n/* 调整按钮样式以匹配提供的样式 */\r\nbutton {\r\n  padding: 10px 20px; /* 按钮内边距 */\r\n  background-color: #007bff; /* 按钮背景颜色 */\r\n  color: white; /* 文字颜色 */\r\n  border: none; /* 去除边框 */\r\n  border-radius: 5px; /* 圆角边框 */\r\n  cursor: pointer; /* 鼠标悬停时显示指针 */\r\n  transition: background-color 0.3s; /* 背景颜色过渡效果 */\r\n  margin-top: 10px; /* 在按钮之间添加一些间距 */\r\n}\r\n\r\n/* 鼠标悬停在按钮上时的样式 */\r\nbutton:hover {\r\n  background-color: #0056b3; /* 按钮背景颜色变深 */\r\n}\r\n\r\n.form-group input:focus {\r\n  border-color: #007bff; /* 焦点时的边框颜色 */\r\n  outline: none; /* 去除默认的焦点样式 */\r\n  border-width: 2px; /* 边框粗细 */\r\n}\r\n\r\n.note {\r\n  font-size: 12px;\r\n  color: rgba(255, 255, 255, 1);\r\n  margin-top: 5px;\r\n  font-style: italic;\r\n}\r\n\r\n.form-group input.invalid-input {\r\n  border-color: red !important;\r\n}\r\n\r\n.form-group input.invalid-input:focus {\r\n  border-color: red !important;\r\n  outline: none;\r\n  border-width: 2px;\r\n}\r\n\r\n.modal h2 {\r\n  text-align: center;\r\n  color: white; /* 设置文本颜色为白色 */\r\n}\r\n</style>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=d79a556c\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=d79a556c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","for","key","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","type","id","_cache","$event","$setup","loginUsername","_hoisted_8","_hoisted_9","loginPassword","_hoisted_10","onClick","showRegisterModal","args","_ctx","resetPassword","login","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","username","_normalizeClass","isUsernameValid","_hoisted_16","_hoisted_17","_hoisted_18","password","isPasswordValid","_hoisted_19","_hoisted_20","_hoisted_21","email","isEmailValid","_hoisted_22","_hoisted_23","securityQuestion","_hoisted_24","_hoisted_25","_hoisted_26","securityAnswer","_hoisted_27","_hoisted_28","birthday","_hoisted_29","register","_createCommentVNode","name","setup","ref","store","useStore","router","useRouter","clearRegisterForm","value","validateUsername","regex","test","checkUsername","console","log","watch","validatePassword","checkPassword","validateEmail","checkEmail","async","requestBody","security_question","security_answer","apiUrl","response","fetch","method","headers","body","JSON","stringify","status","ok","data","json","alert","message","errorData","error","dispatch","avatarUrl","state","setTimeout","push","loggedInUser","computed","user","__exports__","render"],"sourceRoot":""}