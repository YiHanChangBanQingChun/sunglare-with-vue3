"use strict";(self["webpackChunksun_glare_project"]=self["webpackChunksun_glare_project"]||[]).push([[2327],{36460:function(e,t,i){i.r(t),i.d(t,{default:function(){return at}});var n=i(56768),s=i(24232),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAsFJREFUeNrsWT1rFEEYno2HBDnIciAuengbspjFE7wihYXFQUDstE+RdGnzT9KmvB9godjEyissVBASSJEi4FUSQcwiKYIE12fIe7AZ5mM/z531XngYdnZmZ573a2Z2HFaRxHG8hWIzUXUIjBzHOahivBarTnxgmHh2ALeqwRZYQ2ROZE5kTuQ/IdLSrAMhCi9RdQmcYh04wbtFSq+e5ts94XkJGKCvbj4nNMYl2g0k6foA76KsC9qr+LqcAbv0zgdGcfmyA7g0xnvJ+/U8rvWghh7UyUOkU0Mi9zPFCEzI6+9pPsjj5Qcw0bRxBR+/ACIqVfIL+JNHuapg9wya4RN6DRxp2rwEXiSeOek3wLGmz2cD0eWsRB7pWCBznKP4QFAlC18g8h3YR99xAde6k5WIL6m7AdymtKiSn5Q+fxsyYoesflPTrJ3FU7IQuQU8A/qawd8Ce8A3g2afAtvAXU2boAwiPZVFCCo5NGg5GbQPFQrT9oM12+TaqdKvz+orYZZ1JKwxkSAVEZjOq/JIWtIROlWMlOVWYpqdGBbQQq5VGRFaL8YVWGR1FkR47u9qtupR5m14AdcqEuiPgR3gXEUEJCNqlzcOPX4egkIuTER6BTNKMKOAPzal3zqvIUqvsZWIryVCO1ZmPZGar+jaOF6w0K1SxciKJUSCprhWC/Ec6IgEzB7xmhAjXNakRGj7vmgREVdlEZusMd3XNYJItylEQhWRvmVE2vyPioyIx+yTUEYktJBI0BSL+NeI0P/cloVE+qJFXGandMUz+/AfTOIU2Ae+sKtLUNm9CPeUVXKhJxKFD0Qi0Qwn/w4YAR/FPyESGQsnWD7xTVL8QOpJaDRU3KQWla/AHvB8emNbhtDN8u70vsaRNUCxBWzk2NZzDU+AT6TNMbQ+mYWpHQNrl3zT16Tn6eS5nx+lcJdK5K8AAwAcOJDpm3NKhQAAAABJRU5ErkJggg==",l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4NUUxRjVCNUE2OTcxMUU0QkU0QjhGMzcxOUQ1QTJGMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4NUUxRjVCNkE2OTcxMUU0QkU0QjhGMzcxOUQ1QTJGMyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1RTFGNUIzQTY5NzExRTRCRTRCOEYzNzE5RDVBMkYzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg1RTFGNUI0QTY5NzExRTRCRTRCOEYzNzE5RDVBMkYzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+cVpnmwAABJBJREFUeNrsmltIVEEYx9dtN9duWGuZXbGki2YvFYRdhOol7SEoMpAeIgqihy4U+FJQzyXUQ9FNiB4y6CUji24QGQWSRthVTelKEXTZDWp37fSf+g5Mw8zZc+bM6hJ+8FPnnDPfzN9zZuY735wcy7IC/4PlDApRWz5YSswFU8A4MJzOfwcfwSvwCNwBt8EXX60yIQbIBbXgCkhZ3o3VuUo+cnX64FdAHtgF3ljm7C35zOsvIStBl5U566I2XPVHZ4xEQD3Y6nBNB7gJ7oFn4DWI07kRYDKYCSrAcjDHwdcxsAv8MDlGCkGr4j8YB/WgXOPullPduML3A2rbyKM1DXQqBuoRUCDWSSRSShRtRMmXbMJgbRf7FTIJ9EicvwALVPU0hNjMJ9+i9VBftIQMA20Sp81glFNdofN3CDdCAuS7WdJuG/XJs5ATEmeNIJyuLiciAiwi4lJIgNpolLR/0quQKomTJjDUTUc4IUWckCIPQgLUVpOkH1VuhUQk60RnusdJIaSUE1LqUYj9mIkTTTf18c81QYeZma0T07lyH1gPvmnGX7aN0aj/jdru445N49cylZBcsFuyMD3QDOmi3N+jNX2wto8Kx/bQAq0UshZM4MpsVd7vIzYdbUAIswNchMCsCKxxErJBKJ8Cn3yG9iaEsD6clPU1qGh0hXDstM93FFN3RNYX1tf8UDLZ98/RcHhIJX4N4Q49xjUdojdcpysk36eQxxSU2oEm60il7I4sFsrXDbw1mrwjzG4I5SVBmgksG/z3d7O7xLGDPy+ZOQZCyH2hPJsJYR295dLBLbrej5CoASFPhXJJCD8SoIZegkocKnfRdQmNhseIY0QcmypTjMW3QrkgyE1rq8FXhb+vdP6TgTHCsiojfd6RmFAeERRmg1ohDLBDk1o6r2v8HWGvuk/AKpM5KHHWugzqhGN1dNyPlYPz4BeVJ4FLoBEUavgT72hcNv0eBGfo7zNU1jLu+e6koG8eaOYuqaGBu5ElCz24niiu+KoQZQs4Qr9N2kNQzeZ90MKNnwZaG0pc+pklTkQqIWxm2q45Q7mxFhJTTeKYLaMUKnuUQ2nqLxSn44wnsV1Ms+yRWkeR7Qw61kpCfyqm30c07mxbnQ1CbAvRWNlHg3kqm/YlQsoo1uJn1bHBLNoZSFGIXkxrjWpN2ySUWUbzczYJ4QWpXqcLwGbh2NmAi0Hl2zyG++lsLy2otr0HF5zeEJntFKLeFK0DA2Ws7W2SNe9HuiR2hFIuYop0lKHNIa/poBdO6SCdBN1FN1lGg4SpTdGqvaZMT0mcnOsnMaqUaYNuErtdJ4lt4HGSJbHbdZPY9rZCr2JbYX4GRKi2FXr9bCvwGz3dEudJcJg2afwKiJKvpKSdbuqDkc3Q8bQNJrMYOATmaAgoo7oxh6238ZnYDD2cJsTvoLCc5QGe02ZojHspmkwBYgUl2Jw2Q49TwsPoZqg4NWfN9rSpDwbeGRTwrr8/GJB9wnHNxycc1/x8wpGJ9xH26sryx4tAKW3IFHLBHtsW+ABeUjblbuDvRzWf/TQ6+JlTttlvAQYAZ4qXTfYbz+kAAAAASUVORK5CYII=",a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABGdBTUEAALGPC/xhBQAAAe9JREFUaAXtmb1KBDEQx2/FUrGwtBO0FnsLm0P0DfQV7h18BBF8Aiuxtb1GsNFCQbC/Rs8DFRW/wOP0H9iFuV3Xy8ckGb0Ehs1uJsn/N7PJ7u01GqmkCHiJQEZH/UKh58LrL1mWTRcaJ4rKXz8mEGkZ/LcZOZcW6V/0XNK2ckZW0XhMHYTWz6BrnWobAsF29ozGNdgRdRJWVxBNaH0aqQuPk0nYvnquCCun0DMzEoA6oEMG2xUEYg5RAtoWAOMGUQABpAUbRALigSAwWwD5DAzDC0FgNgDyFgjGDwSBWQHIo2cYvxAEZgkgPU8wYSAIzAJAOswwYSEIzBxArphg4kAQmFmAKBEuJS4EgZkCRduSRAYEgVm0ALlHH7N3p2LC0nHo7bfUZnp6a9oB/h2tt1iNgdlA8p8A7xpzUpcbeuJSZwPJRfQMxYgFMb29xIKkjBjekhX32GvkuqLI8gI3yFiukT6Cf2eZgEq3mBnp4tkzqCiyvMANYrJrsW29ip0bxGSNyAXBrfKK4CjTKXJBcvW6WREPortOxIOkjOgsrDof7l1LzTNWGfnADvdQF12b67Ey0rURG7QPPiaoP4k2YRewunISVJTrZKBown76THToOnaU/oBZhh3A+jBVdqII4ZoUAPOwPViLa8w0jtQIfAP0yvegCA+QuwAAAABJRU5ErkJggg==",r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAAB3RJTUUH4QICERUhpz3GYQAABABJREFUaN7tmduLVVUcxz97bmo2ardpbBwrxhrtBpUGUYEVmRJdoIcC7SUqovJFoh56qN7qDyh6iKAL0+0xKIIeRCkowYEslbEQc4IQUcdxLs7t20PfgdPZ55yZtfdaYcP8YLPOWfu3vjPftX7XdTJJLARpYoFIESKvAX8BM4AiPhPAPuCOIkSyQNNaAZwBsoSb+yHwPDAesqgl8I88ZhLngVPexWVABzAGnCj4z2dAO7AK6AFuAPYHIUgKeb7QP7JLUrOkNkkvSZqQ9E4gVvVzsaR+SYOStoeuDz2RbcCkd74DuAy40TZ+Clhd0qz+BG4BelP6yE3AATv5hMcMaAOabW7TJYm02tz7gJcdVKJHrW0e+0xqOXA38BMwCmz2XJnnSeAYcE3oqYQQ2eLxMHDan9uBbp/OYISIdRA4C6wFrksVte73uBF41X7RA3TZ1HZ6rlZECpFLgTXAOq9VTB/ZAnxb4R/TFTbd5vmxSHmkzRv8OfA6MBDzRO7zuBd4HzgCXAE8Duywn+yKROQJYLtNtic2kXs9/gjsAf4A1vvoZ4Bf/C6GrAK22rx6YvpIV0X90wrc5ohyPXCz55cAD0Qi0uEN6gKuBVYCQzF8ZAfwsf1ixD4yS2q5c8hIaG00h7TbV74E3gL6Y5zIPR6PAN8AR02i17bcAnzi0BlLHrEVzJ5KVCJ7gI+AQ8DlLiCfBc4BHwA/RyQy4aR4lYmU9pHbgQ3+fBQ46VKk1VFrNuwe93wMyRypRn3q3Xb8wTJE7gSmXCg+6OQ05OJwNpKdBx6NeBrLTGCN/79OZ/pSRC4CfnOW3eynWrqB9xI0WHIAmZxPMdoyRx32mUuGrXa8/7LHH3EC7ptPk5Ut3qJcYFLPtHqBTSY65IJxPIJuOuw6PfAzks66P/9dUmeDfjlENxl2UwOTa6qIHlNzmOd8dZNh1yPSXPWuUfgL0U2G3dQgu2bz3LUQ3WTYC+ZEqqPWcy7UNlW8W+n5cd87fVVANzV2Lmq9osbyZkHd1Ng5ImslHaiz+FdJ3QV1U2PniCyV9IKk6RoAT/u+t4huauyaCXGDpL1Vi3dLWl1SNyl2rah1zHdKw/5+BnjXTVUZ3aTYtYiMAruBH/z9a+B79wVldJNi1ysaB7yw0/1Ao1vxEN1k2Iv9yP+ByHrgDV+DDrvN3OlMm5XQTYtdFcaulPSppOGqsHda0tt+X0Q3NXaOyFOSTtRIQjOSBiQ9VFA3NXbOtG4FLqlTTl/Nv3/sDNFNjZ0jMtngxnDU16NFdFNj54j0+7ePmRoA+6ouqkN0U2PnfGSdpBclHZY0JmnK435JD0tqKaibGjuXEFf4SDcCd/mi+jjwnbPsVEHd1NiLmf2Ck78B3VVW9bNupxwAAAAASUVORK5CYII=",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBMzFGMjdBNjlCQ0ExMUU0OEExN0FGREU0MkEwMkZFRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBMzFGMjdBNzlCQ0ExMUU0OEExN0FGREU0MkEwMkZFRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkEzMUYyN0E0OUJDQTExRTQ4QTE3QUZERTQyQTAyRkVGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkEzMUYyN0E1OUJDQTExRTQ4QTE3QUZERTQyQTAyRkVGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+WOwxMQAABR5JREFUeNrEmm9oV2UUx39/tl8Y003Xb1agW9MyJuiaRdKbTCSE+aIgm6CgsVUUJPiHXi0UepO+qUG4Ub1IxRCD8OU03NwLRct0/sF09qIaRJa/Lf+QLpq/vgfODx7Pzr33uc9z7zrw2X73z/Pn3Ps85znnPDdbLpczCck88BJ4FiwCTaAV3OXrM8Aw+BlcBWfAIBhNovGspyLzwUawDrQo1+eAcf49G4wp91wGB8E+8ItzT0gRB5aCQ2CyHC6PG2Uei7h3kutc6tKnuAUawJfgftlOnjTKLrQsc5/baIjTtzhDay34DNQFXP8HnAID4AIYAVfAJF/Pg6fBU2AJWAmWg0JAfX+Bt8DXSQ2tAtgT8gSHwbtgjsOQoDLvcB1B0guqfIdWDTgS0MBZsAZkHeeZSZbruqi0cwo85KPIw+CkUvFdsBXkE1BAQk9+O7dBcg0UfSY7DadjihI/uVqVmCwBp9lASGtZiKOINifOgLnToESFanHcAe7xnLFSpENRgp5O7TQqIdkiTP66KEVoARtXhlPxf1SihvtgyrhYbKcockAUoFfZFjCHekAJjPHvQorKtHFfTDkQpEibsmJvDaj4E2X4feTYSduHskXxANo0RQ6LG8+FmNiSokjJURHbh5LnPplyWCrSqDiAq0MaT1KROHWtVhzNJ+hajj2VDSBneC7nQH+IZ7NfOXdCHDeCXnbNJ/h/L583JRfDWe/nvpll3zB9rctC0y7LcT3G0LrzIw+TPD+5WwGuzS2+Ph98A24r9+wKabtL3Hu1MrTmKZaqzmGI0DrTDwbAzQhX/TYPn24wUzyUKAtYq1iwZrqwUZwc8jCT9DZOWMYdn3u0MyTq6sxxjG3KoEfoO8mxu4287NHOgDhuzXGgY8qwZx5gruV9j3q0cV4cLyJFFoiTI+KYIrgeUOLkQY8S1S0EXWzN8pad+d1DEdnH5ir8KYqT18XxbrDZOKbfVWwGXwQr+PxxMASqQYelKXUV2ce6jDIJCxYLFsl+NoUyZmgKMb0V+RdcAq0ebo0pE66KRK3iNuvIenAdvA9ySSgibX69hS+0y6KxNazwr9QQ/+9jd8h0jQbBcXE+inr5YDOKr98SsYrbuuxfcfwddV+O3wq9nU2WnnCLjJkyIktCrvGqBOIHcuT+5KAoTvbyN0tP+BVxz1FKw3Ri1j8Cvgc/gJsJ5JQ/5QRbd8xyJc4Xm0Imv16c2wF2PtBeCtFckYdGQ4ouveqiTMnQ8zrhKps5u/6HQ1ktPPhCHNeC56e4VcaEewF8DEZJQ49EAc2NZs+wN8ywdIq3MWJGiO8pYa5LKnQbW6u0khBZJdz90FSkSQl12x2e5qjHam1De1CoG5Z8uGCTBedI7yj4G9zg4zSUoL6cj0o+EMuUdJDNgvatKDOYkiLbbNNBcRJ0JjLmnkhBiWfiJOhcU6Zpv5GiS8o0wwlibbNlVsgcIWXu8P/GBJWYyW1LiUxiV+hVCn83zcnsIrcppS+JjZ5rKZvXCq3clpRjcTd6wrbe7k3j1pspJ7lPqWyGtie4GdrOa5cmR6JCAtsVuy8k/iaX4W3H7WlS4E1+KEHSZxPIxWl0rWKa5fpBIesO8CpYDGbzXmA1/17M12YY9Z4OqI/aej3NTzj2xviEI0iWGXXuVlbsvXHjGR+rYvNRTZC8pjiClY9qnKyi7ySlxfADZVsiSraLRa/bdyH1/V5LfrtFH549x/nkJs4F1PD1O+AGf3hGUd+hTILynwADAJcHap4pJ6pwAAAAAElFTkSuQmCC",m=i.p+"img/select.9cdfe7da.png",d=i(97808);const A={class:"datamanager"},c=["src"],h={key:0,class:"toolbox-popup"},p={class:"toolbox-grid"},v={key:1,class:"modal-overlay"},g={class:"modal-content"},b={class:"modal-buttons"};function _(e,t,i,_,f,y){return(0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("div",{class:"toolbox",onClick:t[0]||(t[0]=(...e)=>y.toggleToolbox&&y.toggleToolbox(...e))},[(0,n.Lk)("img",{src:f.toolboxIcon,alt:"Toolbox Icon",class:"toolbox-icon"},null,8,c),t[6]||(t[6]=(0,n.Lk)("span",{class:"toolbox-text"},"工具箱",-1))]),f.showToolboxPopup?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.Lk)("div",p,[(0,n.Lk)("div",{class:"toolbox-item",onClick:t[1]||(t[1]=(...e)=>y.openLoadDataPopup&&y.openLoadDataPopup(...e))},t[7]||(t[7]=[(0,n.Lk)("img",{src:o,alt:"加载数据"},null,-1)])),(0,n.Lk)("div",{class:(0,s.C4)(["toolbox-item",{active:!f.timeSliderDisabled}]),onClick:t[2]||(t[2]=(...e)=>y.toggleTimeSlider&&y.toggleTimeSlider(...e))},t[8]||(t[8]=[(0,n.Lk)("img",{src:l,alt:"时间滑块"},null,-1)]),2),t[9]||(t[9]=(0,n.Fv)('<div class="toolbox-item"><img src="'+a+'" alt="过滤功能"></div><div class="toolbox-item"><img src="'+r+'" alt="处理数据"></div><div class="toolbox-item"><img src="'+u+'" alt="密度计算"></div><div class="toolbox-item"><img src="'+m+'" alt="选择数据"></div>',4))]),(0,n.Lk)("span",{class:"toolbox-close",onClick:t[3]||(t[3]=(...e)=>y.toggleToolbox&&y.toggleToolbox(...e))},t[10]||(t[10]=[(0,n.Lk)("img",{src:d,alt:"关闭"},null,-1)]))])):(0,n.Q3)("",!0),f.showLoadDataPopup?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("div",g,[t[11]||(t[11]=(0,n.Fv)('<h2>加载数据</h2><div><label for="dataSelect">选择数据：</label><select id="dataSelect"><option value="数据1">数据1</option><option value="数据2">数据2</option><option value="数据3">数据3</option></select></div>',2)),(0,n.Lk)("div",b,[(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>y.confirmLoadData&&y.confirmLoadData(...e))},"确定"),(0,n.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>y.cancelLoadData&&y.cancelLoadData(...e))},"取消")])])])):(0,n.Q3)("",!0),t[12]||(t[12]=(0,n.Lk)("div",{id:"viewDiv"},null,-1)),(0,n.Lk)("div",{id:"timeSliderDiv",class:"time-slider",style:(0,s.Tr)({maxHeight:f.showTimeSlider?"30%":"0%"})},null,4)])}i(14603),i(47566),i(98721);var f=i(90144),y=i(7382),E=i(43487),w=i(12790),x=i(3949),k=i(2889),I=i(57829),M=i(95587),C=i(87923),S=i(44432),T=i(50346),B=(i(44114),i(71457)),P=i(45504),F=i(69292),L=i(41879),D=i(25214),Z=i(79908),N=i(87400),U=i(14046),Q=i(76543),R=i(37679),V=i(29916),z=i(56126),O=(i(38730),i(14095)),K=i(22113),j=(i(51020),i(43895)),G=i(3734),J=i(47966),W=i(15114);let Y=class extends G.A{constructor(e){super(e),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(e){this.setEffectiveMax(e)}set effectiveMin(e){this.setEffectiveMin(e)}set labelFormatFunction(e){this._set("labelFormatFunction",e)}set inputFormatFunction(e){this._set("inputFormatFunction",e)}set inputParseFunction(e){this._set("inputParseFunction",e)}get labels(){const{max:e,min:t,values:i}=this,n=i&&i.length?i.map(((e,t)=>this.getLabelForValue(e,"value",t))):[];return{max:this.getLabelForValue(e,"max"),min:this.getLabelForValue(t,"min"),values:n}}set max(e){this.setMax(e)}set min(e){this.setMin(e)}get state(){const{max:e,min:t}=this;return null!=e&&null!=t&&e>t?"ready":"disabled"}set values(e){const{max:t,min:i}=this,n=this.values;n&&e&&n.length===e.length&&n.every(((t,i)=>t===e[i]))||(this._set("values",null),e&&e.length&&(null!=i&&e.some((e=>e<i))&&(this.min=Math.min(...e)),null!=t&&e.some((e=>e>t))&&(this.max=Math.max(...e))),this._set("values",e))}toPrecision(e){return parseFloat(e.toFixed(this.precision))}defaultLabelFormatFunction(e){const{max:t,min:i,precision:n}=this,s=null!=t&&null!=i&&t-i>10?2:n;return parseFloat(e.toFixed(s)).toString()}defaultInputFormatFunction(e){return e.toString()}defaultInputParseFunction(e){return parseFloat(e)}getBounds(){const{effectiveMax:e,effectiveMin:t,max:i,min:n}=this;return{min:null!=t&&null!=n?Math.max(n,t):n,max:null!=e&&null!=i?Math.min(i,e):i}}getBoundsForValueAtIndex(e){const{thumbsConstrained:t,values:i}=this,{min:n,max:s}=this.getBounds();if(t&&i){const t=e-1,o=e+1;return{min:null!=i[t]?i[t]:n,max:null!=i[o]?i[o]:s}}return{min:n,max:s}}getLabelForValue(e,t,i){return null==e?null:this.labelFormatFunction?this.labelFormatFunction(e,t,i):this.defaultLabelFormatFunction(e)}setMax(e){const{max:t,values:i}=this;if(null==e)return void this._set("max",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");const n=this.toPrecision(e);if(t!==n&&(this._set("max",n),i&&i.length))for(let s=0;s<i.length;s++)n<i[s]&&this.setValue(s,n)}setMin(e){const{min:t,values:i}=this;if(null==e)return void this._set("min",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");const n=this.toPrecision(e);if(t!==n&&(this._set("min",n),i&&i.length))for(let s=0;s<i.length;s++)n>i[s]&&this.setValue(s,n)}setEffectiveMax(e){if(null==e)return void this._set("effectiveMax",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");const t=this.toPrecision(e);this.effectiveMax!==t&&this._set("effectiveMax",this._applyBoundsToValue(t))}setEffectiveMin(e){if(null==e)return void this._set("effectiveMin",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");const t=this.toPrecision(e);this.effectiveMin!==t&&this._set("effectiveMin",this._applyBoundsToValue(t))}setValue(e,t){if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");const{values:i}=this;if(null==i)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");const n=i[e],s=this.toPrecision(t);if(n===s)return;const o=[...i];o[e]=s,this._set("values",o),this.notifyChange("labels")}_applyBoundsToValue(e){const{max:t,min:i}=this;return null!=i&&e<i?i:null!=t&&e>t?t:e}_logError(e,t,i){W.A.getLogger(this).error(new J.A(e,t,i))}};(0,B._)([(0,Q.MZ)()],Y.prototype,"effectiveMax",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"effectiveMin",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"labelFormatFunction",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"inputFormatFunction",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"inputParseFunction",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],Y.prototype,"labels",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"max",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"min",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"precision",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],Y.prototype,"state",null),(0,B._)([(0,Q.MZ)()],Y.prototype,"thumbsConstrained",void 0),(0,B._)([(0,Q.MZ)()],Y.prototype,"values",null),Y=(0,B._)([(0,V.$)("geoscene.widgets.Slider.SliderViewModel")],Y);const H=Y;var X=i(80568),q=i(688),$=i(45283),ee=i(22774);const te="geoscene-slider",ie={base:te,reversed:`${te}--reversed`,horizontalLayout:`${te}--horizontal`,verticalLayout:`${te}--vertical`,contentElement:`${te}__content`,extraContentElement:`${te}__extra-content`,trackElement:`${te}__track`,ticksContainerElement:`${te}__ticks`,tickElement:`${te}__tick`,tickLabelElement:`${te}__tick-label`,maxElement:`${te}__max`,minElement:`${te}__min`,maxElementInteractive:`${te}__max--interactive`,minElementInteractive:`${te}__min--interactive`,rangeElementActive:`${te}__range--active`,rangeInput:`${te}__range-input`,anchorElement:`${te}__anchor`,movingAnchorElement:`${te}__anchor--moving`,lastMovedAnchorElement:`${te}__anchor--moved`,anchorElementActive:`${te}__anchor--active`,anchorElementIndexPrefix:`${te}__anchor-`,segmentElement:`${te}__segment`,segmentElementIndexPrefix:`${te}__segment-`,segmentElementInteractive:`${te}__segment--interactive`,segmentElementActive:`${te}__segment--active`,effectiveSegmentElement:`${te}__effective-segment`,effectiveMaxSegmentElement:`${te}__effective-max-segment`,effectiveMinSegmentElement:`${te}__effective-min-segment`,thumbElement:`${te}__thumb`,labelElement:`${te}__label`,labelElementInteractive:`${te}__label--interactive`,labelInput:`${te}__label-input`,geosceneWidget:"geoscene-widget",widgetIcon:"geoscene-icon-edit",disabled:"geoscene-disabled",hidden:"geoscene-hidden"},ne={showInput:"Enter",hideInput1:"Enter",hideInput2:"Escape",hideInput3:"Tab",moveAnchorUp:"ArrowUp",moveAnchorDown:"ArrowDown",moveAnchorLeft:"ArrowLeft",moveAnchorRight:"ArrowRight",moveAnchorToMax:"End",moveAnchorToMin:"Home"},se="geoscene.widgets.Slider",oe={labels:!1,rangeLabels:!1};let le=class extends j.A{constructor(e,t){super(e,t),this._activeLabelInputIndex=null,this._anchorElements=[],this._dragged=!1,this._dragStartInfo=null,this._focusedAnchorIndex=null,this._isMinInputActive=!1,this._isMaxInputActive=!1,this._lastMovedHandleIndex=null,this._positionPrecision=5,this._segmentDragStartInfo=null,this._trackHeight=null,this._trackWidth=null,this._zIndices=[],this._zIndexOffset=3,this.disabled=!1,this.draggableSegmentsEnabled=!0,this.effectiveSegmentElements=new L.A,this.extraNodes=[],this.inputCreatedFunction=null,this.labelElements=new L.A,this.labelInputsEnabled=!1,this.maxLabelElement=null,this.messages=null,this.minLabelElement=null,this.rangeLabelInputsEnabled=!1,this.segmentElements=new L.A,this.snapOnClickEnabled=!0,this.steps=null,this.syncedSegmentsEnabled=!1,this.thumbCreatedFunction=null,this.thumbElements=new L.A,this.tickElements=new L.A,this.trackElement=null,this.viewModel=new H,this.visibleElements={...oe},this._onAnchorPointerDown=this._onAnchorPointerDown.bind(this),this._onAnchorPointerMove=this._onAnchorPointerMove.bind(this),this._onAnchorPointerUp=this._onAnchorPointerUp.bind(this),this._onLabelPointerDown=this._onLabelPointerDown.bind(this),this._onLabelPointerUp=this._onLabelPointerUp.bind(this),this._onSegmentPointerDown=this._onSegmentPointerDown.bind(this),this._onSegmentPointerMove=this._onSegmentPointerMove.bind(this),this._onSegmentPointerUp=this._onSegmentPointerUp.bind(this),this._onTrackPointerDown=this._onTrackPointerDown.bind(this),this._onTrackPointerMove=this._onTrackPointerMove.bind(this),this._onTrackPointerUp=this._onTrackPointerUp.bind(this)}destroy(){document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove),document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),this.labelElements.removeAll(),this.labelElements.destroy(),this.segmentElements.removeAll(),this.segmentElements.destroy(),this.effectiveSegmentElements.removeAll(),this.effectiveSegmentElements.destroy(),this.thumbElements.removeAll(),this.thumbElements.destroy(),this.tickElements.removeAll(),this.tickElements.destroy()}get effectiveMax(){return this.viewModel.effectiveMax}set effectiveMax(e){this.viewModel.effectiveMax=e}get effectiveMin(){return this.viewModel.effectiveMin}set effectiveMin(e){this.viewModel.effectiveMin=e}get inputFormatFunction(){return this.viewModel.inputFormatFunction}set inputFormatFunction(e){this.viewModel.inputFormatFunction=e}get inputParseFunction(){return this.viewModel.inputParseFunction}set inputParseFunction(e){this.viewModel.inputParseFunction=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get labelFormatFunction(){return this.viewModel.labelFormatFunction}set labelFormatFunction(e){this.viewModel.labelFormatFunction=e}get labels(){return this.viewModel.labels}set layout(e){["vertical","vertical-reversed","horizontal","horizontal-reversed"].includes(e)||(e="horizontal"),this._set("layout",e)}get max(){return this.viewModel.max}set max(e){this.viewModel.max=e}get min(){return this.viewModel.min}set min(e){this.viewModel.min=e}get precision(){return this.viewModel.precision}set precision(e){this.viewModel.precision=e}get state(){const{_activeLabelInputIndex:e,_isMaxInputActive:t,_isMinInputActive:i,_dragStartInfo:n,_segmentDragStartInfo:s,disabled:o,viewModel:l}=this;return o?"disabled":null!==e||t||i?"editing":null!=n||null!=s?"dragging":l.state}get thumbsConstrained(){return this.viewModel.thumbsConstrained}set thumbsConstrained(e){this.viewModel.thumbsConstrained=e}set tickConfigs(e){this._set("tickConfigs",e),this.scheduleRender()}get values(){return this.viewModel.values}set values(e){this.viewModel.values=e}castVisibleElements(e){return{...oe,...e}}render(){const{label:e}=this,t=this.classes(ie.base,ie.geosceneWidget,this._isHorizontalLayout()?ie.horizontalLayout:ie.verticalLayout,this._isReversedLayout()?ie.reversed:null,this._isDisabled()?ie.disabled:null);return this._storeTrackDimensions(),(0,$.K)("div",{"aria-label":e,class:t,"touch-action":"none",bind:this,afterCreate:this._afterContainerCreate},this.renderContent())}toNextStep(e){this._toStep(e,1)}toPreviousStep(e){this._toStep(e,-1)}renderContent(){const{max:e,min:t}=this;if(!(null==t||null==e||t>=e))return[this.renderMin(),this.renderSliderContainer(),this.renderMax()]}renderSliderContainer(){return(0,$.K)("div",{key:"slider-container",bind:this,class:ie.contentElement},this.renderTrackElement(),this.renderTicksContainer(),this.renderExtraContentElements())}renderTrackElement(){return(0,$.K)("div",{afterCreate:this._afterTrackCreate,afterRemoved:this._afterTrackRemoved,bind:this,class:ie.trackElement,"touch-action":"none"},this.renderEffectiveSegmentElements(),this.renderSegmentElements(),this.renderAnchorElements())}renderEffectiveSegmentElements(){if(!this.trackElement||!this.values||!this.values.length)return;const e=null!=this.effectiveMax,t=null!=this.effectiveMin;if(!e&&!t)return;const{max:i,min:n,viewModel:s}=this,o=s.getBounds(),l=[];return t&&l.push(this.renderEffectiveSegmentElement(n,o.min,!0)),e&&l.push(this.renderEffectiveSegmentElement(o.max,i,!1)),l}renderSegmentElements(){if(!this.trackElement||!this.values||!this.values.length)return;const e=this.values.length,t=[];for(let i=0;i<=e;i++)t.push(this.renderSegmentElement(i));return t}renderSegmentElement(e){const{_trackHeight:t,_trackWidth:i,draggableSegmentsEnabled:n,id:s,state:o}=this,l=this.values,a=this._isHorizontalLayout(),r=a?i:t,u=this.viewModel.getBounds(),m=this._positionFromValue(u.max),d=this._positionFromValue(u.min),A=e===l?.length?null:e,c=0===e?null:e-1,h=null!=A,p=null!=c;let v,g;const b=[...l].sort(((e,t)=>e-t));this._isReversedLayout()?(v=p?this._positionFromValue(b[c]):d,g=h?this._positionFromValue(b[A]):m):(v=h?this._positionFromValue(b[A]):m,g=p?this._positionFromValue(b[c]):d);const _=this._applyPrecisionToPosition(100*g/r),f=(v-g)/r,y=a?`transform: translate(${_}%, 0px) scale(${f}, 1);`:`transform: translate(0px, ${_}%) scale(1, ${f});`,E=this.classes(ie.segmentElement,ie.segmentElementIndexPrefix+e,n&&h&&p&&"disabled"!==o?ie.segmentElementInteractive:null);return(0,$.K)("div",{afterCreate:this._afterSegmentCreate,afterRemoved:this._afterSegmentRemoved,bind:this,class:E,"data-max-thumb-index":A,"data-min-thumb-index":c,"data-segment-index":e,key:`${s}-segment-${e}`,style:y,"touch-action":"none"})}renderEffectiveSegmentElement(e,t,i){const{_trackHeight:n,_trackWidth:s,layout:o}=this,l=this._positionFromValue(e),a=this._positionFromValue(t),r=this._isHorizontalLayout(),u=r?s:n,m=this._applyPrecisionToPosition(100*l/u);let d=null;if("horizontal"===o){const e=i?u-a:a,t=l===u?0:m;d=`clip-path: inset(0% ${a===u?0:this._applyPrecisionToPosition(e/u*100)}% 0% ${t}%);`}else{const e=(a-l)/u;d=r?`transform: translate(${m}%, 0px) scale(${e}, 1);`:`transform: translate(0px, ${m}%) scale(1, ${e});`}const A=i?ie.effectiveMinSegmentElement:ie.effectiveMaxSegmentElement,c=this.classes(ie.segmentElement,ie.effectiveSegmentElement,A);return(0,$.K)("div",{afterCreate:this._afterEffectiveSegmentCreate,afterRemoved:this._afterEffectiveSegmentRemoved,bind:this,class:c,style:d,"touch-action":"none"})}renderAnchorElements(){const{trackElement:e,values:t}=this;if(t&&t.length)return this._zIndices=t.map(((e,i)=>{const n=this._positionFromValue(e),s=this._positionToPercent(n),o=(this._isHorizontalLayout()?s>50:s<50)?-1:1;return this._zIndexOffset+(t.length+o*i)})),e&&t&&t.length?t.map(((e,t)=>this.renderAnchorElement(e,t))):null}renderAnchorElement(e,t){const i=this._positionFromValue(e),n=this._valueFromPosition(i);if(null==n||isNaN(n))return;const{_dragStartInfo:s,_lastMovedHandleIndex:o,id:l,layout:a,visibleElements:{labels:r}}=this,u=this.values,m=s&&s.index===t,d=o===t,A=this.classes(ie.anchorElement,ie.anchorElementIndexPrefix+t,m?ie.movingAnchorElement:null,d?ie.lastMovedAnchorElement:null),c=this.labels.values[t],h=this._getStyleForAnchor(e,t,m||d),{min:p,max:v}=this.viewModel.getBoundsForValueAtIndex(t),{disabled:g,messages:b}=this,_=2===u.length?(0,ee.V)(0===t?b.rangeMinimum:b.rangeMaximum,{value:e}):c,f=1===u.length?null:0===t?`${l}-handle-${t+1}`:t===u.length-1?`${l}-handle-${t-1}`:`${l}-handle-${t-1} ${l}-handle-${t+1}`;return(0,$.K)("div",{afterCreate:this._afterAnchorCreate,afterUpdate:this._afterAnchorUpdate,afterRemoved:this._afterAnchorRemoved,"aria-controls":f,"aria-label":b.sliderValue,"aria-labelledby":r?`${l}-label-${t}`:null,"aria-orientation":a,"aria-valuemax":v?.toString(),"aria-valuemin":p?.toString(),"aria-valuenow":e.toString(),"aria-valuetext":_,bind:this,class:A,"data-thumb-index":t,"data-value":e,id:`${l}-handle-${t}`,key:`${l}-handle-${t}`,onkeydown:this._onAnchorKeyDown,"touch-action":"none",role:"slider",style:h,tabIndex:g?-1:0},(0,$.K)("span",{afterCreate:this._afterThumbCreate,afterRemoved:this._afterThumbRemoved,bind:this,class:ie.thumbElement,"data-thumb-index":t,"touch-action":"none"}),this.renderThumbLabel(t))}renderThumbLabel(e){const{id:t,labels:i,labelInputsEnabled:n,state:s}=this,o=this.visibleElements.labels,l=i.values[e],a=this.classes(ie.labelElement,o?null:ie.hidden,n&&"disabled"!==s?ie.labelElementInteractive:null);return(0,$.K)("span",{afterCreate:this._afterLabelCreate,afterRemoved:this._afterLabelRemoved,"aria-hidden":(!o).toString(),bind:this,class:a,"data-thumb-index":e,key:`${t}-label-${e}`,id:`${t}-label-${e}`,role:n?"button":null,"touch-action":"none"},this._activeLabelInputIndex===e?this.renderValueInput(e):l)}renderValueInput(e){const{disabled:t,values:i}=this;if(null==i)return;const n=i[e];return(0,$.K)("input",{key:`value-input-${e}`,afterCreate:this._afterInputCreate,"aria-label":this.messages.sliderValue,bind:this,class:ie.labelInput,"data-input-type":"thumb","data-input-index":e,required:!0,tabIndex:t?-1:0,type:"text",value:this._formatInputValue(n,"value",e),onblur:this._onLabelInputBlur,onkeydown:this._onInputKeyDown})}renderMax(){const{_isMaxInputActive:e,labels:t,rangeLabelInputsEnabled:i,state:n}=this,s=this.visibleElements.rangeLabels,o=this.classes(ie.maxElement,{[ie.hidden]:!s,[ie.maxElementInteractive]:i&&"disabled"!==n,[ie.rangeElementActive]:e});return(0,$.K)("div",{"aria-hidden":(!s).toString(),afterCreate:this._afterMaxLabelCreate,bind:this,class:o,onclick:this._onMaxLabelClick,onkeydown:this._onMaxLabelKeyDown,role:i?"button":null,tabIndex:!this.disabled&&i?0:-1},e?this.renderMaxInput():t.max)}renderMin(){const{_isMinInputActive:e,labels:t,rangeLabelInputsEnabled:i,state:n}=this,s=this.visibleElements.rangeLabels,o=this.classes(ie.minElement,{[ie.hidden]:!s,[ie.minElementInteractive]:i&&"disabled"!==n,[ie.rangeElementActive]:e});return(0,$.K)("div",{"aria-hidden":(!s).toString(),afterCreate:this._afterMinLabelCreate,bind:this,class:o,onclick:this._onMinLabelClick,onkeydown:this._onMinLabelKeyDown,role:i?"button":null,tabIndex:!this.disabled&&i?0:-1},e?this.renderMinInput():t.min)}renderMaxInput(){return(0,$.K)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.maximumValue,bind:this,class:ie.rangeInput,"data-input-type":"max",required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.max,"max"),onblur:this._onMaxInputBlur,onkeydown:this._onInputKeyDown})}renderMinInput(){return(0,$.K)("input",{afterCreate:this._afterInputCreate,"aria-label":this.messages.minimumValue,bind:this,class:ie.rangeInput,"data-input-type":"min",required:!0,tabIndex:this.disabled?-1:0,type:"text",value:this._formatInputValue(this.min,"min"),onblur:this._onMinInputBlur,onkeydown:this._onInputKeyDown})}renderExtraContentElements(){return(0,$.K)("div",{bind:this,class:ie.extraContentElement},this.extraNodes)}renderTicksContainer(){if(this.tickConfigs&&this.trackElement&&(0!==this._trackHeight||0!==this._trackWidth))return this.tickConfigs.map(((e,t)=>(0,$.K)("div",{key:"ticks-container",class:this.classes(ie.ticksContainerElement)},this.renderTicks(e,t))))}renderTicks(e,t){const{mode:i,values:n}=e;if(this.tickElements.at(t)||this.tickElements.add(new L.A,t),"position"===i){const i=Array.isArray(n)?n:[n];return this._calculateTickPositions(i).map(((i,n)=>this.renderTickGroup(e,n,t,i)))}if("percent"===i&&Array.isArray(n)){const i=this.min??0,s=(this.max??0)-i,o=n.map((e=>this._applyPrecisionToPosition(e/100*s+i)));return this._calculateTickPositions(o).map(((i,n)=>this.renderTickGroup(e,n,t,i)))}const s=Array.isArray(n)&&n.length?n[0]:isNaN(n)?null:n,o=this._getTickCounts(s,e);return this._calculateEquidistantTickPositions(o).map(((i,n)=>this.renderTickGroup(e,n,t,i)))}renderTickGroup(e,t,i,n){const s="position"===e.mode?Array.isArray(e.values)?e.values[t]:e.values:this._valueFromPosition(n);if(null!=s&&!isNaN(s))return(0,$.K)("div",{afterCreate:this._afterTickGroupCreate,afterRemoved:this._afterTickGroupRemoved,bind:this,"data-config":e,"data-position":n,"data-tick-config-index":i,"data-tick-group-index":t,"data-value":s,onclick:this._onTickGroupClick,key:`tick-group-${t}`},this.renderTickLine(e,t,i,s),e.labelsVisible?this.renderTickLabel(e,t,i,s):null)}renderTickLine(e,t,i,n){return(0,$.K)("div",{afterCreate:this._afterTickLineCreate,"aria-valuenow":n.toString(),bind:this,class:ie.tickElement,"data-config":e,"data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:`tick-label-${t}`,style:this._getPositionStyleForElement(n)})}renderTickLabel(e,t,i,n){const s=e.labelFormatFunction?e.labelFormatFunction(n,"tick",t):this.viewModel.getLabelForValue(n,"tick",t);return(0,$.K)("div",{afterCreate:this._afterTickLabelCreate,"aria-label":s,"aria-valuenow":n.toString(),"aria-valuetext":s,bind:this,class:ie.tickLabelElement,"data-config":e,"data-tick-config-index":i,"data-tick-group-index":t,"data-value":n,key:`tick-label-${t}`,style:`transform: translate(-50%); ${this._getPositionStyleForElement(n)}`},s)}getCurrentPosition(){return this._positionFromValue(this.values?.[0]??0)}_afterContainerCreate(e){this.addHandles((0,X.EV)(e,(()=>this.scheduleRender())))}_afterTrackCreate(e){this._set("trackElement",e),e.addEventListener("pointerdown",this._onTrackPointerDown),this.scheduleRender()}_afterTrackRemoved(e){e.removeEventListener("pointerdown",this._onTrackPointerDown),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp)}_afterSegmentCreate(e){this.segmentElements.add(e),e.addEventListener("pointerdown",this._onSegmentPointerDown)}_afterSegmentRemoved(e){this.segmentElements.remove(e),e.removeEventListener("pointerdown",this._onSegmentPointerDown)}_afterEffectiveSegmentCreate(e){this.effectiveSegmentElements.add(e)}_afterEffectiveSegmentRemoved(e){this.effectiveSegmentElements.remove(e)}_afterAnchorCreate(e){if(this._anchorElements.push(e),e.addEventListener("pointerdown",this._onAnchorPointerDown),this.thumbCreatedFunction){const t=ae(e),i=Ae(e),n=this.thumbElements.at(t),s=this.labelElements.at(t)||null;this.thumbCreatedFunction(t,i,n,s)}}_afterAnchorUpdate(e){null!=this._focusedAnchorIndex&&ae(e)===this._focusedAnchorIndex&&(e.focus(),this._focusedAnchorIndex=null)}_afterAnchorRemoved(e){const t=this._anchorElements.indexOf(e,0);t>-1&&this._anchorElements.splice(t,1),e.removeEventListener("pointerdown",this._onAnchorPointerDown)}_afterThumbCreate(e){this.thumbElements.add(e)}_afterThumbRemoved(e){this.thumbElements.remove(e)}_afterLabelCreate(e){this.labelElements.add(e),e.addEventListener("pointerdown",this._onLabelPointerDown),e.addEventListener("pointerup",this._onLabelPointerUp)}_afterLabelRemoved(e){this.labelElements.remove(e),e.removeEventListener("pointerdown",this._onLabelPointerDown),e.removeEventListener("pointerup",this._onLabelPointerUp)}_afterInputCreate(e){if(e.focus(),e.select(),this.inputCreatedFunction){const t=e.getAttribute("data-input-type"),i="thumb"===t?re(e):null;this.inputCreatedFunction(e,t,i)}}_afterTickLineCreate(e){const t=ce(e),i=he(e),n=this.tickElements.at(t),s=n.at(i);s?s.tickElement=e:n.add({groupElement:null,tickElement:e,labelElement:null},i)}_afterTickLabelCreate(e){const t=ce(e),i=he(e),n=this.tickElements.at(t),s=n.at(i);s?s.labelElement=e:n.add({groupElement:null,labelElement:e,tickElement:null},i)}_afterTickGroupRemoved(e){const t=ce(e),i=this.tickElements.items[t],n=i?.find((t=>t.groupElement===e));n&&i.remove(n)}_afterTickGroupCreate(e){const t=pe(e);if(t?.tickCreatedFunction){const i=ce(e),n=he(e),s=Ae(e),o=this.tickElements?.at(i)?.at(n);if(o){o.groupElement=e;const i=o.tickElement||null,n=o.labelElement||null;t.tickCreatedFunction(s,i,n)}}}_afterMaxLabelCreate(e){this._set("maxLabelElement",e)}_afterMinLabelCreate(e){this._set("minLabelElement",e)}_onAnchorKeyDown(e){if(this._isDisabled()||"editing"===this.state)return;const{target:t}=e,i=(0,O.Mk)(e),n=this.values,s=ae(t),o=this._anchorElements[s],l=n[s],a=[ne.moveAnchorUp,ne.moveAnchorDown,ne.moveAnchorLeft,ne.moveAnchorRight];if(i===ne.showInput&&this.labelInputsEnabled)this._activeLabelInputIndex=s,this.notifyChange("state");else if(a.includes(i)){e.preventDefault();const{steps:t}=this,n=i===ne.moveAnchorUp||i===ne.moveAnchorRight?1:-1;if(null!=t)this._toStep(s,this._isReversedLayout()?-1*n:n);else{const{precision:e}=this,t=this._getPositionOfElement(o),i=this._valueFromPosition(t),l=this._isHorizontalLayout()?n:-1*n;let a;a=0===e?this._positionFromValue(i+l):1===e?this._positionFromValue(i+.1*l):t+l,this._toPosition(s,a)}const a=this.values[s];l!==a&&this._emitThumbChangeEvent({index:s,oldValue:l,value:a})}else if(i===ne.moveAnchorToMax||i===ne.moveAnchorToMin){e.preventDefault();const{min:t,max:n}=this._getAnchorBoundsInPixels(s),o=this._isPositionInverted()?i===ne.moveAnchorToMax?t:n:i===ne.moveAnchorToMin?t:n;this._toPosition(s,o);const a=this.values[s];l!==a&&this._emitThumbChangeEvent({index:s,oldValue:l,value:a})}}_onAnchorPointerDown(e){if(this._isDisabled())return;const{target:t,clientX:i,clientY:n}=e,s=ae(t);null!=s&&(e.preventDefault(),this._anchorElements[s]&&this._anchorElements[s].focus(),this._storeTrackDimensions(),this._dragStartInfo={clientX:i,clientY:n,index:s,position:this._getPositionOfElement(this._anchorElements[s])},this.notifyChange("state"),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onAnchorPointerMove(e){if("editing"===this.state||!this._dragStartInfo)return;e.preventDefault();const{values:t,_anchorElements:i,_dragged:n,_dragStartInfo:s,_dragStartInfo:{index:o,position:l}}=this,{clientX:a,clientY:r}=e,u=n?"drag":"start",m=i[o],d=this._getPositionOfElement(m),A=this._applyPrecisionToPosition(this._isHorizontalLayout()?l+a-s.clientX:l+r-s.clientY);if(d===A)return;const c=t[o];this._dragged=!0,this._toPosition(o,A);const h=this.values[o];n?c!==h&&this._emitThumbDragEvent({index:o,state:u,value:h}):this._emitThumbDragEvent({index:o,state:u,value:c})}_onAnchorPointerUp(e){if(document.removeEventListener("pointerup",this._onAnchorPointerUp),document.removeEventListener("pointermove",this._onAnchorPointerMove),!this._dragStartInfo)return;e.preventDefault();const{index:t}=this._dragStartInfo,i=this._dragged,n=this.values[t];this._dragged=!1,this._dragStartInfo=null,this._lastMovedHandleIndex=t,this.notifyChange("state"),i?this._emitThumbDragEvent({index:t,state:"stop",value:n}):(this.scheduleRender(),"editing"!==this.state&&this._emitThumbClickEvent({index:t,value:n}))}_onTrackPointerDown(e){const{_dragStartInfo:t,snapOnClickEnabled:i,state:n,values:s}=this;if(this._isDisabled()||"editing"===n||t)return;if(document.addEventListener("pointermove",this._onTrackPointerMove),document.addEventListener("pointerup",this._onTrackPointerUp),!i||!s?.length)return;const{steps:o}=this,{clientX:l,clientY:a}=e,r=this._getCursorPositionFromEvent(e),u=this._valueFromPosition(r),m=this._getIndexOfNearestValue(u),d=s[m],A=s.some(((e,t)=>e===d&&t!==m))&&u>d?s.lastIndexOf(d):m;if(null==A)return;const c=s[A],h=null!=o?this._calculateNearestStepPosition(r):r;this._toPosition(A,h),this._dragged=!0,this._dragStartInfo={clientX:l,clientY:a,index:A,position:h},this._focusedAnchorIndex=A,this.notifyChange("state"),this._emitThumbDragEvent({index:A,state:"start",value:c});const p=this.values[A];c!==p&&this._emitThumbDragEvent({index:A,state:"drag",value:p}),document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove)}_onTrackPointerMove(e){e.preventDefault(),this._dragged=!0}_onTrackPointerUp(e){if(e.preventDefault(),document.removeEventListener("pointermove",this._onTrackPointerMove),document.removeEventListener("pointerup",this._onTrackPointerUp),this.snapOnClickEnabled||(this._dragged=!1),!this._dragged){const t=this._getCursorPositionFromEvent(e),i=this._valueFromPosition(t);this._emitTrackClickEvent({value:i})}}_onSegmentPointerDown(e){e.preventDefault();const t=e.target,i=ue(t),n=me(t),s=de(t);if(this._isDisabled()||null==n||null==s)return;e.stopPropagation(),this._storeTrackDimensions(),document.addEventListener("pointerup",this._onSegmentPointerUp);const o=this._getAnchorDetails(n),l=this._getAnchorDetails(s);this.syncedSegmentsEnabled?(this.segmentElements.forEach((e=>e.classList.add(ie.segmentElementActive))),this._anchorElements.forEach((e=>e.classList.add(ie.anchorElementActive)))):(this.segmentElements.at(i).classList.add(ie.segmentElementActive),this._anchorElements[o.index]?.classList.add(ie.anchorElementActive),this._anchorElements[l.index]?.classList.add(ie.anchorElementActive)),this._segmentDragStartInfo={cursorPosition:this._getCursorPositionFromEvent(e),index:i,details:this._normalizeSegmentDetails({min:o,max:l})},this.draggableSegmentsEnabled&&(document.addEventListener("pointermove",this._onSegmentPointerMove),this.notifyChange("state"),this._emitSegmentDragEvent({index:i,state:"start",thumbIndices:[n,s]}))}_onSegmentPointerMove(e){if(!this._segmentDragStartInfo)return;e.preventDefault();const{_trackHeight:t,_trackWidth:i,_segmentDragStartInfo:{index:n,cursorPosition:s,details:{min:o,max:l}}}=this,{index:a,position:r,value:u}=o,{index:m,position:d,value:A}=l;this._dragged=!0;const c=this._getCursorPositionFromEvent(e);if(c===s)return;const h=this._positionToPercent(s),p=this._positionToPercent(c)-h,v=this._positionToPercent(r)+p,g=this._positionToPercent(d)+p,{min:b}=this._getAnchorBoundsAsPercents(a),{max:_}=this._getAnchorBoundsAsPercents(m);let f=!1,y=!1;if(v<b?f=!0:g>_&&(y=!0),f){const{min:e,max:t}=this.viewModel.getBoundsForValueAtIndex(a),i=this._isPositionInverted()?t:e,n=i,s=A+(i-u),o=s-this.values[m];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([a,m],[n,s]))}if(y){const{min:e,max:t}=this.viewModel.getBoundsForValueAtIndex(m),i=this._isPositionInverted()?e:t,n=i,s=u+(i-A),o=s-this.values[a];return void(this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(o):this._updateAnchorValues([a,m],[s,n]))}const E=this._isHorizontalLayout()?i:t,w=g/100*E,x=v/100*E,k=this.values,I=[k[a],k[m]],M=this._getValueForAnchorAtPosition(a,x),C=this._getValueForAnchorAtPosition(m,w);this.syncedSegmentsEnabled?this._updateAnchorValuesByDifference(M-I[0]):this._updateAnchorValues([a,m],[M,C]),[this.values[a],this.values[m]].every(((e,t)=>e===I[t]))||this._emitSegmentDragEvent({index:n,state:"drag",thumbIndices:[a,m]})}_onSegmentPointerUp(e){if(e.preventDefault(),document.removeEventListener("pointerup",this._onSegmentPointerUp),document.removeEventListener("pointermove",this._onSegmentPointerMove),!this._segmentDragStartInfo)return;const{_dragged:t}=this,i=this.min,n=this.max,s=this.values,{index:o,details:{min:{index:l},max:{index:a}}}=this._segmentDragStartInfo;if(this.segmentElements.forEach((e=>e.classList.remove(ie.segmentElementActive))),this._anchorElements.forEach((e=>e.classList.remove(ie.anchorElementActive))),this.draggableSegmentsEnabled){const e=n-i,t=s[l],r=s[a];this._lastMovedHandleIndex=t===r?t>e/2?l:a:null,this._dragged=!1,this._segmentDragStartInfo=null,this.notifyChange("state"),this._emitSegmentDragEvent({index:o,state:"stop",thumbIndices:[l,a]})}if(!t){const t=this._getCursorPositionFromEvent(e),i=this._valueFromPosition(t);this._emitSegmentClickEvent({index:o,value:i,thumbIndices:[l,a]})}}_onTickGroupClick(e){const t=e.target;if(pe(t)){const e=ce(t),i=he(t),n=Ae(t);this._emitTickClickEvent({configIndex:e,groupIndex:i,value:n})}}_storeTrackDimensions(){if(this.trackElement){const e=this._getDimensions(this.trackElement);this._trackHeight=e.height,this._trackWidth=e.width}}_onLabelPointerDown(){this._isDisabled()||(this._dragged=!1,document.addEventListener("pointerup",this._onAnchorPointerUp),document.addEventListener("pointermove",this._onAnchorPointerMove))}_onLabelPointerMove(){this._isDisabled()||(this._dragged=!0)}_onLabelPointerUp(e){if(this._isDisabled())return;const t=ae(e.target);this.labelInputsEnabled&&!this._dragged&&null!=t&&(this._activeLabelInputIndex=t),this._dragged=!1,this.notifyChange("state"),document.removeEventListener("pointerup",this._onLabelPointerUp),document.removeEventListener("pointermove",this._onLabelPointerMove)}_onLabelInputBlur(e){const{_activeLabelInputIndex:t,values:i,viewModel:n}=this,s=e.target.value;if(this._activeLabelInputIndex=null,this.notifyChange("state"),!s||null==t||null==i)return;const o=this._parseInputValue(s,"value",t),l=i[t],{min:a,max:r}=this.viewModel.getBoundsForValueAtIndex(t);if(o<a||o>r)return;n.setValue(t,o);const u=this.values[t];l!==u&&this._emitThumbChangeEvent({index:t,oldValue:l,value:u})}_onInputKeyDown(e){if(this._isDisabled())return;const{target:t}=e,i=(0,O.Mk)(e),{hideInput1:n,hideInput2:s,hideInput3:o}=ne,{_activeLabelInputIndex:l,_anchorElements:a}=this,r=t;if(i===n||i===s||i===o){e.stopPropagation();const t=l;r.blur(),null!=t?a[t].focus():r.parentElement?.focus()}}_onMaxLabelClick(){this._isDisabled()||(this._emitRangeLabelClickEvent({type:"max-click",value:this.max}),this.rangeLabelInputsEnabled&&(this._isMaxInputActive=!0,this.notifyChange("state")))}_onMaxLabelKeyDown(e){this._isDisabled()||(0,O.Mk)(e)!==ne.showInput||(this._isMaxInputActive=!0,this.notifyChange("state"))}_onMaxInputBlur(e){const t=e.target.value;if(this._isMaxInputActive=!1,this.notifyChange("state"),!t)return;const i=this.max,n=this._parseInputValue(t,"max");n<=this.min||(this.viewModel.set("max",n),this.max!==i&&this._emitMaxChangeEvent({oldValue:i,value:this.max}))}_onMinLabelClick(){this._isDisabled()||(this._emitRangeLabelClickEvent({type:"min-click",value:this.min}),this.rangeLabelInputsEnabled&&(this._isMinInputActive=!0,this.notifyChange("state")))}_onMinLabelKeyDown(e){this._isDisabled()||(0,O.Mk)(e)!==ne.showInput||(this._isMinInputActive=!0,this.notifyChange("state"))}_onMinInputBlur(e){const t=e.target.value;if(this._isMinInputActive=!1,this.notifyChange("state"),!t)return;const i=this.min,n=this._parseInputValue(t,"min");n>=this.max||(this.viewModel.set("min",n),this.min!==i&&this._emitMinChangeEvent({oldValue:i,value:this.min}))}_isDisabled(){return this.disabled||"disabled"===this.state}_positionFromValue(e){const{_trackHeight:t,_trackWidth:i}=this,n=this.min??0,s=this.max??0,o=s-n;if(0===o||null==e)return 0;const l=this._isHorizontalLayout();let a=l?parseFloat((i*(e-n)/o).toFixed(2)):parseFloat((t*(s-e)/o).toFixed(2));return this._isReversedLayout()&&(a=l?i-a:t-a),a}_valueFromPosition(e){const{_trackHeight:t,_trackWidth:i,precision:n}=this,s=this.min??0,o=this.max??0,l=o-s;let a=this._isHorizontalLayout()?e*l/i+s:l*(1e3-e/t*1e3)/1e3+s;return this._isReversedLayout()&&(a=o+s-a),parseFloat(a.toFixed(n))}_positionToPercent(e){const{_trackHeight:t,_trackWidth:i}=this,n=100*e/(this._isHorizontalLayout()?i:t);return this._applyPrecisionToPosition(n)}_applyPrecisionToPosition(e){return parseFloat(e.toFixed(this._positionPrecision))}_isPositionInverted(){const{layout:e}=this;return"horizontal-reversed"===e||"vertical"===e}_isHorizontalLayout(){return this.layout.includes("horizontal")}_isReversedLayout(){return this.layout.includes("reversed")}_normalizeSegmentDetails(e){if(this._isPositionInverted()){const{min:t,max:i}=e;return{min:i,max:t}}return e}_parseInputValue(e,t,i){return this.inputParseFunction?this.inputParseFunction(e,t,i):this.viewModel.defaultInputParseFunction(e)}_formatInputValue(e,t,i){return this.inputFormatFunction?this.inputFormatFunction(e,t,i):this.viewModel.defaultInputFormatFunction(e)}_getAnchorDetails(e){const t=this.values,i=[...t].sort(((e,t)=>e-t))[e],n=t.indexOf(i);return{index:n,position:this._getPositionOfElement(this._anchorElements[n]),value:i}}_updateAnchorStyle(e,t){const i=this._anchorElements[e];i&&(this._isHorizontalLayout()?i.style.left=`${t}`:i.style.top=`${t}`)}_getStyleForAnchor(e,t,i){const n=this._getPositionStyleForElement(e);if(1===this.values?.length)return`${n}`;const s=this._zIndices[t];return`${n}; z-index: ${i?this._zIndexOffset+s:s}`}_getPositionStyleForElement(e){const t=this._positionFromValue(e),i=this._positionToPercent(t);return`${this._isHorizontalLayout()?"left":"top"}: ${i}%`}_getPositionOfElement(e){const t=this._getDimensions(e.offsetParent),i=this._getDimensions(e);return this._isHorizontalLayout()?this._applyPrecisionToPosition(i.left-t.left):this._applyPrecisionToPosition(i.top-t.top)}_updateAnchorValues(e,t){e.forEach(((e,i)=>this._toValue(e,t[i])))}_updateAnchorValuesByDifference(e){const{min:t,max:i,values:n}=this;n?.forEach(((n,s)=>this._toValue(s,Math.max(Math.min(n+e,i),t))))}_toValue(e,t){null!=this.steps&&(t=this._getStepValues()[this._getIndexOfNearestStepValue(t)]),this._updateAnchorStyle(e,this._getPositionStyleForElement(t)),this.viewModel.setValue(e,t)}_toPosition(e,t){const i=null!=this.steps?this._getStepValueForAnchorAtPosition(e,t):this._getValueForAnchorAtPosition(e,t);this._updateAnchorStyle(e,this._getPositionStyleForElement(i)),this.viewModel.setValue(e,i)}_getValueForAnchorAtPosition(e,t){const{min:i,max:n}=this._getAnchorBoundsInPixels(e),{min:s,max:o}=this.viewModel.getBoundsForValueAtIndex(e);let l,a,r=null;return this._isPositionInverted()?(l=s,a=o):(l=o,a=s),r=t>n?l:t<i?a:this._valueFromPosition(t),r>o?r=o:r<s&&(r=s),r}_getStepValueForAnchorAtPosition(e,t){const i=this._getStepValues(),n=this._calculateNearestStepPosition(t),s=this._getValueForAnchorAtPosition(e,n);return i[this._getIndexOfNearestStepValue(s)]}_getAnchorBoundsAsPercents(e){const{min:t,max:i}=this._getAnchorBoundsInPixels(e);return{min:this._positionToPercent(t),max:this._positionToPercent(i)}}_getAnchorBoundsInPixels(e){const{_anchorElements:t,_trackHeight:i,_trackWidth:n,effectiveMax:s,effectiveMin:o,thumbsConstrained:l}=this,a=t[e-1],r=t[e+1],u=this._isHorizontalLayout()?n:i;let m,d;return this._isPositionInverted()?(m=null!=o?this._positionFromValue(o):u,d=null!=s?this._positionFromValue(s):0):(m=null!=s?this._positionFromValue(s):u,d=null!=o?this._positionFromValue(o):0),l?this._isPositionInverted()?{max:a?this._getPositionOfElement(a):m,min:r?this._getPositionOfElement(r):d}:{max:r?this._getPositionOfElement(r):m,min:a?this._getPositionOfElement(a):d}:{max:m,min:d}}_getIndexOfNearestValue(e){const t=this.values;return t.indexOf(t.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t)))}_getCursorPositionFromEvent(e){const t=this._getDimensions(this.trackElement);return this._isHorizontalLayout()?e.clientX-t.left:e.clientY-t.top}_getStepValues(){const{steps:e}=this;if(Array.isArray(e))return e;const{max:t,min:i}=this;if(null==i||null==t||null==e)return[];const n=Math.ceil((t-i)/e),s=[];for(let o=0;o<=n;o++){const n=i+e*o;s.push(n>t?t:n)}return s}_toStep(e,t){const i=this.values[e],n=this._getStepValues(),s=n.indexOf(i);let o=null;if(s>-1){let i=n[s+t];isNaN(i)&&(i=n[s]);const l=this._positionFromValue(i);o=this._getStepValueForAnchorAtPosition(e,l)}else o=n[this._getIndexOfNearestStepValue(i)+t];this.viewModel.setValue(e,o)}_getIndexOfNearestStepValue(e){const{steps:t}=this;if(null==t)return null;const i=this._getStepValues(),n=i.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t));return i.indexOf(n)}_calculateNearestStepPosition(e){const t=this._valueFromPosition(e),i=this._getIndexOfNearestStepValue(t),n=this._getStepValues();return this._positionFromValue(n[i])}_getTickCounts(e,t){const{mode:i}=t;return"count"===i||"position"===i?e||0:"percent"===i&&100/e||0}_calculateTickPositions(e){return e.map((e=>this._positionFromValue(e)))}_calculateEquidistantTickPositions(e){const{_trackWidth:t,_trackHeight:i}=this,n=this._isHorizontalLayout()?t:i,s=n/(e-1),o=[];if(1===e)return[n/2];for(let l=0;l<e;l++){const e=l*s;e<=n&&o.push(e)}return o}_getDimensions(e){try{return(0,Z.Lw)(e),e.getBoundingClientRect()}catch(ye){if("object"==typeof ye&&null!==ye)return new DOMRect(0,0,0,0);throw ye}}_emitTrackClickEvent(e){this.emit("track-click",{...e,type:"track-click"})}_emitTickClickEvent(e){this.emit("tick-click",{...e,type:"tick-click"})}_emitMaxChangeEvent(e){this.emit("max-change",{...e,type:"max-change"})}_emitMinChangeEvent(e){this.emit("min-change",{...e,type:"min-change"})}_emitThumbChangeEvent(e){this.emit("thumb-change",{...e,type:"thumb-change"})}_emitThumbClickEvent(e){this.emit("thumb-click",{...e,type:"thumb-click"})}_emitThumbDragEvent(e){this.emit("thumb-drag",{...e,type:"thumb-drag"})}_emitSegmentClickEvent(e){this.emit("segment-click",{...e,type:"segment-click"})}_emitSegmentDragEvent(e){this.emit("segment-drag",{...e,type:"segment-drag"})}_emitRangeLabelClickEvent(e){this.emit(e.type,{...e})}};function ae(e){return e?.["data-thumb-index"]}function re(e){return e?.["data-input-index"]}function ue(e){return e?.["data-segment-index"]}function me(e){return e?.["data-min-thumb-index"]}function de(e){return e?.["data-max-thumb-index"]}function Ae(e){return e?.["data-value"]}function ce(e){return e?.["data-tick-config-index"]}function he(e){return e?.["data-tick-group-index"]}function pe(e){return e?.["data-config"]}(0,B._)([(0,Q.MZ)()],le.prototype,"disabled",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"draggableSegmentsEnabled",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"effectiveMax",null),(0,B._)([(0,Q.MZ)()],le.prototype,"effectiveMin",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"effectiveSegmentElements",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"extraNodes",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"inputCreatedFunction",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"inputFormatFunction",null),(0,B._)([(0,Q.MZ)()],le.prototype,"inputParseFunction",null),(0,B._)([(0,Q.MZ)()],le.prototype,"label",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"labelElements",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"labelInputsEnabled",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"labelFormatFunction",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"labels",null),(0,B._)([(0,Q.MZ)({value:"horizontal"})],le.prototype,"layout",null),(0,B._)([(0,Q.MZ)()],le.prototype,"max",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"maxLabelElement",void 0),(0,B._)([(0,Q.MZ)(),(0,q.G)("geoscene/widgets/Slider/t9n/Slider")],le.prototype,"messages",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"min",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"minLabelElement",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"precision",null),(0,B._)([(0,Q.MZ)()],le.prototype,"rangeLabelInputsEnabled",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"segmentElements",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"snapOnClickEnabled",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"state",null),(0,B._)([(0,Q.MZ)()],le.prototype,"steps",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"syncedSegmentsEnabled",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"thumbsConstrained",null),(0,B._)([(0,Q.MZ)()],le.prototype,"thumbCreatedFunction",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"thumbElements",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"tickConfigs",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"tickElements",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],le.prototype,"trackElement",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"values",null),(0,B._)([(0,Q.MZ)()],le.prototype,"viewModel",void 0),(0,B._)([(0,Q.MZ)()],le.prototype,"visibleElements",void 0),(0,B._)([(0,K.w)("visibleElements")],le.prototype,"castVisibleElements",null),le=(0,B._)([(0,V.$)(se)],le);const ve=le;var ge=i(84385),be=i(39757),_e=i(79e3),fe=i(41398);const ye="geoscene-time-slider",Ee={widgetIcon:"geoscene-icon-time-clock",geosceneWidget:"geoscene-widget",geosceneWidgetButton:"geoscene-widget--button",esriButtonDisabled:"geoscene-button--disabled",esriDisabled:"geoscene-disabled",timeSlider:`${ye}`,timeSliderOutOfBounds:`${ye}--out-of-bounds`,timeSliderMode:`${ye}__mode--`,timeSliderLayout:`${ye}__layout--`,timeSliderRow:`${ye}__row`,animation:`${ye}__animation`,animationButton:`${ye}__animation-button`,animationPlay:"geoscene-icon-play",animationPause:"geoscene-icon-pause",timeExtent:`${ye}__time-extent`,timeExtentGroup:`${ye}__time-extent-group`,timeExtentDate:`${ye}__time-extent-date`,timeExtentTime:`${ye}__time-extent-time`,timeExtentSeparator:`${ye}__time-extent-separator`,playbackControls:`${ye}__playback-controls`,min:`${ye}__min`,minDate:`${ye}__min-date`,minTime:`${ye}__min-time`,slider:`${ye}__slider`,sliderMajorTick:"majorTick",sliderMinorTick:"minorTick",max:`${ye}__max`,maxDate:`${ye}__max-date`,maxTime:`${ye}__max-time`,previous:`${ye}__previous`,previousButton:`${ye}__previous-button`,previousIcon:"geoscene-icon-reverse",next:`${ye}__next`,nextButton:`${ye}__next-button`,nextIcon:"geoscene-icon-forward",warning:`${ye}__warning`,warningIcon:"geoscene-icon-notice-triangle",warningText:`${ye}__warning-text`,hasActions:`${ye}--has-actions`,actions:`${ye}__actions`,actionsButton:`${ye}__actions-button`};var we,xe=i(58725),ke=i(20573),Ie=i(45477),Me=i(71120),Ce=i(28920),Se=i(1834);let Te=we=class extends Ce.oY{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new we((0,Se.o8)({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};(0,B._)([(0,Q.MZ)({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Te.prototype,"enabled",void 0),(0,B._)([(0,Q.MZ)({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Te.prototype,"longNames",void 0),(0,B._)([(0,Q.MZ)({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Te.prototype,"minimized",void 0),(0,B._)([(0,Q.MZ)({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Te.prototype,"pinnedLevels",void 0),(0,B._)([(0,Q.MZ)({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Te.prototype,"site",void 0),(0,B._)([(0,Q.MZ)({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Te.prototype,"facility",void 0),(0,B._)([(0,Q.MZ)({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Te.prototype,"level",void 0),Te=we=(0,B._)([(0,V.$)("geoscene.webdoc.widgets.FloorFilter")],Te);const Be=Te;var Pe,Fe=i(94924);const Le=new Fe.J({slider:"slider",picker:"picker"});let De=Pe=class extends Ce.oY{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new Pe({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};(0,B._)([(0,Q.MZ)({type:Le.apiValues,nonNullable:!0,json:{type:Le.jsonValues,default:null,read:{reader:Le.read},write:{isRequired:!0,writer:Le.write}}})],De.prototype,"interactionMode",void 0),(0,B._)([(0,Q.MZ)({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return{enabled:!e,isRequired:!e}}}}})],De.prototype,"numStops",void 0),(0,B._)([(0,Q.MZ)({type:Number,json:{write:{overridePolicy(){return{isRequired:null==this.numStops}}}}})],De.prototype,"stopInterval",void 0),De=Pe=(0,B._)([(0,V.$)("geoscene.webdoc.widgets.Range")],De);const Ze=De;var Ne,Ue=i(53969),Qe=i(70681),Re=i(51253);let Ve=Ne=class extends Ce.oY{constructor(e){super(e),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(e){if(!e)return;const t=null!=e[0]?new Date(e[0]):null,i=null!=e[1]?new Date(e[1]):null;return new xe.A({start:t,end:i})}writeCurrentTimeExtent(e,t,i){e&&(0,Ue.sM)(i,[null!=e.start?e.start.getTime():null,null!=e.end?e.end.getTime():null],t)}readFullTimeExtent(e,t){const i=t.properties;if(!i)return;const n=null!=i.endTime?new Date(i.endTime):null,s=null!=i.startTime?new Date(i.startTime):null;return new xe.A({start:s,end:n})}writeFullTimeExtent(e,t){if(!e)return;const i=t.properties=t.properties||{},n=e.end,s=e.start;n&&(i.endTime=null!=n?n.getTime():null),s&&(i.startTime=null!=s?s.getTime():null)}readStopInterval(e,t,i){return e?P.A.fromJSON({value:e.interval,unit:e.units},i):null}writeStopInterval(e,t,i,n){if(!e)return;const s=e.toJSON(n);(0,Ue.sM)(i,{interval:s.value,units:s.unit},t)}readStops(e){return e&&e.length?e.map((e=>new Date(e))):null}writeStops(e,t,i){e&&e.length&&(0,Ue.sM)(i,e.map((e=>e.getTime())),t)}clone(){return new Ne((0,Se.o8)({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};(0,B._)([(0,Q.MZ)({type:xe.A,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Ve.prototype,"currentTimeExtent",void 0),(0,B._)([(0,Qe.w)("currentTimeExtent")],Ve.prototype,"readCurrentTimeExtent",null),(0,B._)([(0,Re.K)("currentTimeExtent")],Ve.prototype,"writeCurrentTimeExtent",null),(0,B._)([(0,Q.MZ)({type:xe.A,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Ve.prototype,"fullTimeExtent",void 0),(0,B._)([(0,Qe.w)("fullTimeExtent")],Ve.prototype,"readFullTimeExtent",null),(0,B._)([(0,Re.K)("fullTimeExtent")],Ve.prototype,"writeFullTimeExtent",null),(0,B._)([(0,Q.MZ)({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Ve.prototype,"loop",void 0),(0,B._)([(0,Q.MZ)({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const e=!!this.stopInterval,t=!!this.stops?.length,i=!(e||t);return{enabled:i,isRequired:i}}}}})],Ve.prototype,"numStops",void 0),(0,B._)([(0,Q.MZ)({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Ve.prototype,"numThumbs",void 0),(0,B._)([(0,Q.MZ)({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Ve.prototype,"stopDelay",void 0),(0,B._)([(0,Q.MZ)({type:P.A,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){const e=null!=this.numStops,t=!!this.stops?.length;return{enabled:!t,isRequired:!(e||t)}}}}})],Ve.prototype,"stopInterval",void 0),(0,B._)([(0,Qe.w)("stopInterval")],Ve.prototype,"readStopInterval",null),(0,B._)([(0,Re.K)("stopInterval")],Ve.prototype,"writeStopInterval",null),(0,B._)([(0,Q.MZ)({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:null==this.numStops&&!this.stopInterval}}}}})],Ve.prototype,"stops",void 0),(0,B._)([(0,Qe.w)("stops")],Ve.prototype,"readStops",null),(0,B._)([(0,Re.K)("stops")],Ve.prototype,"writeStops",null),Ve=Ne=(0,B._)([(0,V.$)("geoscene.webdoc.widgets.TimeSlider")],Ve);const ze=Ve;var Oe;let Ke=Oe=class extends Ce.oY{constructor(e){super(e),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new Oe((0,Se.o8)({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};(0,B._)([(0,Q.MZ)({type:Ze,json:{write:!0}})],Ke.prototype,"range",void 0),(0,B._)([(0,Q.MZ)({type:ze,json:{write:!0}})],Ke.prototype,"timeSlider",void 0),(0,B._)([(0,Q.MZ)({type:Be,json:{write:!0}})],Ke.prototype,"floorFilter",void 0),Ke=Oe=(0,B._)([(0,V.$)("geoscene.webdoc.Widgets")],Ke);const je=Ke,Ge=1e4;function Je(e){return null!=e&&void 0!==e.count}function We(e){return null!=e&&void 0!==e.interval}function Ye(e){return null!=e&&void 0!==e.dates}function He(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"geoscene.WebMap"===e.declaredClass}let Xe=class extends((0,Ie.$)(ke.A.EventedAccessor)){constructor(e){super(e),this._animationController=null,this._isViewTimeExtentInitialized=!1,this._timerId=null,this.actions=new L.A,this.fullTimeExtent=null,this.loop=!1,this.mode="time-window",this.stops={count:10},this.timeExtent=null,this.view=null}initialize(){this.handles.add([(0,N.wB)((()=>this.effectiveStops),(()=>{null==this.timeExtent&&(this.timeExtent=this._getDefaultTimeExtent())}),N.Vh),(0,N.wB)((()=>this.view),((e,t)=>{this._unregisterWidget(t),this._registerWidget(e)}),N.pc),(0,N.wB)((()=>this.timeExtent),(e=>{if(null==this.view)return;const t=this.view.timeExtent;(null!=e&&!e.isAllTime||null!=t&&!t.isAllTime)&&(null!=e&&null!=t&&e.equals(t)||(this.view.timeExtent=e))}),N.Vh),(0,N.wB)((()=>(0,Z.Rh)(this.view,(e=>e.timeExtent))),(e=>{this._isViewTimeExtentInitialized?(null!=e&&!e.isAllTime||null!=this.timeExtent&&!this.timeExtent.isAllTime)&&(null!=e&&null!=this.timeExtent&&e.equals(this.timeExtent)||(this.timeExtent=e)):this._isViewTimeExtentInitialized=!0}))])}destroy(){null!=this._timerId&&(clearInterval(this._timerId),this._timerId=null),this._unregisterWidget(this.view),this.view=null,null!=this._animationController&&(this._animationController.abort(),this._animationController=null)}get effectiveStops(){const{fullTimeExtent:e,stops:t}=this;if(Ye(t)){const{dates:i}=t;if(null==i||0===i.length)return null;const n=i.sort(((e,t)=>e.getTime()-t.getTime()));if(null==e)return n;const{start:s,end:o}=e;return null==s||null==o?n:n.filter((e=>!(e.getTime()<s.getTime()||e.getTime()>o.getTime())))}if(Je(t)){const i=t.timeExtent??e;return this._divideTimeExtentByCount(i,t.count)}if(We(t)){const i=t.timeExtent??e;return this._divideTimeExtentByInterval(i,t.interval)}return[]}set playRate(e){e<=0||e>36e5||("playing"===this.state&&this._startAnimation(),this._set("playRate",e))}get state(){return null==this.fullTimeExtent?"disabled":null!=this._animationController?"playing":"ready"}get timeExtentValues(){const{mode:e,timeExtent:t}=this;if(null==t||t.isAllTime||t.isEmpty)return null;const{start:i,end:n}=t;switch(e){case"cumulative-from-end":case"instant":return null!=i?[i.getTime()]:null;case"cumulative-from-start":return null!=n?[n.getTime()]:null;case"time-window":return null!=i&&null!=n?[i.getTime(),n.getTime()]:null}}static async getPropertiesFromWebMap(e,t){if(null==e||!He(e))return null;await e.load({signal:t});const n=e?.widgets?.timeSlider;if(!n)return null;const{getFullTimeExtentFromWebDocument:s,getModeFromTimeSlider:o,getStopsFromTimeSlider:l,getTimeExtentFromTimeSlider:a}=await i.e(8368).then(i.bind(i,48368)),r=await s(e,t),u=n.loop,m=o(n);return{fullTimeExtent:r,loop:u,mode:m,playRate:n.stopDelay??2e3,stops:l(n),timeExtent:a(n,m)}}next(){this._step({forward:!0,allowRestart:!1})}play(){this._startAnimation()}previous(){this._step({forward:!1,allowRestart:!1})}stop(){this._stopAnimation()}triggerAction(e){this.emit("trigger-action",{action:e})}updateWebDocument(e){if(He(e)){const t=new ze({currentTimeExtent:this.timeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:Je(this.stops)?this.stops.count:null,numThumbs:"time-window"===this.mode?2:1,stopDelay:this.playRate,stopInterval:We(this.stops)?this.stops.interval:null,stops:Ye(this.stops)?this.stops.dates:null});e.widgets?e.widgets.timeSlider=t:e.widgets=new je({timeSlider:t})}}valuesToTimeExtent(e){if(null==e)return null;const t=e.sort(((e,t)=>e-t)).map((e=>new Date(e))),i=t.length>0?t[0]:null,n=t.length>1?t[1]:null;switch(this.mode){case"time-window":return new xe.A({start:i,end:n});case"instant":return new xe.A({start:i,end:i});case"cumulative-from-start":return new xe.A({start:null,end:i});case"cumulative-from-end":return new xe.A({start:i,end:null});default:return xe.A.allTime}}async _animate(){try{const e=this.view,t=(0,Z.Rh)(this._animationController,(e=>e.signal));await Promise.all([(0,Me.Pl)(this.playRate,null,t),null!=e&&(0,N.C_)((()=>!1===e.updating),t)])}catch(ye){return(0,Me.zf)(ye)||W.A.getLogger(this).error(ye),void(this._animationController=null)}this._step({forward:!0,allowRestart:!1}),null!=this._animationController&&this._animate()}_divideTimeExtentByCount(e,t=10){if(!e||!t)return[];const{start:i,end:n}=e;if(null==i||null==n)return[];if(t>Ge)return this._divideTimeExtentByCount(e);const s=[],o=i.getTime(),l=n.getTime()-o;for(let a=0;a<=t;a++)s.push(new Date(o+a/t*l));return s}_divideTimeExtentByInterval(e,t,i=Ge){if(!e||!t)return[];const{start:n,end:s}=e;if(null==n||null==s)return[];const o=s.getTime()-n.getTime(),l=t.toMilliseconds();if(l<=0||o/l>i)return this._divideTimeExtentByCount(e);const a=[],{value:r,unit:u}=t;let m=n;for(;m.getTime()<=s.getTime();)a.push(new Date(m.getTime())),m=(0,U.S1)(m,r,u);return a}_getDefaultTimeExtent(){const{effectiveStops:e,mode:t}=this;if(null==e||!t)return null;switch(t){case"time-window":return e.length>1?new xe.A({start:e[0],end:e[1]}):null;case"cumulative-from-start":return e.length>0?new xe.A({start:null,end:e[0]}):null;case"cumulative-from-end":return e.length>0?new xe.A({start:e[0],end:null}):null;case"instant":return e.length>0?new xe.A({start:e[0],end:e[0]}):null;default:return null}}_registerWidget(e){null!=e&&(e.persistableViewModels.includes(this)||e.persistableViewModels.add(this))}_startAnimation(){this._stopAnimation(),this._animationController=new AbortController,this._step({forward:!0,allowRestart:!0}),this._animate()}_step(e){const{forward:t,allowRestart:i}=e,{effectiveStops:n}=this;if(null==this.timeExtentValues||null==n)return;const s=n.map((e=>e.getTime())),o=this.timeExtentValues.map((e=>{const t=s.indexOf(e);if(-1!==t)return t;const i=s.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t));return s.indexOf(i)})),l=o.map((e=>e+(t?1:-1))),a=l.some((e=>e<0||e>s.length-1)),{loop:r,state:u}=this;if(a)if(r||i){const e=Math.min(...o),i=Math.max(...o),n=(t?o.map((t=>t-e)):o.map((e=>e+(s.length-1-i)))).map((e=>s[e]));this.timeExtent=this.valuesToTimeExtent(n)}else"playing"===u&&this.stop();else{const e=l.map((e=>s[e]));this.timeExtent=this.valuesToTimeExtent(e)}}_stopAnimation(){null!=this._animationController&&(this._animationController.abort(),this._animationController=null)}_unregisterWidget(e){null!=e&&e.persistableViewModels.remove(this)}};(0,B._)([(0,Q.MZ)()],Xe.prototype,"_animationController",void 0),(0,B._)([(0,Q.MZ)({type:L.A})],Xe.prototype,"actions",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],Xe.prototype,"effectiveStops",null),(0,B._)([(0,Q.MZ)({type:xe.A})],Xe.prototype,"fullTimeExtent",void 0),(0,B._)([(0,Q.MZ)({nonNullable:!0})],Xe.prototype,"loop",void 0),(0,B._)([(0,Q.MZ)({nonNullable:!0})],Xe.prototype,"mode",void 0),(0,B._)([(0,Q.MZ)({nonNullable:!0,value:1e3})],Xe.prototype,"playRate",null),(0,B._)([(0,Q.MZ)({readOnly:!0})],Xe.prototype,"state",null),(0,B._)([(0,Q.MZ)({cast:e=>null==e?null:(We(e)&&(e.interval=(0,R.dp)(P.A,e.interval)),(We(e)||Je(e))&&(e.timeExtent=(0,R.dp)(xe.A,e.timeExtent)),e)})],Xe.prototype,"stops",void 0),(0,B._)([(0,Q.MZ)({type:xe.A})],Xe.prototype,"timeExtent",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],Xe.prototype,"timeExtentValues",null),(0,B._)([(0,Q.MZ)()],Xe.prototype,"view",void 0),(0,B._)([(0,Q.MZ)()],Xe.prototype,"next",null),(0,B._)([(0,Q.MZ)()],Xe.prototype,"play",null),(0,B._)([(0,Q.MZ)()],Xe.prototype,"previous",null),(0,B._)([(0,Q.MZ)()],Xe.prototype,"stop",null),(0,B._)([(0,Q.MZ)()],Xe.prototype,"updateWebDocument",null),Xe=(0,B._)([(0,V.$)("geoscene.widgets.TimeSlider.TimeSliderViewModel")],Xe);const qe=Xe,$e=3,et=858,tt=new L.A([{minor:new P.A({value:100,unit:"milliseconds"}),major:new P.A({value:1,unit:"seconds"}),format:{second:"numeric"}},{minor:new P.A({value:500,unit:"milliseconds"}),major:new P.A({value:5,unit:"seconds"}),format:{second:"numeric"}},{minor:new P.A({value:1,unit:"seconds"}),major:new P.A({value:20,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new P.A({value:2,unit:"seconds"}),major:new P.A({value:30,unit:"seconds"}),format:{minute:"numeric",second:"numeric"}},{minor:new P.A({value:10,unit:"seconds"}),major:new P.A({value:1,unit:"minutes"}),format:{minute:"numeric"}},{minor:new P.A({value:15,unit:"seconds"}),major:new P.A({value:5,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new P.A({value:1,unit:"minutes"}),major:new P.A({value:20,unit:"minutes"}),format:{hour:"numeric",minute:"numeric"}},{minor:new P.A({value:5,unit:"minutes"}),major:new P.A({value:2,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new P.A({value:15,unit:"minutes"}),major:new P.A({value:6,unit:"hours"}),format:{hour:"numeric",minute:"numeric"}},{minor:new P.A({value:1,unit:"hours"}),major:new P.A({value:1,unit:"days"}),format:{day:"numeric",month:"short"}},{minor:new P.A({value:6,unit:"hours"}),major:new P.A({value:1,unit:"weeks"}),format:{day:"numeric",month:"short"}},{minor:new P.A({value:1,unit:"days"}),major:new P.A({value:1,unit:"months"}),format:{month:"long"}},{minor:new P.A({value:2,unit:"days"}),major:new P.A({value:1,unit:"months"}),format:{month:"short"}},{minor:new P.A({value:3,unit:"days"}),major:new P.A({value:1,unit:"months"}),format:{month:"short"}},{minor:new P.A({value:4,unit:"days"}),major:new P.A({value:3,unit:"months"}),format:{month:"short",year:"numeric"}},{minor:new P.A({value:1,unit:"weeks"}),major:new P.A({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new P.A({value:1,unit:"months"}),major:new P.A({value:1,unit:"years"}),format:{year:"numeric"}},{minor:new P.A({value:2,unit:"months"}),major:new P.A({value:2,unit:"years"}),format:{year:"numeric"}},{minor:new P.A({value:1,unit:"years"}),major:new P.A({value:1,unit:"decades"}),format:{year:"numeric"}},{minor:new P.A({value:2,unit:"years"}),major:new P.A({value:5,unit:"decades"}),format:{year:"numeric"}},{minor:new P.A({value:5,unit:"decades"}),major:new P.A({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:1,unit:"centuries"}),major:new P.A({value:10,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:2,unit:"centuries"}),major:new P.A({value:20,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:5,unit:"centuries"}),major:new P.A({value:50,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:10,unit:"centuries"}),major:new P.A({value:100,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:20,unit:"centuries"}),major:new P.A({value:200,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:50,unit:"centuries"}),major:new P.A({value:500,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:100,unit:"centuries"}),major:new P.A({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:200,unit:"centuries"}),major:new P.A({value:1e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:500,unit:"centuries"}),major:new P.A({value:5e3,unit:"centuries"}),format:{era:"short",year:"numeric"}},{minor:new P.A({value:1e3,unit:"centuries"}),major:new P.A({value:1e4,unit:"centuries"}),format:{era:"short",year:"numeric"}}]);let it=class extends j.A{constructor(e,t){super(e,t),this._ignoreNextSliderUpdate=!1,this._slider=new ve({precision:0,visibleElements:{rangeLabels:!1},rangeLabelInputsEnabled:!1,thumbsConstrained:!1}),this._tickFormat=null,this.disabled=!1,this.iconClass=Ee.widgetIcon,this.icon=null,this.labelFormatFunction=null,this.messages=null,this.messagesCommon=null,this.tickConfigs=null,this.timeVisible=!1,this.viewModel=new qe}initialize(){this.addHandles([(0,N.wB)((()=>this._slider.values),(e=>{if(this._ignoreNextSliderUpdate)return void(this._ignoreNextSliderUpdate=!1);const t=this.viewModel.valuesToTimeExtent(e);null!=this.timeExtent?null!=t?this.timeExtent.equals(t)||(this.timeExtent=t):this.timeExtent=null:null!=t&&(this.timeExtent=t)})),(0,N.wB)((()=>this.effectiveStops),(()=>this._updateSliderSteps()),N.Vh)])}loadDependencies(){return(0,ge.W)({action:()=>Promise.all([i.e(2516),i.e(7993),i.e(5876)]).then(i.bind(i,33495)),"action-menu":()=>Promise.all([i.e(2516),i.e(7993),i.e(6746),i.e(162),i.e(4575)]).then(i.bind(i,34575))})}destroy(){this._slider.destroy(),this._tickFormat=null}get actions(){return this.viewModel.actions}set actions(e){this.viewModel.actions=e}get effectiveStops(){return this.viewModel.effectiveStops}get fullTimeExtent(){return this.viewModel.fullTimeExtent}set fullTimeExtent(e){this.viewModel.fullTimeExtent=e}get interactive(){return!this.disabled&&"disabled"!==this.viewModel?.state}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){["auto","compact","wide"].includes(e)||(e="auto"),this._set("layout",e)}get loop(){return this.viewModel.loop}set loop(e){this.viewModel.loop=e}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}get playRate(){return this.viewModel.playRate}set playRate(e){this.viewModel.playRate=e}get stops(){return this.viewModel.stops}set stops(e){this.viewModel.stops=e}get timeExtent(){return this.viewModel.timeExtent}set timeExtent(e){this.viewModel.timeExtent=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}static async getPropertiesFromWebMap(e,t){return qe.getPropertiesFromWebMap(e,t)}next(){return this.viewModel.next()}play(){return this.viewModel.play()}previous(){return this.viewModel.previous()}stop(){return this.viewModel.stop()}render(){const{_slider:e,actions:t,domNode:i,effectiveStops:n,fullTimeExtent:s,interactive:o,messages:l,messagesCommon:a,mode:r,tickConfigs:u,timeExtent:m,timeVisible:d,viewModel:{state:A,timeExtentValues:c}}=this;if(null!=s){const{start:t,end:i}=s;if(null!=t&&null!=i){const n=t.getTime(),s=i.getTime(),o=e.min!==n||e.max!==s;if(o&&(e.min=n,e.max=s),null!=u)e.tickConfigs!==u&&(e.tickConfigs=u);else{const t=(s-n)/(e.trackElement?.offsetWidth||400),i=tt.find((e=>e.minor.toMilliseconds()>$e*t))??tt.at(-1),l=this._tickFormat!==i&&null!=i;if(l&&(this._tickFormat=i),o||l){const t={mode:"position",values:this._getTickPositions(i.minor),labelsVisible:!1,tickCreatedFunction:(e,t)=>{t?.classList.add(Ee.sliderMinorTick)}},n={mode:"position",values:this._getTickPositions(i.major),labelsVisible:!0,tickCreatedFunction:(e,t)=>{t?.classList.add(Ee.sliderMajorTick)},labelFormatFunction:e=>(0,z.Yq)(e,i.format)};e.tickConfigs=[t,n]}}}}const h=null==this.fullTimeExtent||null==this.fullTimeExtent.start||null==this.fullTimeExtent.end||null==this.timeExtent||this.timeExtent.isAllTime||this.timeExtent.isEmpty||null!=this.timeExtent.start&&(this.timeExtent.start<this.fullTimeExtent.start||this.timeExtent.start>this.fullTimeExtent.end)||null!=this.timeExtent.end&&(this.timeExtent.end>this.fullTimeExtent.end||this.timeExtent.end<this.fullTimeExtent.start);if(h)switch(this._ignoreNextSliderUpdate=!0,r){case"time-window":e.values=[e.min,e.max];break;case"instant":case"cumulative-from-end":e.values=[e.min];break;case"cumulative-from-start":e.values=[e.max]}else null!=c?(0,F.aI)(e.values,c)||(e.values=c):e.values=null;e.disabled=!o;const p="ready"===A,v="playing"===A,g=h||!o||null==n||0===n.length,b="auto"===this.layout?i.clientWidth<et?"compact":"wide":this.layout,_=(0,$.K)("div",{class:Ee.animation},(0,$.K)("button",{"aria-disabled":g?"true":"false","aria-label":v?a.control.stop:a.control.play,bind:this,class:this.classes(Ee.geosceneWidgetButton,Ee.animationButton,g&&Ee.esriButtonDisabled),disabled:g,title:v?a.control.stop:a.control.play,onclick:this._playOrStopClick,type:"button"},(0,$.K)("div",{class:this.classes((p||g)&&Ee.animationPlay,v&&Ee.animationPause)}))),f=null!=this.labelFormatFunction?(0,$.K)("div",{key:"extent",bind:this,class:Ee.timeExtentDate,"data-type":"extent","data-layout":b,"data-date":(0,Z.Rh)(m,(e=>[e.start,e.end])),afterCreate:this._createLabel,afterUpdate:this._createLabel}):null==m||null!=m&&m.isAllTime?[(0,$.K)("div",{class:this.classes(Ee.warning,Ee.warningIcon)}),(0,$.K)("div",{key:"warning-text",class:Ee.warningText},l.noTimeExtent)]:m.isEmpty?[(0,$.K)("div",{class:this.classes(Ee.warning,Ee.warningIcon)}),(0,$.K)("div",{key:"warning-text",class:Ee.warningText},l.emptyTimeExtent)]:[null!=m.start&&(0,$.K)("div",{key:"start-date-group",class:Ee.timeExtentGroup},(0,$.K)("div",{key:"start-date",class:Ee.timeExtentDate},this._formatDate(m.start)),d&&(0,$.K)("div",{key:"start-time",class:Ee.timeExtentTime},this._formatTime(m.start))),null!=m.start&&null!=m.end&&m.start.getTime()!==m.end.getTime()&&(0,$.K)("div",{key:"separator",class:Ee.timeExtentSeparator},"–"),null!=m.end&&(null==m.start||m.start.getTime()!==m.end.getTime())&&(0,$.K)("div",{key:"end-date-group",class:Ee.timeExtentGroup},(0,$.K)("div",{key:"end-date",class:Ee.timeExtentDate},this._formatDate(m.end)),d&&(0,$.K)("div",{key:"end-time",class:Ee.timeExtentTime},this._formatTime(m.end)))],y=(0,$.K)("div",{class:this.classes(Ee.timeExtent,!o&&Ee.esriButtonDisabled)},[f]),E=null!=this.labelFormatFunction?(0,$.K)("div",{key:"min-date",bind:this,class:Ee.minDate,"data-date":(0,Z.Rh)(s,(e=>e.start)),"data-type":"min","data-layout":b,afterCreate:this._createLabel,afterUpdate:this._createLabel}):null!=s&&null!=s.start&&[(0,$.K)("div",{key:"min-date",class:Ee.minDate},this._formatDate(s.start)),d&&(0,$.K)("div",{key:"min-time",class:Ee.minTime},this._formatTime(s.start))],w=(0,$.K)("div",{class:this.classes(Ee.min,!o&&Ee.esriButtonDisabled)},[E]),x=(0,$.K)("div",{class:Ee.slider},e.render()),k=null!=this.labelFormatFunction?(0,$.K)("div",{key:"max-date",bind:this,class:Ee.maxDate,"data-date":(0,Z.Rh)(s,(e=>e.end)),"data-type":"max","data-layout":b,afterCreate:this._createLabel,afterUpdate:this._createLabel}):null!=s&&null!=s.end&&[(0,$.K)("div",{key:"max-date",class:Ee.maxDate},this._formatDate(s.end)),d&&(0,$.K)("div",{key:"max-time",class:Ee.maxTime},this._formatTime(s.end))],I=(0,$.K)("div",{class:this.classes(Ee.max,!o&&Ee.esriButtonDisabled)},[k]),M=(0,$.K)("div",{class:Ee.previous},(0,$.K)("button",{"aria-disabled":g?"true":"false","aria-label":a.pagination.previous,bind:this,class:this.classes(Ee.geosceneWidgetButton,Ee.previousButton,(v||g)&&Ee.esriButtonDisabled),disabled:g,title:a.pagination.previous,onclick:this._previousClick,type:"button"},(0,$.K)("div",{class:Ee.previousIcon}))),C=(0,$.K)("div",{class:Ee.next},(0,$.K)("button",{"aria-disabled":g?"true":"false","aria-label":a.pagination.next,bind:this,class:this.classes(Ee.geosceneWidgetButton,Ee.nextButton,(v||g)&&Ee.esriButtonDisabled),disabled:g,title:a.pagination.next,onclick:this._nextClick,type:"button"},(0,$.K)("div",{class:Ee.nextIcon}))),S=t?.length>0,T=S&&(0,$.K)("div",{class:Ee.actions,title:a.options},(0,$.K)("calcite-action-menu",{label:a.options,class:Ee.actionsButton},t.toArray().map((e=>(0,$.K)("calcite-action",{bind:this,icon:e.icon,id:e.id,onclick:()=>this.viewModel.triggerAction(e),text:e.title,textEnabled:!0})))));return(0,$.K)("div",{class:this.classes(Ee.timeSlider,Ee.geosceneWidget,`${Ee.timeSliderMode}${r}`,`${Ee.timeSliderLayout}${b}`,!o&&Ee.esriDisabled,h&&Ee.timeSliderOutOfBounds,S&&Ee.hasActions,(0,fe.fJ)()),afterCreate:e=>{this.addHandles((0,X.EV)(e,(()=>this.scheduleRender())))},"aria-label":l.widgetLabel},"wide"===b&&(0,$.K)("div",{class:Ee.timeSliderRow},(0,$.K)("div",{class:Ee.playbackControls},[_,y,w,x,I,M,C]),T),"compact"===b&&[(0,$.K)("div",{key:"time-slider-row-1",class:Ee.timeSliderRow},[y,T]),(0,$.K)("div",{key:"time-slider-row-2",class:Ee.timeSliderRow},[x]),(0,$.K)("div",{key:"time-slider-row-3",class:Ee.timeSliderRow},[w,M,_,C,I])])}updateWebDocument(e){this.viewModel?.updateWebDocument(e)}_createLabel(e){if(null==this.labelFormatFunction)return;const t=e.getAttribute("data-type"),i=e.getAttribute("data-layout"),n=e["data-date"];this.labelFormatFunction(n,t,e,i)}_getTickPositions(e){const{fullTimeExtent:t}=this;if(null==t||null==t.start||null==t.end)return[];const{start:i,end:n}=t,s=[],{value:o,unit:l}=e;let a=(0,U.lL)(i,l);for(;a.getTime()<=n.getTime();)a.getTime()>=i.getTime()&&s.push(a.getTime()),a=(0,U.S1)(a,o,l);return s}_formatDate(e){return e?(0,z.Yq)(e,(0,z.J2)("short-date")):null}_formatTime(e){return e?(0,z.Yq)(e,(0,z.J2)("long-time")):null}_updateSliderSteps(){this._slider.steps=null!=this.effectiveStops&&this.effectiveStops.length>0?this.effectiveStops.map((e=>e.getTime())):null}_playOrStopClick(){switch(this.viewModel.state){case"ready":this.viewModel.play();break;case"playing":this.viewModel.stop();break;case"disabled":break;default:(0,D.Xb)(this.viewModel.state)}}_previousClick(){this.viewModel.previous()}_nextClick(){this.viewModel.next()}};(0,B._)([(0,Q.MZ)()],it.prototype,"actions",null),(0,B._)([(0,Q.MZ)()],it.prototype,"disabled",void 0),(0,B._)([(0,Q.MZ)()],it.prototype,"effectiveStops",null),(0,B._)([(0,Q.MZ)()],it.prototype,"fullTimeExtent",null),(0,B._)([(0,Q.MZ)()],it.prototype,"iconClass",void 0),(0,B._)([(0,Q.MZ)()],it.prototype,"icon",void 0),(0,B._)([(0,Q.MZ)({readOnly:!0})],it.prototype,"interactive",null),(0,B._)([(0,Q.MZ)()],it.prototype,"label",null),(0,B._)([(0,Q.MZ)()],it.prototype,"labelFormatFunction",void 0),(0,B._)([(0,Q.MZ)({value:"auto"})],it.prototype,"layout",null),(0,B._)([(0,Q.MZ)()],it.prototype,"loop",null),(0,B._)([(0,Q.MZ)(),(0,q.G)("geoscene/widgets/TimeSlider/t9n/TimeSlider")],it.prototype,"messages",void 0),(0,B._)([(0,Q.MZ)(),(0,q.G)("geoscene/t9n/common")],it.prototype,"messagesCommon",void 0),(0,B._)([(0,Q.MZ)()],it.prototype,"mode",null),(0,B._)([(0,Q.MZ)()],it.prototype,"playRate",null),(0,B._)([(0,Q.MZ)()],it.prototype,"stops",null),(0,B._)([(0,Q.MZ)()],it.prototype,"tickConfigs",void 0),(0,B._)([(0,Q.MZ)()],it.prototype,"timeExtent",null),(0,B._)([(0,Q.MZ)({nonNullable:!0})],it.prototype,"timeVisible",void 0),(0,B._)([(0,Q.MZ)()],it.prototype,"view",null),(0,B._)([(0,Q.MZ)({type:qe}),(0,_e.U)("trigger-action")],it.prototype,"viewModel",void 0),(0,B._)([(0,be.$)()],it.prototype,"_playOrStopClick",null),(0,B._)([(0,be.$)()],it.prototype,"_previousClick",null),(0,B._)([(0,be.$)()],it.prototype,"_nextClick",null),it=(0,B._)([(0,V.$)("geoscene.widgets.TimeSlider")],it);const nt=it;var st={name:"DatamanagerView",data(){return{resultLayer:null,toolboxIcon:i(52753),BasemapName:"",ismaploading:!0,showToolboxPopup:!1,showLoadDataPopup:!1,showTimeSlider:!1,timeSliderDisabled:!0,timeSlider:null}},watch:{timeSliderDisabled(e){this.timeSlider&&(this.timeSlider.disabled=e,this.timeSlider.renderNow())}},methods:{toggleToolbox(){this.showToolboxPopup=!this.showToolboxPopup},toggleTimeSlider(){this.timeSliderDisabled=!this.timeSliderDisabled,this.showTimeSlider=!this.showTimeSlider,this.timeSlider&&(this.timeSlider.disabled=this.timeSliderDisabled,this.timeSlider.renderNow())},openLoadDataPopup(){this.showLoadDataPopup=!0},confirmLoadData(){this.showLoadDataPopup=!1},cancelLoadData(){this.showLoadDataPopup=!1},initMap(){const e=new y.A({basemap:"tianditu-vector"}),t=new w.A({wkid:4326}),i=k.A.create({spatialReference:t,numLODs:32});this.createMapView(e,i)},createMapView(e,t){const i=new x["default"]({url:"https://www.geosceneonline.cn/server/rest/services/Hosted/wuhan_village/FeatureServer",title:"武汉县区面",renderer:{type:"simple",symbol:{type:"simple-fill",color:[0,0,0,0],outline:{color:[0,0,0,1],width:1}}},popupEnabled:!1});this.resultLayer=(0,f.IG)(new x["default"]({url:"https://www.geosceneonline.cn/server/rest/services/Hosted/result_2024_12_15_10min/FeatureServer",title:"分析结果",renderer:{type:"class-breaks",field:"result",classBreakInfos:[{minValue:0,maxValue:10,symbol:{type:"simple-marker",style:"circle",color:"#00FF00",size:6,outline:{color:"white",width:1}},label:"0 - 10"},{minValue:10,maxValue:50,symbol:{type:"simple-marker",style:"circle",color:"#FFFF00",size:6,outline:{color:"white",width:1}},label:"10 - 50"},{minValue:50,maxValue:100,symbol:{type:"simple-marker",style:"circle",color:"#FFA500",size:6,outline:{color:"white",width:1}},label:"50 - 100"},{minValue:100,maxValue:1/0,symbol:{type:"simple-marker",style:"circle",color:"#FF0000",size:6,outline:{color:"white",width:1}},label:"> 100"}]},popupTemplate:{title:"{road_name} - {result}",content:[{type:"fields",fieldInfos:[{fieldName:"pid",label:"PID"},{fieldName:"t07:20:00",label:"07:20:00"},{fieldName:"t07:30:00",label:"07:30:00"},{fieldName:"t07:40:00",label:"07:40:00"},{fieldName:"t07:50:00",label:"07:50:00"},{fieldName:"t08:00:00",label:"08:00:00"},{fieldName:"t08:10:00",label:"08:10:00"},{fieldName:"t08:20:00",label:"08:20:00"},{fieldName:"t08:30:00",label:"08:30:00"},{fieldName:"t08:40:00",label:"08:40:00"},{fieldName:"t08:50:00",label:"08:50:00"},{fieldName:"t09:00:00",label:"09:00:00"},{fieldName:"t09:10:00",label:"09:10:00"},{fieldName:"t09:20:00",label:"09:20:00"},{fieldName:"t09:30:00",label:"09:30:00"},{fieldName:"t09:40:00",label:"09:40:00"},{fieldName:"t09:50:00",label:"09:50:00"},{fieldName:"t14:50:00",label:"14:50:00"},{fieldName:"t15:00:00",label:"15:00:00"},{fieldName:"t15:10:00",label:"15:10:00"},{fieldName:"t15:20:00",label:"15:20:00"},{fieldName:"t15:30:00",label:"15:30:00"},{fieldName:"t15:40:00",label:"15:40:00"},{fieldName:"t15:50:00",label:"15:50:00"},{fieldName:"t16:00:00",label:"16:00:00"},{fieldName:"t16:10:00",label:"16:10:00"},{fieldName:"t16:20:00",label:"16:20:00"},{fieldName:"t16:30:00",label:"16:30:00"},{fieldName:"t16:40:00",label:"16:40:00"},{fieldName:"t16:50:00",label:"16:50:00"},{fieldName:"t17:00:00",label:"17:00:00"},{fieldName:"t17:10:00",label:"17:10:00"},{fieldName:"t17:20:00",label:"17:20:00"},{fieldName:"result",label:"结果"},{fieldName:"50lon",label:"经度"},{fieldName:"50lat",label:"纬度"},{fieldName:"near_fid",label:"近似FID"},{fieldName:"yaw",label:"偏航角"}]}]}})),e.add(this.resultLayer),e.add(i);const n=new E.A({map:e,center:[114.3,30.7],zoom:4,container:"viewDiv",constraints:{geometry:{type:"extent",xmin:113.6,ymin:29.9,xmax:115,ymax:31.3},minScale:500,maxScale:2e6,rotationEnabled:!1,lods:t.lods,snapToZoom:!1}});n.when((()=>{this.ismaploading=!1}));const s=new I.A({view:n,source:{query:{title:'"Basemaps for Developers" AND owner:geoscenedev'}}});s.watch("activeBasemap",(e=>{this.handleBasemapChange(e)}));const o=new T.A({view:n}),l=new M.A({view:n}),a=new C.A({view:n,unit:"metric",style:"ruler"}),r=new S.A({view:n,unit:"metric",unitOptions:{metric:["kilometers","meters"],nonMetric:["miles","feet"]},iconClass:"esri-icon-measure-line"});n.ui.add(s,{position:"bottom-right",index:0}),n.ui.add(o,{position:"bottom-right",index:1}),n.ui.add(r,{position:"bottom-leading",index:0}),n.ui.move("zoom",{position:"bottom-left",index:1}),n.ui.add(l,{position:"bottom-left",index:2}),n.ui.add(a,{position:"bottom-left",index:3});const u=(0,f.IG)(new nt({title:"时间滑块",container:"timeSliderDiv",view:n,disabled:this.timeSliderDisabled,mode:"instant",layout:"compact",fullTimeExtent:{start:new Date(2024,11,15,7,20,0),end:new Date(2024,11,15,17,20,0)},timeExtent:{start:new Date(2024,11,15,7,20,0),end:new Date(2024,11,15,7,20,0)},stops:{interval:{unit:"minutes",value:10}}}));this.timeSlider=u,n.ui.add(u,"bottom-left"),u.watch("timeExtent",(async e=>{const t=e.start,i=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),s=`t${i}:${n}:00`;if(console.log(`Selected Time: ${t}`),console.log(`Field Name: ${s}`),this.resultLayer){this.resultLayer.renderer={type:"unique-value",field:s,uniqueValueInfos:[{value:1,symbol:{type:"simple-marker",style:"circle",color:"#149ece",size:6,outline:{color:"white",width:1}},label:"显示"},{value:2,symbol:{type:"simple-marker",style:"circle",color:"transparent",size:6,outline:{color:"transparent",width:1}},label:"隐藏"}],defaultSymbol:{type:"simple-marker",style:"circle",color:"transparent",size:6,outline:{color:"transparent",width:1}}},console.log(`Updated renderer based on field: ${s}`);try{await this.resultLayer.refresh(),console.log("图层已刷新")}catch(o){console.error("图层刷新失败:",o)}}else console.error("resultLayer 未定义")})),this.mapView=n;const m=this.mapView.map.basemap.title;console.log("BasemapName old:",m);const d={"天地图-矢量（球面墨卡托投影）":"tianditu-vector","天地图-影像（球面墨卡托投影）":"tianditu-image","天地图-地形（球面墨卡托投影）":"tianditu-topography"};return this.BasemapName=d[m]||m,console.log("BasemapName changed in rpv:",this.BasemapName),n},handleBasemapChange(e){const t={"天地图-矢量（球面墨卡托投影）":"tianditu-vector","天地图-影像（球面墨卡托投影）":"tianditu-image","天地图-地形（球面墨卡托投影）":"tianditu-topography"};t[e.title]?this.BasemapName=t[e.title]:this.BasemapName=e.title,console.log("Basemap changed:",this.BasemapName);const i=new URLSearchParams(window.location.search);i.set("BasemapLayer",this.BasemapName),window.history.replaceState({},"",`${window.location.pathname}?${i}`)},created(){const e=this.$route.query.BasemapLayer,t={"天地图-矢量（含注记）（球面墨卡托投影）":"tianditu-vector","天地图-影像（球面墨卡托投影）":"tianditu-image","天地图-地形（球面墨卡托投影）":"tianditu-topography"};e&&(t[e]?this.BasemapName=t[e]:this.BasemapName=e),console.log("BasemapLayer is",this.BasemapName)}},mounted(){this.initMap()}},ot=i(71241);const lt=(0,ot.A)(st,[["render",_]]);var at=lt},52753:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABUASURBVHhe7d1trGVnWQZgaqcfSIstHSgt0FpKSosgEEEKKlASAe0PUCEKBf6oiUYSFBQ0wagxITFAUKLRH/rDpHxEQUBBETUVgrRCCWCB8hEpBUpbaKFQsC2dtj7PXqvDdLpm5py937X22vu5ruTOevehFj15fN/77I+17wMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwN2O6q9QxQmRUyIPjJwWOSPyiH79AxG2352RayP/G7m6X389cmPkOxEAtkCW3IdGXhr5SuQukcMkZyRnJWfGH0gAG+isyB9EvhkZ2uhFjpScnZyhnCUAZm5v5O8iQxu6yLLJmcrZAmBm8rX9N0SGNm+RVskZy1kDYM3yddqXRYY2a5GxkjPnPQIAa3JM5B8jQxu0yNjJ2csZhI2kwbKpTo58JHL24hGsR36U8ImRfMMgbBQFgE306Ege/scvHsF63RrJEvDJxSPYEG58wqb58cgVEYc/c5GzmDOZswkbwzMAbJK8e99XI3sWj2Be9kVOj+RdBWH2PAPApjg28tGIw5+5ytnMGc1ZhdlTANgE+UzVP0cetngE85UzmrPq2VVm7+j+CnP22siLuiXM3sMj94v82+IRzJSWytz9cOSqbgkbJb9D4IvdEubHSwDM3Zv6K2was8useQaAOcvPVn+4W8JGyo8G5j0rYHYUAOYqZzPvsuarWNlk+fJV3q0ybx0Ms+IlAObqwojDn02XM5yzDLPjGQDm6ksRH/tjG3w5cka3hPlQAJijUyI3dMvRXR+5PHJl5Bv5A7beAyLnRZ4QOTV/MIG9kRu7JQCH8kuRg796tWVuibw4clKE2nIGchZyJoZmpVVypgE4gvyLfGgTbZE3RnyHOwfLmcjZGJqZFsmZBuAw8g5qQxtoi7wkAoeTMzI0Oy2Ssw3AITwjMrR5rppXR2AnclaGZmjV5GwDcAi/GRnaPFfJxyLe8MpO5azkzAzN0irJ2YbZcB8A5uYR/bWliyK5AcNO5KzkzLQ2xmzD0hQA5ubc/trKTZFPd0vYsZyZnJ2WWs82rEQBYG4e019b+bP+CrvVenZazzasRAFgTvK11wd1y2Yu7a+wW61nJ2fbe1GYDQWAOdnTX1u6rr/Cbo0xO2PMOCxFAWBOxvjryO1XWdYYs+MZAGZDAWDb3dFfYbfMDltNAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAAChIAQCAghQAACjoqP46lSwcx0dOiJwYmfq/n3k7JXJZt2zm+ZGPd0vYlUdH3tEtm3lK5OvdEhbuitwc+U7k1sidkUmMeQAfE3ls5KLI0yI/Ejk2AgAM+17kU5H3R94U+UTk9khzrQtA/mX/5MhvRJ6TPwAAVvKuyF9ELo3kMwVNtCoAp0b+JnLh4hEAMIb3RH45cv3i0QpWfRNgvo6freS6iMMfAMaVZ22euXn25hm8tKP7627la/mvjPx75In5AwBgMnn2/l4k3zPw4cgdkV1Z5iWAh0Y+GnnQ4hEAsE5fi/xY5CuLRzu025cAnh65OuLwB4B5yDM5z+Y8o3dsNwXgFZFLIm4eBADzkmdzntF5Vu/ITl4CyH/pxZEXLB4BAHP2lsiLIoe9qdBO3gT4+sivdksAYOYeE7l/5F8Xjw7hSAXgFyNZAACAzZE35ftMJO8qOOhwLwE8KnLI/0EAYPbyNvyf7pb3dKgCcHLkq5H84h4AYDPlFwydHvnm4tEBht7Rn6XggxGHPwBstjzL80y/1x/8QwUgP0eYT/8DAJsvz/R73SPg4EaQheDaiBv9AMD2yLsFnhbZ/9HAg58ByM8NOvwBYLvk2Z5n/H4HPgNwXOTbkfyiHwBgu+QXB+X9AW7LBwc+A5A3+3H4A8B2yjN+/439DnwG4PqIp/8BYHvlewFOzcXdBSAP/iwAY8rPIv55JO9RfE3k5kg+HQEAVeVf5SdGHhLJ79x5aWTsj+FnAcgisPDiyF0jJv8P2hMBAA4tz8o8M4fO0lbJM3+/T0SG/qFVc2PkjAgAsHN5duYZOnS2rpo88xfyqYehf2DV5FP8PxQBAHYvz9A8S4fO2FVzYn4KYKy7/p0f+Va3BAB2Kc/QPEvH8KgsAHlnoNbyjX6+SRAAVpNnaZ6prZ2WBeDMbt3Uy/srALCaMc7UM7MAnN2tm7khcl23BABWlGdqnq0tnZ0F4Nxu3czf9lcAoI3WZ+u5WQAe362b+Ux/BQDaaH22Pj4LwN5u3cyX+isA0Ebrs3VvFoDW8hsFAYB2mp+tYxQAAGDmFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCFAAAKEgBAICCjorc1S2beXLksm7JyI6NHN0tt8qtkdZzCeuUe+3x3XKr3BH5XrdkZOdHLu2WbSgAm+O4yEMij4s8M/ILkb2RbfXByD9EPhT5XOSmiFLAJsh99aTIOZGnRH4+8pORbXVD5O2R90U+HrkmcluEtpoXgJSbasvk/5K0kS/R/FbkusjQ77pS8i+N3GAeHoE5ytnMGc1ZHZrhSsk9K/cuLzO3k2fr0O96lQz+cJUoAG2cFflCZOh3XD2vjthYmIucxZzJoVmtntzDci9jdQpAAbmZ/G5k6Hcr30++LPDQCKxTzmDO4tCMyveTe5rSvhoFYMvlZvLZyNDvVYbz0ki+5gpTypnL2RuaSRlO7m1K+/IUgC32ssjQ71OOnCsip0RgCjlrOXNDsyhHTu517J4CsKUujAz9LmXnydcaPcXI2HLGvDdn9eSex+40LwA2zPU7MfLObskK8o1Gr+qWMJqcMW9qW13uebn3sUYKwPrl52f3dEtW9JrI2d0SmsvZyhljdbnn5d7HGikA6/VzkZ/uljRySWQb747IeuVM5WzRTu59uQeyJgrA+uSdwt7WLWnoYRF/pdFazlTOFm3lHph7IWugAKxPvgbm9z+OV0bO7ZawspylnCnayz3Qe6DWxAG0Hk+KPK1bMpJ391dYlVkaV+6FuScyMQVgPS7or4wn37CV35YIq8gZ8sbS8dkT10ABWI/n9lfGdXp/hWWZoWnYE9dAAZhe/s493TWN/OpkWIUZmkbuic6jifmFT+8B/ZXxPau/wrLM0HTsjRNTAKZ3Tn9lfM/rr7AsMzQde+PEFIDp/VR/ZXx7I8d1S9i1nJ2cIaZhb5yYAjA9Qz6tk/sr7JbZmZa9cWL5ndb5rUAtvS9yebdkwK9EHtQtm/iPyEsi31s82mw/EWl9U5C3RK7qlrAr+aU/L+iWzeS73f+rW260/HjkxZGWH9/7WuSvuyUDnhB5ZrdsY4wCwLR+PfJX3XLj5VOut3ZL2ErHR27rlhvv1yJ/2S3ZRF4C2Hz7+us2UEbZdts049u095SkAABAQQoAABSkAABAQQoAABSkAABAQQrA5juhvwJM6aT+yoZSADbfmf11G+R9KYDN8Mj+yoZSADZf3q1sW+TdxWCbbdOMP7C/sqEUgM13Y3/dBttyhzQ4lNv76za4ur+yoRSAzXdlfwXmb5vuBPjF/sqGUgA23039FWBKN/dXNpQCAAAFKQAAUJACAAAFKQAAUJACAAAFKQCbb09/3QbuBMi226YZ36a9p6QcxtafS/1A5OPdkgEvjOztlk28L/KiyDbcYORJkfd2y2beFXHDEpaRt9l+Trds5tmR/+6WG+2YyMWRZy4etXFD5M3dkgGPizy1W7aTBaBlzo9waO+ODP3eZJw8OALLyNkZmikZJ7k3cmh5tg793paOlwCm98H+yjTcKIllmZ1p2RsnpgBMz5BP5xuRW7sl7FrOTs4Q07A3TkwBmN5n+yvje3t/hWWZoenYGyemAExvm769b+7yDZKwCjM0HXvjxBSA6d0Z8SmJaXysv8KyzNA0ck/MvZEJKQDr4WnFaXylv8KyzNA07IlroACsxyX9lfFcE7mtW8LScoZylhiXPXENFID1+FBkG24GMmcX9ldYlVkaV+6FuScyMQVgPfImDD8b8ZrXON4Y+US3hJXlLOVM0V7ugbkX5p7IxBSA9cnPF1/ULWno2sgruiU0kzOVs0VbuQe618KaKADr9dZIfncC7Twjsq9bQjM5Uxd0SxrJvS/3QNZEAVi//LIRLwW08UeRz3RLaC5vVJMzxupyz2v9RUvskgKwfnm/8ed1S1bw5cgfd0sYTc5YzhqryT3Pdy2smQIwD++I/H63ZAlXRZ4QuWPxCMaTM5azljPHcnKvyz2PGbjH1wM2iK8DXt45kbzxyNDvVYbzh5GjIzClnLmcvaGZlOHk3pZ7HMtp/nXAkcEfrhIFYDV7Iq+JDP1u5fuxmTAHSvvOknta7m0sTwEo5NyIjWU4uZn4q5+5yFlU2oeTe1juZaxOASgmG/OrI9+KDP2uq+WyiM2EucrZzBkdmt1qyT0r9y5/9bfTvAAc1S9aenIk/5+Atu4bOTOSb0D6mchzIz8Y2Vb/E/n7SH5W+MpIflWoj0uyCfLN1adEzos8NfL8yI9GttX/Rd4Z+ZfI5ZGrI7dEaCsLwKXdsg0FYLPdL3JMt9wqN0e8o59tki8TnNgtt8rtke92S0bWvACkezwl0CBeAgCAtpq/BOA+AABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQkAIAAAUpAABQ0BgF4Jj+CgC00fxszQKwr1s2c3p/BQDaaH227ssCcEW3buas/goAtNH6bL0iC8CnunUzz+6vAEAbrc/WT2UB+Hy3buZpkeO6JQCwojxT82xt6fNZAK7q1k09t78CAKsZ40xdnP0XRO5qnFsix0YAgOXlWZpn6tBZu0ouGOsZgOMjb+qWAMCS8izNM7W1xdl/VGSMdpF5TST//QDAzuXZmWfo0Nm6avLM3382vy4y9A+1yHsiJ0QAgCPLMzPPzqEztUXyzN/vsZGhf6hlfjtyagQAuLc8I/OsHDpDWybP/P1PAeyJ3N4tR3dT5CORKyPX5Q8AoKgHR86LPDFyUv5gAnlb4X0Hvj7/5sgLuiUAsIXeEnlhLg4sAOdEPtstAYAt9MjI53KRHwO8W/7gn7olALBl8oxfHP7pwGcAUr4BwevyALB98v0G13fLez4DkPI/+NNuCQBsiTzb9x/+6eBnANL9It+OHFwOAIDNc2fk/pHvLh71hg75/Acu6pYAwIbLM/0eh386ur8e7JOR/Dzi+YtHAMAmyqf+X98t72noJYC75X/2n5GnLh4BAJvkA5GnR/Luf/dyuAKQ8huIvhA5bfEIANgE10YeHrl18WjAkQpAyo8NfDmStwsGAOZtX+RhkcN+rH8n7/TPf8FDItkmAID5yrM6z+wj3tNnpx/1+1rkrMj7F48AgLnJMzrP6jyzj2g3n/W/LXJB5A2LRwDAXOTZnGd0ntU7spP3AAy5MPK2SL5JEABYj3yT3/Mi71k82oVl7/aX/0V5V6GXR/IOQwDAdPLszTM4z+JdH/7pUDcC2on8L78skjcYODbylAgAMK7XRZ4Vyc/5L/1H+LIvAQx5YOSFkd+J5DsQAYA2rom8NvLmyNfzB6tqWQAOtDfy7MirIo/OHwAAu5K35f+TyHsjN+QPWhqrABzovpFTIlkK8o6CZ0Ty7kRnRpZ9DwIAbIN8Cv/qSN5190uR/Bx/HvY3Rm6JAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwtvvc5/8Btu+XvcoCXKcAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=shu-ju-guan-li.bd4d1257.js.map