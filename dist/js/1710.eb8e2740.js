"use strict";(self["webpackChunksun_glare_project"]=self["webpackChunksun_glare_project"]||[]).push([[1710],{43154:function(e,t,n){n.d(t,{Al:function(){return c},af:function(){return u},rK:function(){return h},zs:function(){return o}});n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698);var a=n(19470);const o="arial-unicode-ms",i="woff2",l=new Map,s=new Set;class r{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(e){const t=h(e),n=l.get(t);if(n)return n.promise;const o=new FontFace(e.family,`url('${a.A.fontsUrl}/woff2/${t}.${i}') format('${i}')`,{style:e.style,weight:e.weight}),c=document.fonts;if(c.has(o)&&"loading"===o.status)return o.loaded;const u=o.load().then((()=>(c.add(o),o)));return l.set(t,new r(o,u)),s.add(o),u}function u(e){if(!e)return o;const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function h(e){const t=f(e)+m(e);return u(e.family)+(t.length>0?t:"-regular")}function f(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function m(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},91710:function(e,t,n){n.d(t,{previewSymbol2D:function(){return E}});n(44114);var a=n(37257),o=n(47966),i=n(43154),l=n(18513),s=n(1570),r=n(53659),c=n(15485),u=n(7580),h=n(99179);const f="picture-fill",m="picture-marker",d="simple-fill",p="simple-line",w="simple-marker",y="text",g="Aa",b=r.CB.size,v=r.CB.maxSize,k=r.CB.maxOutlineSize,L=r.CB.lineWidth,z=225,x=document.createElement("canvas");function M(e,t){const n=x.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}const C=7.2/2.54,S=72/2.54;function A(e){if(0===e.length)return 0;if(e.length>2){const t=(0,l.PN)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*C*t;case"cm":return n*S*t}}return parseFloat(e)}function F(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,l.Lz)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,l.Lz)(t.height):null}}async function j(e,t){const n=t.fill,a=e.color;if("pattern"===n?.type&&a&&e.type!==f){const e=await(0,s.rc)(n.src,a.toCss(!0));n.src=e,t.fill=n}}async function Z(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,i.Al)(e.font)}catch{}const{width:o}=F(a),l=/[\uE600-\uE6FF]/.test(t.shape.text);null!=o||l||(n[0]=M(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}function $(e,t,n,a,o){if(null!=e.haloColor&&null!=e.haloSize){o.masking??=n.map((()=>[]));const i=(0,l.Lz)(e.haloSize);a[0]+=i,a[1]+=i,n.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*i,join:"round",cap:"round"}}]),o.masking.unshift([{shape:{type:"rect",x:0,y:0,width:a[0]+2*u.ZJ,height:a[1]+2*u.ZJ},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(a[0]+=2*u.ZJ,a[1]+=2*u.ZJ,n.unshift([{shape:{type:"rect",x:0,y:0,width:a[0],height:a[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,l.Lz)(e.borderLineSize)}}]),o.masking?.unshift([]))}function q(e,t){return e>t?"dark":"light"}function B(e,t){const n="number"==typeof t?.size?t?.size:null,a=null!=n?(0,l.Lz)(n):null,o=null!=t?.maxSize?(0,l.Lz)(t.maxSize):null,i=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,c=(0,s.eH)(e);let u=(0,s.$4)(e);"dark"!==W(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:"#bdc3c7"});const h={shape:null,fill:c,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const z=u?.width||0;let x=null!=t?.size&&(null==t?.scale||t?.scale),C=0,S=0,j=!1;switch(e.type){case w:{const n=e.style,{width:s,height:r}=F(t),c=s===r&&null!=s?s:null!=a?a:Math.min((0,l.Lz)(e.size),o||v);switch(C=c,S=c,n){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*c},x||(C+=z,S+=z);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[C,.5*S]},{command:"M",values:[.5*C,0]},{command:"L",values:[.5*C,S]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[.5*C,0]},{command:"L",values:[C,.5*S]},{command:"L",values:[.5*C,S]},{command:"Z",values:[]}]},x||(C+=z,S+=z);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},x||(C+=z,S+=z),i&&(j=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*C,0]},{command:"L",values:[C,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},x||(C+=z,S+=z),i&&(j=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,S]},{command:"M",values:[C,0]},{command:"L",values:[0,S]}]},i&&(j=!0);break;case"path":h.shape={type:"path",path:e.path||""},x||(C+=z,S+=z),i&&(j=!0),x=!0}break}case p:{const{width:e,height:n}=F(t),o=null!=n?n:null!=a?a:z,i=null!=e?e:L;u&&(u.width=o),C=i,S=o;const l=h?.stroke?.cap||"butt",s="round"===l;x=!0,h.stroke&&(h.stroke.cap="butt"===l?"square":l),h.shape={type:"path",path:[{command:"M",values:[s?o/2:0,S/2]},{command:"L",values:[s?C-o/2:C,S/2]}]};break}case f:case d:{const e="object"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:n,height:o}=F(t);C=!e&&n!==o||null==n?null!=a?a:b:n,S=!e&&n!==o||null==o?C:o,x||(C+=z,S+=z),x=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[C,0]},{command:"L",values:[C,S]},{command:"L",values:[0,S]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.nq.fill[0];break}case m:{const n=Math.min((0,l.Lz)(e.width),o||v),s=Math.min((0,l.Lz)(e.height),o||v),{width:r,height:c}=F(t),u=r===c&&null!=r?r:null!=a?a:Math.max(n,s),f=n/s;C=f<=1?Math.ceil(u*f):u,S=f<=1?u:Math.ceil(u/f),h.shape={type:"image",x:-Math.round(C/2),y:-Math.round(S/2),width:C,height:S,src:e.url||""},i&&(j=!0);break}case y:{const n=e,i=t?.overrideText||n.text||g,s=n.font,{width:r,height:c}=F(t),u=null!=c?c:null!=a?a:Math.min((0,l.Lz)(s.size),o||v),f=M(i,{weight:s.weight,size:u,family:s.family}),m=/[\uE600-\uE6FF]/.test(i);C=r??(m?u:f),S=u;let d=.25*A((s?u:0).toString());m&&(d+=5),h.shape={type:"text",text:i,x:n.xoffset||0,y:n.yoffset||d,align:"middle",alignBaseline:n.verticalAlignment,decoration:s&&s.decoration,rotated:n.rotated,kerning:n.kerning},h.font=s&&{size:u,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}return{shapeDescriptor:h,size:[C,S],renderOptions:{node:t?.node,scale:x,opacity:t?.opacity,rotation:i,useRotationSize:j,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}async function E(e,t){const{shapeDescriptor:n,size:a,renderOptions:i}=B(e,t);if(!n.shape)throw new o.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await j(e,n),await Z(e,n,a,t);const l=[[n]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*a[0];l.unshift([{...n,offset:[-e,0],fill:(0,r.QC)(n.fill,-.3)}]),l.push([{...n,offset:[e,0],fill:(0,r.QC)(n.fill,.3)}]),a[0]+=2*e,i.scale=!1}return"text"===e.type&&$(e,n,l,a,i),(0,c.fz)(l,a,i)}function W(e,t=z){const n=(0,s.eH)(e),o=(0,s.$4)(e),i=!n||"type"in n?null:new a.A(n),l=o?.color?new a.A(o?.color):null,r=i?q((0,h.Ws)(i),t):null,c=l?q((0,h.Ws)(l),t):null;return c?r?r===c?r:t>=z?"light":"dark":c:r}},99179:function(e,t,n){n.d(t,{Ws:function(){return i}});var a=n(37257);n(89226),n(18439);function o(e){let{r:t,g:n,b:o,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),o=Math.round(i*o+255*(1-i))),new a.A({r:t,g:n,b:o})}function i(e,t){const{r:n,g:a,b:i}=t?.ignoreAlpha?e:o(e);return.2126*n+.7152*a+.0722*i}}}]);
//# sourceMappingURL=1710.eb8e2740.js.map