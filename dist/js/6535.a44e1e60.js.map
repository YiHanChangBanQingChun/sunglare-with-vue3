{"version":3,"file":"js/6535.a44e1e60.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/layers/effects/EffectView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/ExportImageParameters.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/floorFilterUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/rasterFormats/pixelRangeUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/support/sublayerUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/renderers/support/rendererConversion.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/support/clusterUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/support/sizeRampUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/smartMapping/support/utils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/support/ActiveLayerInfo.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/LegendViewModel.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/styles/CardCSS.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/styles/support/univariateUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/support/styleUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/styles/Card.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/styles/ClassicCSS.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend/styles/Classic.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/Legend.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{clone as s}from\"../../core/lang.js\";import r from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as c}from\"./parser.js\";import{canInterpolateEffects as o,normalizeEffects as f}from\"./utils.js\";const l=-1;let a=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=has(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(h(t))}catch(e){this._transitionTo([]),r.getLogger(this).warn(\"Invalid Effect\",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,h(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=s(t),_(this._current,this._to,this.scale),this._from=s(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?s(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=p(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?s(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function h(t){const e=c(t)||[];return m(e)?[{scale:l,effects:e}]:e}function u(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===l||e[0]?.scale===l)&&(t.length>1||e.length>1)&&s<=0)&&o(t[0].effects,e[0].effects)}function _(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let a=0;a<r.length;a++)i[a].scale=i[a].scale===l?s:i[a].scale,r[a].scale=r[a].scale===l?s:r[a].scale,f(i[a].effects,r[a].effects)}function p(t,e,s){return t+(e-t)*s}function m(t){const e=t[0];return!!e&&\"type\"in e}t([i()],a.prototype,\"_to\",void 0),t([i()],a.prototype,\"duration\",void 0),t([i({value:\"\"})],a.prototype,\"effect\",null),t([i({readOnly:!0})],a.prototype,\"effects\",void 0),t([i({readOnly:!0})],a.prototype,\"hasEffects\",null),t([i({value:0})],a.prototype,\"scale\",null),t([i({readOnly:!0})],a.prototype,\"transitioning\",null),a=t([n(\"geoscene.layers.effects.EffectView\")],a);export{a as EffectView,u as canInterpolateEffectStops,h as convertEffectToStops,_ as normalizeEffectStops};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{sqlAnd as t}from\"../../core/sql.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{getLayerFloorFilterClause as l}from\"./floorFilterUtils.js\";import{isExportDynamic as n}from\"./sublayerUtils.js\";const y={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let m=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=l(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&n(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(y[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){const e=!!this.floors?.length,r=this.visibleSublayers.filter((r=>null!=r.definitionExpression||e&&null!=r.floorInfo));return r.length?JSON.stringify(r.reduce(((e,r)=>{const s=l(this.floors,r),i=t(s,r.definitionExpression);return null!=i&&(e[r.id]=i),e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([i({readOnly:!0})],m.prototype,\"dynamicLayers\",null),e([i()],m.prototype,\"floors\",void 0),e([i({readOnly:!0})],m.prototype,\"hasDynamicLayers\",null),e([i()],m.prototype,\"layer\",null),e([i({readOnly:!0})],m.prototype,\"layers\",null),e([i({readOnly:!0})],m.prototype,\"layerDefs\",null),e([i({type:Number})],m.prototype,\"scale\",void 0),e([i(a)],m.prototype,\"timeExtent\",void 0),e([i({readOnly:!0})],m.prototype,\"version\",null),e([i({readOnly:!0})],m.prototype,\"visibleSublayers\",null),m=e([o(\"geoscene.layers.mixins.ExportImageParameters\")],m);export{m as ExportImageParameters};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction o(o){const n=o.layer;if(\"floorInfo\"in n&&n.floorInfo?.floorField&&\"floors\"in o.view){return l(o.view.floors,n.floorInfo.floorField)}return null}function n(o,n){return\"floorInfo\"in n&&n.floorInfo?.floorField?l(o,n.floorInfo.floorField):null}function l(o,n){if(!o?.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{o as getFloorFilterClause,n as getLayerFloorFilterClause};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst t=9999999e31,e=2e-7,n={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function s(t){return n[t]??[-34028234663852886e22,34028234663852886e22]}function u(n,u,i){if(n.depthCount&&n.depthCount>1)return;const{pixels:a,statistics:o,pixelType:l}=n,r=a[0].length,f=n.bandMasks??[],c=n.mask??new Uint8Array(r).fill(255),b=\"f32\"===l||\"f64\"===l,m=s(l);let d=!1;for(let s=0;s<a.length;s++){const n=\"number\"==typeof u?u:u[s];if(null==n)continue;const h=o?.[s].minValue??m[0],p=o?.[s].maxValue??m[1];if(h>n+Number.EPSILON||p<n-Number.EPSILON)continue;const N=f[s]||new Uint8Array(r).fill(255),M=a[s],A=i?.customFloatTolerance;if(b&&0!==A){let s=A;s||(s=Math.abs(n)>=t?e*Math.abs(n):\"f32\"===l?2**-23:Number.EPSILON);for(let t=0;t<M.length;t++)N[t]&&Math.abs(M[t]-n)<s&&(M[t]=0,N[t]=0,c[t]=0,d=!0)}else for(let t=0;t<M.length;t++)N[t]&&M[t]===n&&(M[t]=0,N[t]=0,c[t]=0,d=!0);f[s]=N}d&&(n.bandMasks=f,n.mask=c),d&&\"updateStatistics\"in n&&n.updateStatistics()}export{u as convertNoDataToMask,s as getPixelValueRange};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{OriginId as r}from\"../../core/accessorSupport/PropertyOrigin.js\";function e(r,e,n){const o=e.flatten((({sublayers:r})=>r)).length;if(o!==r.length)return!0;return!!r.some((r=>r.originIdOf(\"minScale\")>n||r.originIdOf(\"maxScale\")>n||r.originIdOf(\"renderer\")>n||r.originIdOf(\"labelingInfo\")>n||r.originIdOf(\"opacity\")>n||r.originIdOf(\"labelsVisible\")>n||r.originIdOf(\"source\")>n))||!i(r,e)}function n(e,n,o){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(null==n.gdbVersion||n.gdbVersion===o))||e.originIdOf(\"renderer\")>r.SERVICE||e.originIdOf(\"labelingInfo\")>r.SERVICE||e.originIdOf(\"opacity\")>r.SERVICE||e.originIdOf(\"labelsVisible\")>r.SERVICE}))||!i(e,n)}function i(r,e){if(!r||!r.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:r})=>r&&r.toArray().reverse())).map((r=>r.id)).toArray();if(r.length>n.length)return!1;let i=0;const o=n.length;for(const{id:t}of r){for(;i<o&&n[i]!==t;)i++;if(i>=o)return!1}return!0}function o(r){return!!r&&r.some((r=>null!=r.minScale||r.layerDefinition&&null!=r.layerDefinition.minScale))}export{n as isExportDynamic,o as isSublayerOverhaul,e as shouldWriteSublayerStructure};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{isSome as r}from\"../../core/arrayUtils.js\";import\"../../core/has.js\";import e from\"../../core/Error.js\";import{to3D as n,defaultTo3DOptions as o}from\"../../symbols/support/symbolConversion.js\";function t(r){return null==r||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function s(r,n){if(null==r)return null;if(!t(r))return new e(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${r.type||r.declaredClass}'`,{renderer:r});switch(r.type){case\"simple\":return u(r);case\"unique-value\":return i(r,n);case\"class-breaks\":return a(r);case\"dictionary\":case\"heatmap\":return null}return null}function l(r,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new e(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:r,symbolErrors:o})}return null}function u(r){return l(r,n(r.symbol).error)}function i(e,t){const s={...o,...t},u=e.uniqueValueInfos?.map((r=>n(r.symbol,s).error)).filter(r),i=n(e.defaultSymbol,s);return i.error&&u?.unshift(i.error),l(e,u)}function a(e){const o=e.classBreakInfos.map((r=>n(r.symbol).error)).filter(r),t=n(e.defaultSymbol);return t.error&&o.unshift(t.error),l(e,o)}export{t as isSupportedRenderer3D,s as validateTo3D};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return l?.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as o}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as i}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{getSymbolForFlowRenderer as a,createStopLabel as u}from\"./utils.js\";import\"../../support/widgetUtils.js\";import{isDarkTheme as c}from\"../../../support/themeUtils.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import f from\"../../../symbols/SimpleLineSymbol.js\";const p=30,y=12,b=[255,255,255],h=[200,200,200],d=[128,128,128],w=20,g=5;function S(e){return\"geoscene.symbols.SimpleMarkerSymbol\"===e.declaredClass}function v(e){return\"geoscene.symbols.PictureMarkerSymbol\"===e.declaredClass}function z(e){return\"geoscene.symbols.SimpleLineSymbol\"===e.declaredClass}function j(e){return\"geoscene.symbols.TextSymbol\"===e.declaredClass}function V(e,l){const t=e.length-1;return e.map(((e,n)=>u(e,n,t,l)))}async function k(e,l,n,o,i,a,u){const c=l.legendOptions,m=c&&c.customValues,f=u||await U(e,n),p=l.stops,y=!!f,b=!!m,h=null!=l.minSize&&null!=l.maxSize,d=p&&p.length>1,w=!!l.target;if(!y||!b&&!(h||d&&!w))return;const g=s(f);let S=!1,v=null,z=null;v=g&&!d?t([l.minDataValue,l.maxDataValue]):m??await D(l,f,o,i);const j=e?.authoringInfo,k=\"univariate-color-size\"===j?.type,C=k&&\"above-and-below\"===j?.univariateTheme;if(!v&&d&&(v=p.map((e=>e.value)),S=p.some((e=>!!e.label)),\"flow\"===e.type&&(v=t(v)),S&&(z=p.map((e=>e.label)))),g&&null!=v&&v?.length>2&&!C&&(v=[v[0],v[v.length-1]]),!v)return null;k&&5!==v?.length&&(v=E({minSize:v[0],maxSize:v[v.length-1]}));const I=g?x(e,v):null,M=r(f),T=S?null:V(v,a);return(await Promise.all(v.map((async(t,n)=>{const s=g?I[n]:await B(l,f,t,o,i);return{value:t,symbol:P(C&&\"class-breaks\"===e.type?L(e,n):f,s),label:S?z[n]:T[n],size:s,outlineSize:M}})))).reverse()}function x(e,l){const t=e?.authoringInfo,n=\"univariate-color-size\"===t?.type;let o=[y,p];if(n){const e=l[0],t=l[l.length-1],n=y,i=p;o=l.map((l=>n+(l-e)/(t-e)*(i-n)))}return n&&\"below\"===t?.univariateTheme&&o.reverse(),o}function L(e,l){const t=e.classBreakInfos,n=t.length,o=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(o.type.includes(\"3d\")?I(o):M(o)),o}async function U(e,l){if(\"flow\"===e.type)return a(e,l);if(\"pie-chart\"===e.type)return new m({color:null,outline:e.outline?.width?e.outline:new f});let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l?.[0]?.symbol,n=null!=l&&l.length>1}return!t||C(t)?null:(t=t.clone(),(l||n)&&(t.type.includes(\"3d\")?I(t):M(t)),t)}function C(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return e.type.includes(\"fill\")}return!1}function I(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:d}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:h}:(e.material={color:b},e.outline={color:d,size:1.5})}))}function M(l){const t=c();if(\"cim\"===l.type)i(l,new e(h));else if(l.type.includes(\"line\"))l.color=d;else if(l.color=t?d:b,\"simple-marker\"===l.type)if(l.outline){const e=l.outline?.color?.toHex();\"#ffffff\"===e&&(l.outline.color=d)}else l.outline={color:d,width:1.5}}async function D(e,l,n,o){const i=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,o),s=i&&E(i);if(!i||!s)return;let r=s.map((l=>T(l,e,i)));r=t(r);for(let t=1;t<r.length-1;t++){const i=await q(e,l,r[t],r[t-1],n,o);i&&(r[t]=i[0],s[t]=i[1])}return r}function E(e){const l=e.minSize,t=e.maxSize,n=g,o=(t-l)/(n-1),i=[];for(let s=0;s<n;s++)i.push(l+o*s);return i}function T(e,l,t){const n=t.minSize,o=t.maxSize,i=l.minDataValue,s=l.maxDataValue;let r;if(e<=n)r=i;else if(e>=o)r=s;else{r=(e-n)/(o-n)*(s-i)+i}return r}async function q(e,l,i,s,r,a){const u=await B(e,l,i,r,a),c=await B(e,l,s,r,a),m=n(i),f=m.fractional,p=w;let y=m.integer,b=null,h=null;i>0&&i<1&&(b=10**f,y=n(i*=b).integer);for(let n=y-1;n>=0;n--){const s=10**n;let m=Math.floor(i/s)*s,f=Math.ceil(i/s)*s;null!=b&&(m/=b,f/=b);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const d=await B(e,l,m,r,a),w=await B(e,l,f,r,a),g=await B(e,l,y,r,a),S=o(u,d,c,null),v=o(u,w,c,null),z=o(u,g,c,null);let j=S.previous<=p,V=v.previous<=p;if(j&&V&&(S.previous<=v.previous?(j=!0,V=!1):(V=!0,j=!1)),j?h=[m,d]:V?h=[f,w]:z.previous<=p&&(h=[y,g]),h)break}return h}async function B(e,l,t,n,o){const{getSize:i}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return i(e,t,{scale:n,view:o,shape:\"simple-marker\"===l.type?l.style:null})}function P(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(S(n))n.size=t;else if(v(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else z(n)?n.width=t:j(n)&&n.font&&(n.font.size=t);return n}export{p as REAL_WORLD_MAX_SIZE,y as REAL_WORLD_MIN_SIZE,k as getRampStops};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport t from\"../../../Color.js\";import{formatDate as n}from\"../../../intl/date.js\";import{formatNumber as i}from\"../../../intl/number.js\";import{timelineDateFormatOptions as o}from\"../../../renderers/support/utils.js\";import e from\"../../../renderers/visualVariables/SizeVariable.js\";function r(t){return n(new Date(t),o)}function s(t){const n=2,o=Math.floor(Math.log10(Math.abs(t)))+1,e=o<4||o>6?4:o,r=1e6,s=Math.abs(t)>=r?\"compact\":\"standard\";return i(t,{notation:s,minimumSignificantDigits:n,maximumSignificantDigits:e})}function a(t,n,i){if(null==n||null==t)return[];const o=[];for(let e=-1*i;e<=i;e++)0!==e&&o.push(n+e*t);return o}function u(t){const{max:n,min:i,padding:o,pathHeight:e,pathWidth:r,stops:s}=t,a=n-i;let u,h=`M0 0 L${r} 0 `;const m=3===s.length?[s[0],s[1],s[2]]:[s[0],s[2],s[4]],f=Math.min.apply(Math,m.map((t=>t.size))),l=Math.max(Math.abs(m[0].size-m[1].size),Math.abs(m[2].size-m[1].size));return m.reverse(),m.forEach((({size:t,value:n},s)=>{const m=Math.round((t-f)/l*100)/100,c=Math.round(e-(n-i)/a*e);u=m*r,0===u&&(u=o*r),0===s&&(h+=`L${u} 0 `),h+=`L${u} ${c} `})),h+=`L${u} ${e} L0 ${e} L0 0 Z`,h}function h(t){const{bottomValue:n,bottomWidth:i,max:o,min:e,pathHeight:r,pathWidth:s,topValue:a,topWidth:u}=t,h=u*s,m=i*s,f=o-e,l=Math.round(r-(n-e)/f*r);return`M${h} 0 L${h} ${Math.round(r-(a-e)/f*r)} L${m} ${l} L${m} ${r} L0 ${r} L0 0 Z`}function m(t){let n=t.maxSize,i=t.minSize;return n instanceof e&&(n=n.stops[0].size),i instanceof e&&(i=i.stops[0].size),[n,i]}function f(t,n,i){const o=i.length-1;if(o<0)return[];const e=i[0],r=i[o]-e,s=n-t,a=[];for(let u=1;u<o;u++){const n=(i[u]-e)/r*s+t;a.push({index:u,value:n})}return a.unshift({index:0,value:t}),a.push({index:o,value:n}),a}function l(n){return n instanceof t?n.toCss(!0):t.fromString(n??\"\").toCss(!0)}export{r as formatDateLabel,s as formatNumberLabel,a as getDeviationValues,u as getDynamicPathForSizeStops,l as getFillFromColor,h as getPathForSizeStops,m as getSizesFromVariable,f as getStopChanges};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import\"../../../intl.js\";import{addTokenParameter as s}from\"../../../kernel.js\";import l from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import n from\"../../../core/Collection.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{eachAlways as u,debounce as c}from\"../../../core/promiseUtils.js\";import{on as d,watch as y,whenOnce as h,initial as m}from\"../../../core/reactiveUtils.js\";import{px2pt as p}from\"../../../core/screenUtils.js\";import{addQueryParameters as f}from\"../../../core/urlUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/has.js\";import{subclass as b}from\"../../../core/accessorSupport/decorators/subclass.js\";import{OriginId as S}from\"../../../core/accessorSupport/PropertyOrigin.js\";import{EffectView as _}from\"../../../layers/effects/EffectView.js\";import{effectFunctionsFromJSON as L}from\"../../../layers/effects/jsonUtils.js\";import{ExportImageParameters as w}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as v}from\"../../../layers/support/fieldUtils.js\";import{isFeatureLayer as E}from\"../../../layers/support/layerUtils.js\";import{getPixelValueRange as C}from\"../../../layers/support/rasterFormats/pixelRangeUtils.js\";import{fromJSON as I}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as R}from\"../../../renderers/support/rendererConversion.js\";import F from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as V}from\"../../../symbols/support/cimSymbolUtils.js\";import{SymbolSizeDefaults as T}from\"../../../symbols/support/previewUtils.js\";import{renderSymbol as z}from\"../../../symbols/support/renderUtils.js\";import{renderColorRampPreviewHTML as x,renderDotDensityPreviewHTML as j,renderPieChartPreviewHTML as D,renderPreviewHTML as O}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as A}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as P}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as M,getRampStopsForPointCloud as B,getStrectchRampStops as U,getRampStops as k}from\"./colorRampUtils.js\";import{getHeatmapRampStops as N}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as q,getRelationshipRampElement as H}from\"./relationshipRampUtils.js\";import{getRampStops as $,REAL_WORLD_MAX_SIZE as W,REAL_WORLD_MIN_SIZE as G}from\"./sizeRampUtils.js\";import{SPECIAL_CHARS_LESS_THAN as J,SPECIAL_CHARS_GREATER_THAN as Q,getSymbolForFlowRenderer as K,isRasterBandStatistics as X,getMedianColor as Y,RGB_IMG_SOURCE as Z}from\"./utils.js\";import{formatNumberLabel as ee}from\"../../smartMapping/support/utils.js\";import te from\"../../../symbols/SimpleMarkerSymbol.js\";import se from\"../../../symbols/SimpleFillSymbol.js\";import{fetchMessageBundle as le}from\"../../../intl/messages.js\";import{substitute as re}from\"../../../intl/substitute.js\";const ie=\"https://utility.arcgis.com/sharing/tools/legend\",ne=\"geoscene.layers.ImageryLayer\",ae=\"geoscene.layers.ImageryTileLayer\",oe=\"geoscene.layers.WCSLayer\",ue=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,ce=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),de=new te({size:6,outline:{color:[128,128,128,.5],width:.5}}),ye=new se({style:\"solid\"});function he(e){return\"flow\"===e.type}function me(e){return\"vector-field\"===e.type}function pe(e){return\"raster-colormap\"===e.type}function fe(e){return\"raster-stretch\"===e.type}function ge(e){return\"raster-shaded-relief\"===e.type}function be(e){return\"geoscene.renderers.SimpleRenderer\"===e.declaredClass}function Se(e){return\"geoscene.renderers.ClassBreaksRenderer\"===e.declaredClass}function _e(e){return\"geoscene.renderers.UniqueValueRenderer\"===e.declaredClass}function Le(e){return\"geoscene.renderers.HeatmapRenderer\"===e.declaredClass}function we(e){return Ee(e)||Ce(e)||Ie(e)||ve(e)}function ve(e){return\"geoscene.renderers.PointCloudRGBRenderer\"===e.declaredClass}function Ee(e){return\"geoscene.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function Ce(e){return\"geoscene.renderers.PointCloudStretchRenderer\"===e.declaredClass}function Ie(e){return\"geoscene.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function Re(e){return\"geoscene.renderers.DotDensityRenderer\"===e.declaredClass}function Fe(e){return\"geoscene.renderers.PieChartRenderer\"===e.declaredClass}function Ve(e,t){return be(e)||Se(e)||_e(e)||Le(e)||Re(e)||Fe(e)?\"2d\"===t.type||R(e):fe(e)||pe(e)||ge(e)||Ee(e)||Ce(e)||Ie(e)||me(e)||he(e)}function Te(e){return\"geoscene.layers.BuildingSceneLayer\"===e.declaredClass}function ze(e){return\"geoscene.layers.SubtypeGroupLayer\"===e.declaredClass}function xe(e){return\"geoscene.layers.VoxelLayer\"===e.declaredClass}function je(e){return\"geoscene.layers.WMSLayer\"===e.declaredClass}function De(e){return\"geoscene.layers.WMTSLayer\"===e.declaredClass}function Oe(e){return\"geoscene.layers.MapImageLayer\"===e.declaredClass}function Ae(e){return\"geoscene.layers.TileLayer\"===e.declaredClass}function Pe(e){return e.declaredClass===ne}function Me(e){return e.declaredClass===ae}function Be(e){return e.declaredClass===oe}function Ue(e){return\"stretch-ramp\"===e.type}function ke(e){const t=\"authoringInfo\"in e?e?.authoringInfo:null;return\"univariate-color-size\"===t?.type}function Ne(e){const t=\"authoringInfo\"in e?e?.authoringInfo:null;return\"univariate-color-size\"===t?.type&&\"above-and-below\"===t?.univariateTheme}function qe(e){return\"sublayers\"in e}async function He(e,t){const s=await le(\"geoscene/widgets/Legend/t9n/Legend\");return\"previewTemplateAriaLabel\"!==e||t||(e=\"previewAriaLabel\"),re(s[e],{label:t})}const $e=new te({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let We={},Ge=class extends r{constructor(e){super(e),this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this.addHandles([d((()=>this.children),\"change\",(t=>{const{added:s,removed:l}=t;s.forEach((t=>{const s=`activeLayerInfo-ready-watcher-${t.layer.uid}`;this.addHandles(y((()=>t.ready),e,m),s)})),l.forEach((e=>this.removeHandles(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(We={})}destroy(){this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(We=null)}get effectList(){const e=this.layer;let t=null;return\"effect\"in e&&e.effect&&(t=new _,t.effect=e.effect,t.endTransitions(),t.scale=this.scale),t}get opacity(){const e=this.layer.opacity,t=this.parent?.opacity,s=this.layer.parent,l=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=t?t*e:null!=l?l*e:e}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view?.scale??0}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"effect\"in e&&e.effect&&Array.isArray(e.effect))return!0;if(\"featureReduction\"in e&&e.featureReduction){if(\"cluster\"===e.featureReduction.type)return!0;if(\"binning\"===e.featureReduction.type&&\"renderer\"in e.featureReduction&&e.featureReduction.renderer)return this._isRendererScaleDriven(e.featureReduction.renderer)}return\"renderer\"in e&&e.renderer?this._isRendererScaleDriven(e.renderer):this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=Array.from(e,(e=>{if(E(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,s=t&&t.drawingInfo,l=s&&I(s.renderer),r=ce.read(t.geometryType);return l?this._getRendererLegendElements(l,{title:e.name,geometryType:r}):(o.getLogger(this).warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await u(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(s){o.getLogger(this).warn(\"error while building legend for layer!\",s)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForFeatureReduction(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getLegendElementsForFeatureReduction(e):[],this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(xe(e))this._constructLegendElementsForVoxellayer();else if(De(e))this._constructLegendElementsForWMTSlayer();else if(je(e))await this._constructLegendElementsForWMSSublayers();else if(Te(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Oe(e)||Ae(e)||ze(e))await this._constructLegendElementsForSublayers();else{this.removeHandles(\"imageryLayers-watcher\");let t=\"default\";if(Pe(e)){const s=e;t=(s?.rasterFunction?.functionName||\"default\")+\"_\"+(e.bandIds?.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${t}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const s=t.map((async t=>{if(Pe(e)||Me(e)){const t=y((()=>[\"renderingRule\"in e&&e.rasterFunction,e.bandIds]),(()=>c((async()=>{We.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this.addHandles(t,\"imageryLayers-watcher\")}const s=this._generateSymbolTableElementForLegendLayer(t);s&&s.infos.length&&(Pe(e)&&(s.title=e.title),this.legendElements.push(s)),this.notifyChange(\"ready\")}));await u(s)})).catch((e=>{o.getLogger(this).warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,s=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!s&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await h((()=>!t.updating));const l=s?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();if(!l)return!0;l.geometry=this.view.extent;return 0!==(s?\"queryFeatureCount\"in t&&await t.queryFeatureCount(l):\"queryFeatureCount\"in e&&await e.queryFeatureCount(l))}_getParentLayerOpacity(e){let t=1;const s=e.parent;return s&&\"uid\"in s&&(t=this._getParentLayerOpacity(s)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isRendererScaleDriven(e){if(\"dot-density\"===e.type)return!0;const t=\"valueExpression\"in e?e.valueExpression:null;if(ue.test(t))return!0;const s=\"visualVariables\"in e?e.visualVariables:null;return!!s&&s.some((e=>this._isScaleDrivenSizeVariable(e)))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,s=t.minSize,l=t.maxSize;return\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):!!t.expression||ue.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Oe(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const s of t.sourceJSON.layers??[])if(s.id===e.source.mapLayerId&&(s.minScale>0||s.maxScale>0))return!0;return!1}async _constructLegendElementsForVoxellayer(){this.legendElements=[],this.removeHandles(\"voxel-style-watcher\"),this.removeHandles(\"voxel-current-variable\");const e=this.layer;this.addHandles(y((()=>e.currentVariableId),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-current-variable\"),this.addHandles(y((()=>e.getVariableStyles()),(()=>this._constructLegendElementsForVoxellayer())),\"voxel-style-watcher\");const t=e.getVariableStyle(null),s=[];if(t)if(t.uniqueValues?.length){const e=[];t.uniqueValues.forEach((t=>{t.enabled&&e.push({label:t.label||`${t.value}`,value:t.value,symbol:new se({color:t.color,outline:null})})})),e.length&&s.push({type:\"symbol-table\",title:t.label,infos:e})}else if(t.transferFunction){const{colorStops:e,stretchRange:l}=t.transferFunction,r=e.toArray().reverse(),i=l.map(((e,t)=>`${0===t?J:Q} ${ee(e)}`)).reverse(),n=r.map((e=>({color:e.color,value:null,label:null})));n[0].label=i[0],n[n.length-1].label=i[1],s.push({type:\"color-ramp\",title:t.label,infos:n,preview:x(r.map((e=>e.color)),{ariaLabel:await He(\"previewColorRampAriaLabel\")})})}const l=e.opacity,r=s.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,l)));await u(r),this.legendElements=s,this.notifyChange(\"ready\")}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this.removeHandles(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this.addHandles(y((()=>{const{layer:e}=this;return e&&\"activeLayer\"in e&&e.activeLayer}),(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((s=>e.styleId===s.id&&(t=s.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this.removeHandles(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this.addHandles(y((()=>{const{layer:e}=this;return e&&\"sublayers\"in e&&e.sublayers}),(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const s=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const l=e.toArray();for(const r of l){const e=y((()=>[r.title,r.visible,r.legendEnabled]),(()=>this._constructLegendElementsForWMSSublayers()));if(this.addHandles(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&s.unshift(e)}}return s}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const s=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){let s=e.legendUrl;if(!s)return;const r={type:\"symbol-table\",title:e.title||e.name||String(e.id??\"\"),infos:[]};t&&(s=f(s,t));let i=null;const n=e.layer?.opacity;try{i=(await l(s,{responseType:\"image\"})).data,i&&(i.style.opacity=n)}catch{}return r.infos.push({src:s,preview:i,opacity:n}),r}_getLegendLayers(e,t){const s=We&&We[e];return s?Promise.resolve(s):this._legendRequest(t).then((t=>{const s=t.layers;return We[e]=s,s}))}_legendRequest(e){const t=this.layer;let s={f:\"json\",dynamicLayers:e};if(Pe(t)){const e=t.exportImageServiceParameters.rasterFunction;if(e&&(s.renderingRule=JSON.stringify(e.functionDefinition?.toJSON()||e.toJSON())),t.bandIds&&(s.bandIds=t.bandIds.join()),t.raster||t.viewId||t.customParameters){const{raster:e,viewId:l,customParameters:r}=t;s={raster:e,viewId:l,...s,...r}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&+t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=ie+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return l(r,{query:s}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this.removeHandles(\"sublayers-watcher\");const e=this.layer;this.addHandles(y((()=>e.sublayers),(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let s=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const l=e.toArray();for(const r of l){const e=y((()=>[\"renderer\"in r&&r.renderer,r.opacity,r.title,r.visible]),(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this.addHandles(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,l=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,l);e.infos.push(...t),s=[e,...s]}else if(r.renderer){s=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:l,sublayer:r}),...s]}}}return s.filter((e=>!!e&&(!(\"infos\"in e)||!e.infos||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this.removeHandles(\"sublayers-watcher\");const e=this.layer;if(Oe(e)||Ae(e)||ze(e)){this.addHandles(y((()=>e.sublayers),(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){o.getLogger(this).warn(\"Request to server for legend has failed!\",t)}}}async _generateLegendElementsForSublayers(e,t,s){const l=this.layer;let r=[];this.addHandles(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!s&&this.sublayerIds&&this.sublayerIds.length&&(n=ze(l)?this.sublayerIds.map((e=>l.findSublayerForSubtypeCode(e))).filter(i):this.sublayerIds.map((e=>l.findSublayerById(e))).filter(i));for(const i of n){const e=y((()=>[i.renderer,i.opacity,i.title,i.visible,i.legendEnabled]),(()=>this._constructLegendElementsForSublayers()));if(this.addHandles(e,\"sublayers-watcher\"),!this.respectLayerVisibility||i.visible&&i.legendEnabled&&this._isSublayerInScale(i)){const e=i&&null!=i.opacity?i.opacity:null,l=null!=e?e*t:t,n=!qe(i)||i.originIdOf(\"renderer\")>S.SERVICE&&!i.sublayers;if(i.renderer&&n){await i.load();r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:l,sublayer:i}),...r]}else if(qe(i)){const e=await this._generateSymbolTableElementForSublayer(i,l,s);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||!e.infos||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,s){if(!s){s=new Map;const t=this.layer,l=e.source;let r=null;if(!(!l||\"map-layer\"===l.type&&l.mapLayerId===e.id&&(!l.gdbVersion||l.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>S.SERVICE||e.originIdOf(\"labelingInfo\")>S.SERVICE||e.originIdOf(\"labelsVisible\")>S.SERVICE){const e=new w({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const i=r||`${t.uid}-default`;(await this._getLegendLayers(i,r)).forEach((e=>s.set(e.layerId,e)))}const l=s.get(e.id);if((!l||l?.subLayerIds&&l.defaultVisibility)&&e.sublayers){const l=await this._generateLegendElementsForSublayers(e.sublayers,t,s);return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendLayer(l,e,t)}_generateSymbolTableElementForLegendLayer(e,t,s){if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const l=t?.renderer;let r=t?.title||e.layerName;if(l&&(!t||t?.originIdOf(\"renderer\")>S.SERVICE)){const e=t?.title||this._getRendererTitle(l,t);e&&(r&&\"string\"!=typeof e&&\"title\"in e&&(e.title=r),r=e)}const i={type:\"symbol-table\",title:r,legendType:e.legendType||null,infos:[]},n=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return e.legendGroups&&e.legendGroups.length>0?e.legendGroups.forEach((t=>{const l={type:\"symbol-table\",title:t.heading,legendType:e.legendType||null,infos:this._generateSymbolTableElementInfosForLegendLayer(n.filter((e=>e.groupId===t.id)),e.layerId,s)};l.infos?.length>0&&i.infos.push(l)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(n,e.layerId,s),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,l){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=s(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:l??this.opacity,width:e.width,height:e.height}})).filter(i)}_isSublayerInScale(e){const t=e.minScale||0,s=e.maxScale||0;return!(t>0&&t<this.scale||s>this.scale)}_isLegendLayerInScale(e,t){const s=t||this.layer;let l=null,r=null,i=!0;return!s.minScale&&0!==s.minScale||!s.maxScale&&0!==s.maxScale?(0===e.minScale&&s.tileInfo&&(l=s.tileInfo.lods[0].scale),0===e.maxScale&&s.tileInfo&&(r=s.tileInfo.lods[s.tileInfo.lods.length-1].scale)):(l=Math.min(s.minScale,e.minScale)||s.minScale||e.minScale,r=Math.max(s.maxScale,e.maxScale)),(l>0&&l<this.scale||r>this.scale)&&(i=!1),i}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&+this.layer.version<10.1||0===e.length)return e;const s=t.renderer,l=e.some((e=>e.values));let r=0,i=null;return l&&e.some(((e,t)=>(e.values||(r=t,i=e,i.label||(i.label=\"others\")),null!=i))),s?\"unique-value\"===s.type?i&&(e.splice(r,1),e.push(i)):\"class-breaks\"===s.type&&(i&&e.splice(r,1),e.reverse(),i&&e.push(i)):i&&(e.splice(r,1),e.push(i)),e}async _getRendererLegendElements(e,t={}){if(!Ve(e,this.view))return o.getLogger(this).warn(`Renderer of type '${e.type}' not supported!`),[];if(we(e))return this._constructPointCloudRendererLegendElements(e,t);if(Re(e))return this._constructDotDensityRendererLegendElements(e);const s=await this._loadRenderer(e);return Fe(s)?this._constructPieChartRendererLegendElements(s):this._constructRendererLegendElements(s,t)}async _getLegendElementsForFeatureReduction(e){let t=null;return\"binning\"===e.type?t=e.renderer:\"cluster\"===e.type&&(t=this._getClusterRenderer(e)),t?this._getRendererLegendElements(t):[]}_getPointCloudRendererTitle(e){return(e.legendOptions?.title||e.field)??\"\"}async _constructPointCloudRendererLegendElements(e,t={}){const s=t.title,l=[];let r=null,i=null;if(Ee(e))r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(de,e.color)})}));else if(Ce(e)){const t=e.stops;let l=null;if(t?.length&&(1===t.length&&(l=t[0].color),!l)){const e=t[0].value,s=t[t.length-1].value;if(null!=e&&null!=s){l=M(e+(s-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(de,l||de.color)}]};const n=B(e.stops??[])??[];i={type:\"color-ramp\",title:s||this._getPointCloudRendererTitle(e),infos:n,preview:x(n.map((e=>e.color)),{ariaLabel:await He(\"previewColorRampAriaLabel\")})}}else Ie(e)&&(r={type:\"symbol-table\",title:s||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos?.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(de,e.color)})})));r&&r.infos.length&&l.push(r),i&&i.infos.length&&l.push(i);const n=l.reduce(((e,t)=>[...e,...t.infos??[]]),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return u(n).then((()=>l))}async _getElementInfoForDotDensity(e,t){const{color:s,label:l,valueExpressionTitle:r}=t,{backgroundColor:i,outline:n,dotSize:a}=e,o=this.effectList,u=o?.effects.map((e=>e.toJSON())),c=L(u),d=await He(\"previewTemplateAriaLabel\",l||r),y=a+\"-\"+s+\"-\"+i+\"-\"+(n&&JSON.stringify(n.toJSON()))+\"-\"+c,h=this._dotDensityUrlCache,m=h.has(y)?h.get(y):j(e,s,{ariaLabel:d});h.set(y,m);const p={shape:{type:\"image\",x:0,y:0,width:m.width,height:m.height,src:m.src},fill:null,stroke:null,offset:[0,0]},f=z([[p]],[m.width,m.height],{effectView:this.effectList,ariaLabel:d});return{opacity:1,src:m.src,preview:f,width:m.width,height:m.height}}async _constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),s=e.legendOptions&&e.legendOptions.unit,l={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:s||\"\"},infos:[]};for(const r of e.attributes){const t=await this._getElementInfoForDotDensity(e,r);t.label=r.label||r.valueExpressionTitle||r.field,l.infos.push(t)}return[l]}async _constructPieChartRendererLegendElements(e){const t=this.layer.opacity,s=[];let l=null;const r=e.outline;e.attributes.forEach((e=>{const t=new te({color:e.color,outline:r}),l=e.label||e.valueExpressionTitle||e.field;s.push({label:l,symbol:t})}));const i=s.length?[...s]:[];if(e.othersCategory?.color&&0!==e.othersCategory?.threshold){const t=new te({color:e.othersCategory.color,outline:r});l=e.othersCategory.label||\"Other\",s.push({label:l,symbol:t})}if(e.defaultColor?.a){const t=new te({color:e.defaultColor,outline:r});s.push({label:e.defaultLabel,symbol:t})}const n=await this._getVisualVariableLegendElements(e,this.layer)||[];if(s.length){n.unshift({type:\"symbol-table\",title:null,infos:s});const t=i.filter((e=>e.label!==l)).map((e=>e.symbol.color)).filter(Boolean),a=D(t,{holePercentage:e.holePercentage,backgroundColor:e.backgroundFillSymbol?.color,effectList:this.effectList,outline:r,ariaLabel:await He(\"previewPieChartAriaLabel\")});n.unshift({type:\"pie-chart-ramp\",title:this._getRendererTitle(e,this.layer),infos:s,preview:a})}const a=n.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol&&!e?.preview)).map((e=>this._getSymbolPreview(e,t,{effectList:this.effectList})));return await u(a),n}async _constructRendererLegendElements(e,t={}){const{title:s,sublayer:l}=t,r=l||this.layer;this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(e,r)||[],n={type:\"symbol-table\",title:s||this._getRendererTitle(e,r),infos:[]};let a=null,o=!1;const c=new Set;if(he(e)&&!this._hasSizeRamp){const t=await K(e);n.infos.push({label:null,symbol:t})}else if(ke(e)){let t=s;const l=Ne(e)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",r=i.findIndex((e=>\"color-ramp\"===e.type)),n=-1!==r?i.splice(r,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];n&&(t=n.title,u.push(n)),o&&(t=o.title,u.push(o)),u.length>0&&i.push({type:l,title:t,infos:u})}else if(Le(e)){const t=N(e);i.push({type:\"heatmap-ramp\",title:s||this._getRendererTitle(e,r),infos:t,preview:x(t.map((e=>e.color)),{effectList:this.effectList,ariaLabel:await He(\"previewColorRampAriaLabel\")})})}else if(_e(e)){const t=e&&e.authoringInfo;if(t&&\"relationship\"===t.type){const{numClasses:s,field1:l,field2:a}=t,o=t.focus;if(s&&l&&a){const t=[l,a];let u=q(o)||0;for(const e of t){const{field:t,normalizationField:s,label:l}=e,i=l||{field:this._getFieldAlias(t,r),normField:s&&this._getFieldAlias(s,r)},a=$e.clone();a.angle=u,n.infos.push({label:i,symbol:a}),c.add(a),u+=90}const d=H({focus:o,numClasses:s,infos:e.uniqueValueInfos??[]});i.unshift(d)}}else if(Pe(this.layer)||Me(this.layer))e.uniqueValueInfos?.forEach((e=>{e.symbol&&n.infos.push({label:e.label||e.value,value:e.value,symbol:e.symbol})}));else{const{field:t,field2:l,field3:i,fieldDelimiter:a,valueExpression:u,defaultSymbol:c}=e,d=!(!t&&!u||!l&&!i),y=[];if(e.uniqueValueGroups?.forEach((e=>{const s={type:\"symbol-table\",title:e.heading,infos:[]};e.classes?.forEach((e=>{const{symbol:n,values:o}=e;if(n){const c=[],y=[];for(const e of o??[]){const{value:s,value2:n,value3:o}=e,h=[],m=[];(t||u)&&(h.push(s),m.push(this._getDomainName(t,s,r))),l&&(h.push(n),m.push(this._getDomainName(l,n,r))),i&&(h.push(o),m.push(this._getDomainName(i,o,r))),c.push(d?h.join(a||\"\"):h[0]),y.push(m.join(\" - \"))}const h=c.join(\", \");let m=e.label;if(!m){const e=y.filter(Boolean);m=e.length?e.join(\", \"):h}s.infos.push({label:m,value:h,symbol:n})}})),s.infos.length&&y.push(s)})),y.length){const t=y[0];1===y.length&&\"title\"in t&&!t.title?n.infos.push(...t.infos??[]):(c&&(y.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:c}]}),o=!0),n.infos.push(...y)),s||e.legendOptions&&e.legendOptions.title||e.valueExpressionTitle||(n.title=null)}}e.defaultSymbol&&!o&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(Se(e)){a=this._isUnclassedRenderer(e);(!a||!this._hasSizeRamp)&&(e.classBreakInfos.forEach((e=>{e.symbol&&n.infos.unshift({label:e.label||(a?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),a&&(n.title=null),this._updateInfosforClassedSizeRenderer(e,n.infos)),e.defaultSymbol&&!a&&(n.infos.push({label:e.defaultLabel||\"others\",symbol:e.defaultSymbol}),o=!0)}else if(fe(e))if(Me(this.layer)||Be(this.layer)){const t=await this._constructTileImageryStretchRendererElements(e);Ue(t)?i.push(t):n.infos=t}else{const t=this.layer;let s,l;if(e.statistics?.length){const t=e.statistics[0];X(t)?(s=t.min,l=t.max):[s,l]=t}let r=[],a=t.serviceRasterInfo;if(t.rasterFunction)try{a=await t.generateRasterInfo(t.rasterFunction)}catch{}const o=a.keyProperties.BandProperties,u=C(a.pixelType);if(1===a.bandCount){const r=t.bandIds?.[0]||0;s=null!=s?s:a.statistics?a.statistics[r].min:u[0],l=null!=l?l:a.statistics?a.statistics[r].max:u[1],s||l?i.push(await this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend()}else t.bandIds&&1===t.bandIds.length?(s=null!=s?s:a.statistics?a.statistics[t.bandIds[0]].min:u[0],l=null!=l?l:a.statistics?a.statistics[t.bandIds[0]].max:u[1],s||l?i.push(await this._getStretchLegendElements(e,{min:s,max:l})):this._getServerSideLegend()):a.bandCount>=3?o&&o.length>=a.bandCount?t.bandIds&&3===t.bandIds.length?(r=t.bandIds.map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):\"lerc\"===t.format?(r=[0,1,2].map((e=>o[e].BandName)),n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():\"lerc\"===t.format?(r=[\"band1\",\"band2\",\"band3\"],n.infos=this._createSymbolTableElementMultiBand(r)):this._getServerSideLegend():this._getServerSideLegend()}else if(pe(e))e.colormapInfos.forEach((e=>{n.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ye,e.color)})}));else if(be(e)){let s=e.symbol;switch(t.geometryType){case\"point\":s=\"pointSymbol\"in r?r.pointSymbol:null;break;case\"polyline\":s=\"lineSymbol\"in r?r.lineSymbol:null;break;case\"polygon\":s=\"polygonSymbol\"in r?r.polygonSymbol:null}const l=this._hasClusterSizeVariable&&this._getClusterSymbol()||!this._hasSizeRamp;e.symbol&&l&&n.infos.push({label:e.label,symbol:s})}else if(me(e)){e.outputUnit&&(this.title=\"(\"+e.toJSON().outputUnit+\")\"),n.title=e.attributeField;const t=e.getClassBreakInfos();t?.length?t.forEach((e=>{n.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):n.infos.push({label:e.attributeField,symbol:e.getDefaultSymbol()})}else ge(e)&&i.push(await this._getStretchLegendElements(e,{min:0,max:255}));const d=e.defaultSymbol;!d||o||be(e)||a&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:e.defaultLabel||\"others\",symbol:d}]}),n.infos.length&&i.unshift(n);const y=null==t.opacity?this.opacity:t.opacity,h=this._isTallSymbol(\"visualVariables\"in e?e.visualVariables:null),m=Pe(this.layer)||Me(this.layer),p=i.reduce(((e,t)=>[...e,...this._getAllInfos(t)]),[]).filter((e=>!!e?.symbol)).map((e=>this._getSymbolPreview(e,y,{isDefault:e.symbol===d,applyScaleDrivenSize:!c.has(e.symbol),symbolConfig:{isTall:h,isSquareFill:m},effectList:c.has(e.symbol)?null:this.effectList})));return e=null,await u(p),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=e?.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}async _constructTileImageryStretchRendererElements(e){const t=this.layer,{rasterInfo:s}=t.raster,l=s.bandCount||e.statistics.length;let r,i,n=[];const a=s.keyProperties&&s.keyProperties.BandProperties,o=e?.statistics?.length?e.statistics:s?.statistics;if(o){const e=o[0];X(e)?(r=e.min,i=e.max):[r,i]=e}else{const e=C(s.pixelType);r=e[0],i=e[1]}if(t.hasStandardTime()&&(r=t.getStandardTimeValue(r),i=t.getStandardTimeValue(i)),1===s.bandCount||1===t.bandIds?.length)return this._getStretchLegendElements(e,{min:r,max:i});function u(e){const l=(t?.bandIds?.length?t.bandIds:Array.from(Array(Math.min(s.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return n=a&&a.length>=l?u(a):u(),this._createSymbolTableElementMultiBand(n)}async _getStretchLegendElements(e,t){const s=e.colorRamp,l=U(s,t);return{type:\"stretch-ramp\",title:\"\",infos:l,preview:x(l.map((e=>e.color)),{ariaLabel:await He(\"previewColorRampAriaLabel\")})}}_getClusterSymbol(){const e=this.layer,t=\"featureReduction\"in e&&e.featureReduction,s=t&&\"symbol\"in t&&t.renderer;return s&&!0!==s?.authoringInfo?.isAutoGenerated?null:t&&\"symbol\"in t?t.symbol:null}async _getSizeLegendElement(e,t,s,l){return{type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(t):e,infos:await $(s,t,await Y(s),this.scale,this.view.type,!!l,this._hasClusterSizeVariable?this._getClusterSymbol():null)}}_createSymbolTableElementMultiBand(e){const t=[],s=[\"red\",\"green\",\"blue\"];return e.forEach(((e,l)=>{t.push({label:{colorName:s[l],bandName:e},src:Z[l],opacity:this.opacity??1})})),t}_updateInfosforClassedSizeRenderer(e,t){const s=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,l=e.classBreakInfos.some((e=>A(e.symbol)));if(s&&l){const s=W,l=G,r=e.classBreakInfos.length,i=(s-l)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=s-i*t}))}}_isTallSymbol(e){let t=!1,s=!1;if(e)for(let l=0;l<e.length&&(!t||!s);l++){const r=e[l];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(s=!0))}return t&&s}async _getSymbolPreview(e,t,s){let l=!s?.isDefault&&null==e.size&&this._hasSizeRamp?p(T.size):e.size;if(this._scaleDrivenSizeVariable&&s?.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");l=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return O(e.symbol,{size:l,opacity:t,scale:!1,symbolConfig:s?.symbolConfig,effectView:s?.effectList,ariaLabel:e.label&&\"string\"!=typeof e.label?null:await He(\"previewTemplateAriaLabel\",e.label)}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}_getClusterRenderer(e){this._hasClusterSizeVariable=!1;const t=\"renderer\"in this.layer?this.layer.renderer:null,s=e.renderer?.clone()||t?.clone(),l=P(this.layerView._effectiveRenderer,this.view);if(l&&null!=s&&\"visualVariables\"in s){const t=s.visualVariables?.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!ue.test(e.valueExpression)));if(!t){if(\"clusterMinSize\"in e&&\"clusterMaxSize\"in e){const{clusterMinSize:t,clusterMaxSize:s}=e;l.legendOptions=new F({showLegend:t!==s})}const t=s.visualVariables||[];s.visualVariables=t.concat([l]),this._hasClusterSizeVariable=!0}}return s}async _loadRenderer(e){const t=[],s=e.clone(),l=await Y(s);if(Se(s)||_e(s)){const e=(s.classBreakInfos||s.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,l).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(t,e)}return t.push(this._fetchSymbol(s.symbol||s.defaultSymbol,s.defaultSymbol?null:l).then((e=>{this._applySymbolToRenderer(s,e,be(s))})).catch((()=>{this._applySymbolToRenderer(s,null,be(s))}))),u(t).then((()=>s))}_applySymbolToRenderer(e,t,s){s?e.symbol=t:e.defaultSymbol=t}async _fetchSymbol(e,t){if(!e)throw new Error;if(\"web-style\"===e.type){const s=this._webStyleSymbolCache;try{const l=await(\"2d\"===this.view.type?e.fetchCIMSymbol({cache:s}):e.fetchSymbol({cache:s}));return this._getAppliedCloneSymbol(l,t)}catch{throw o.getLogger(this).warn(\"Fetching web-style failed!\"),new Error}}return this._getAppliedCloneSymbol(e,t)}_getAppliedCloneSymbol(e,s){if(!e||!s)return e;const l=e.clone(),r=s&&s.toRgba();return l.type.includes(\"3d\")?this._applyColorTo3dSymbol(l,r):\"cim\"===l.type?V(l,s):l.color&&(l.color=new t(r||l.color)),l}_applyColorTo3dSymbol(e,s){s&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(s))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const s=e.visualVariables,l=[],r=[],n=[];for(const i of s)\"color\"===i.type?l.push(i):\"size\"===i.type?r.push(i):\"opacity\"===i.type&&n.push(i);const a=[...l,...r,...n];let o,u;if(0===l.length&&Se(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];o=t&&t.symbol}if(0===l.length&&be(e)&&(o=e.symbol),o)if(o.type.includes(\"3d\")){const e=o.symbolLayers.at(0);\"water\"===e.type?null!=e.color&&(u=e.color):null!=e.material&&null!=e.material.color&&(u=e.material.color)}else o.url||(u=o.color);const c=this.effectList;return(await Promise.all(a.map((async s=>{if(!s.legendOptions||!1!==s.legendOptions.showLegend){const l=he(e)?s.field:this._getRampTitle(s,t);let r=null;const i=\"getField\"in t?t.getField?.(s.field):null,n=i&&v(i);if(\"color\"===s.type){const e=await k(s,null,n)??[];r={type:\"color-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:c,ariaLabel:await He(\"previewColorRampAriaLabel\")})},this._hasColorRamp||(this._hasColorRamp=e.length>0)}else if(\"size\"===s.type&&\"outline\"!==s.target)ue.test(s.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=s):(r=await this._getSizeLegendElement(l,s,e,n),this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===s.type){const e=await k(s,u,n)??[];r={type:\"opacity-ramp\",title:l,infos:e,preview:x(e.map((e=>e.color)),{effectList:c,ariaLabel:await He(\"previewColorRampAriaLabel\")})},this._hasOpacityRamp||(this._hasOpacityRamp=e.length>0)}return r&&r.infos?r:null}})))).filter(i)}_getDomainName(e,t,s){if(e&&\"function\"!=typeof e){const l=\"getField\"in s&&s.getField&&s.getField(e),r=l&&\"getFieldDomain\"in s&&s.getFieldDomain?s.getFieldDomain(l.name):null;return\"coded-value\"===r?.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,s=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,l=\"popupTemplate\"in e&&e.popupTemplate,r=l&&l.fieldInfos;if(r)for(const t of r)if(t.fieldName===s)return\"cluster_count\"===s?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let s=e.field,l=e.normalizationField,r=!1,i=!1,n=!1,a=null;s=\"function\"==typeof s?null:s,l=\"function\"==typeof l?null:l;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const s=e[t];if(\"color\"===s.type){if(\"ratio\"===s.style){r=!0;break}if(\"percent\"===s.style){i=!0;break}if(\"percent-of-total\"===s.style){n=!0;break}}}}a={field:s&&this._getFieldAlias(s,t),normField:l&&this._getFieldAlias(l,t),ratio:r,ratioPercent:i,ratioPercentTotal:n}}return a}_getRendererTitle(e,t){const s=e;if(s.legendOptions&&s.legendOptions.title)return s.legendOptions.title;if(s.valueExpressionTitle)return s.valueExpressionTitle;let l=s.field,r=null,i=null;if(Se(s)&&(r=s.normalizationField,i=\"percent-of-total\"===s.normalizationType),l=\"function\"==typeof l?null:l,r=\"function\"==typeof r?null:r,_e(s)){const{field2:e,field3:r,fieldDelimiter:i}=s;let n=l&&this._getFieldAlias(l,t);return e&&(n=`<${n}>${i}<${this._getFieldAlias(e,t)}>`,r&&(n=`${n}${i}<${this._getFieldAlias(r,t)}>`)),n}let n=null;return(l||r)&&(n={field:l&&this._getFieldAlias(l,t),normField:r&&this._getFieldAlias(r,t),normByPct:i}),n}_getFieldAlias(e,t){const s=\"popupTemplate\"in t?t.popupTemplate:null,l=s?.fieldInfos;let r;l&&l.some((t=>e===t.fieldName&&(r=t,!0)));let i=null;\"getField\"in t&&t.getField?i=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(i=t.fieldsIndex.get(e));let n=null;const a=\"featureReduction\"in t&&t.featureReduction;a&&(!r&&\"popupTemplate\"in a&&a.popupTemplate&&a.popupTemplate.fieldInfos&&a.popupTemplate.fieldInfos.some((t=>e?.toLowerCase()===t.fieldName?.toLowerCase()&&(r=t,!0))),\"fields\"in a&&a.fields&&(n=a.fields.find((t=>t.name?.toLowerCase()===e?.toLowerCase()))));const o=r||i||n;let u=null;return o&&(u=r?.label||i?.alias||n?.alias||\"name\"in o&&o.name||\"fieldName\"in o&&o.fieldName||null),u}_isUnclassedRenderer(e){const t=e.visualVariables;let s=!1;return Se(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(s=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),s}};e([g()],Ge.prototype,\"children\",void 0),e([g({readOnly:!0})],Ge.prototype,\"effectList\",null),e([g()],Ge.prototype,\"layerView\",void 0),e([g()],Ge.prototype,\"layer\",void 0),e([g()],Ge.prototype,\"legendElements\",void 0),e([g({readOnly:!0})],Ge.prototype,\"opacity\",null),e([g()],Ge.prototype,\"parent\",void 0),e([g({readOnly:!0,dependsOn:[]})],Ge.prototype,\"ready\",null),e([g()],Ge.prototype,\"hideLayersNotInCurrentView\",void 0),e([g()],Ge.prototype,\"keepCacheOnDestroy\",void 0),e([g()],Ge.prototype,\"respectLayerVisibility\",void 0),e([g({readOnly:!0})],Ge.prototype,\"scale\",null),e([g()],Ge.prototype,\"sublayerIds\",void 0),e([g({readOnly:!0})],Ge.prototype,\"isScaleDriven\",null),e([g()],Ge.prototype,\"title\",void 0),e([g({readOnly:!0,dependsOn:[\"ready\"],value:0})],Ge.prototype,\"version\",null),e([g()],Ge.prototype,\"view\",void 0),Ge=e([b(\"geoscene.widgets.Legend.support.ActiveLayerInfo\")],Ge);const Je=Ge;export{Je as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import r from\"../../core/Accessor.js\";import i from\"../../core/Collection.js\";import{watch as t,initial as s,when as a}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as y}from\"../../intl/locale.js\";const d={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},h=i.ofType(l),c=[\"geoscene.layers.BuildingSceneLayer\",\"geoscene.layers.CSVLayer\",\"geoscene.layers.FeatureLayer\",\"geoscene.layers.GeoJSONLayer\",\"geoscene.layers.GeoRSSLayer\",\"geoscene.layers.GroupLayer\",\"geoscene.layers.HeatmapLayer\",\"geoscene.layers.ImageryLayer\",\"geoscene.layers.ImageryTileLayer\",\"geoscene.layers.MapImageLayer\",\"geoscene.layers.OGCFeatureLayer\",\"geoscene.layers.PointCloudLayer\",\"geoscene.layers.StreamLayer\",\"geoscene.layers.SceneLayer\",\"geoscene.layers.SubtypeGroupLayer\",\"geoscene.layers.TileLayer\",\"geoscene.layers.VoxelLayer\",\"geoscene.layers.WFSLayer\",\"geoscene.layers.WMSLayer\",\"geoscene.layers.WMTSLayer\",\"geoscene.layers.WCSLayer\",\"geoscene.layers.LinkChartLayer\",\"geoscene.layers.knowledgeGraph.KnowledgeGraphSublayer\"],L=\"view.basemapView.baseLayerViews\",u=\"view.groundView.layerViews\",f=\"view.basemapView.referenceLayerViews\",p=[L,u,\"view.layerViews\",f];let _=class extends r{constructor(e){super(e),this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new i,this.activeLayerInfos=new h,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this.addHandles(t((()=>this.view),(()=>this._viewHandles()),s),d.view),this.addHandles(y((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this.removeHandles(d.state),this.view&&this.addHandles(t((()=>this.state),(()=>this._stateHandles()),s),d.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this.removeHandles([d.allLayerViews,d.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this.removeHandles(e);const r=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],r&&r.parent&&r.parent.children.remove(r)}_watchPropertiesAndAllLayerViews(){const{view:e}=this;if(!e)return;const{allLayerViews:r}=e;r.length&&this._refresh(),this.addHandles(r.on(\"change\",(e=>this._allLayerViewsChangeHandle(e))),d.allLayerViews),this.addHandles(t((()=>[this.layerInfos,this.basemapLegendVisible,this.groundLegendVisible]),(()=>this._propertiesChangeHandle())),d.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){const r=this.view;if(e.length<2||!r)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&e.includes(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const t={};r.allLayerViews.forEach(((e,r)=>t[e.layer.uid]=r)),e.sort(((e,r)=>{const i=t[e.layer.uid]||0;return(t[r.layer.uid]||0)-i}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const r=!this.basemapLegendVisible&&(e===L||e===f),i=!this.groundLegendVisible&&e===u;return!r&&!i}_collectLayerViews(e,r){const i=t=>(t&&t.forEach((t=>{r.push(t),i(t[e])})),r);return i}_filterLayerViewsByLayerInfos(e){const r=this.layerInfos;return!r||!r.length||r.some((r=>this._hasLayerInfo(r,e)))}_hasLayerInfo(e,r){const i=this._isLayerUIDMatching(e.layer,r.layer.uid);return i&&(this._layerInfosByLayerViewId[r.uid]=e),i}_isLayerUIDMatching(e,r){return e&&(e.uid===r||this._hasLayerUID(e.layers,r))}_hasLayerUID(e,r){return e&&e.some((e=>this._isLayerUIDMatching(e,r)))}_isLayerViewSupported(e){return!!c.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this.removeHandles(e.uid),this.addHandles(t((()=>[e.legendEnabled,e.layer?.legendEnabled]),(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this.removeHandles(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){const r=e.layer,i=e.uid,n=this._layerInfosByLayerViewId[i];let o=this._activeLayerInfosByLayerViewId[i];if(!o){const t=n&&void 0!==n.title&&n.layer.uid===r.uid;o=new l({layer:r,layerView:e,title:t?n.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:n&&n.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[i]=o}const y=r.parent&&\"uid\"in r.parent?this._layerViewByLayerId[r.parent?.uid]:null;if(o.parent=this._activeLayerInfosByLayerViewId[y?.uid],!this.hasHandles(i)){const n=[t((()=>r.title),(e=>this._titleHandle(e,o))),t((()=>[r.opacity,\"renderer\"in r&&r.renderer,\"pointSymbol\"in r&&r.pointSymbol,\"lineSymbol\"in r&&r.lineSymbol,\"polygonSymbol\"in r&&r.polygonSymbol]),(()=>this._constructLegendElements(o))),a((()=>!0===this.view?.stationary),(()=>this._scaleHandle(o)),s),t((()=>e._effectiveRenderer),(()=>this._constructLegendElements(o))),t((()=>\"effect\"in r&&r.effect),(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const i=t((()=>e.legendEnabled),(e=>this._legendEnabledHandle(e,o))),s=t((()=>r.legendEnabled),(e=>this._legendEnabledHandle(e,o)));n.push(i,s)}this.addHandles(n,i)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,r){r.title=e,this._constructLegendElements(r)}_legendEnabledHandle(e,r){e?this._addActiveLayerInfo(r):this._removeActiveLayerInfo(r)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:r,layer:i}=e;if(this._isLayerActive(r)&&!this.activeLayerInfos.includes(e)){const r=e.parent;if(r)r.children.includes(e)||r.children.push(e),this._sortActiveLayerInfos(r.children);else{const r=this.layerInfos?.some((e=>e.layer.uid===i.uid));i.parent&&\"uid\"in i.parent&&!r?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((r=>{const i=r.layer.parent,t=i&&\"uid\"in i?this._layerViewByLayerId[i?.uid]:null,s=this._activeLayerInfosByLayerViewId[t?.uid];s&&(e.push(r),r.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const r=e.parent;r?r.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const r=e.layer;\"featureCollections\"in r&&r.featureCollections?e.buildLegendElementsForFeatureCollections(r.featureCollections):\"featureReduction\"in r&&r.featureReduction&&\"renderer\"in r.featureReduction&&(\"binning\"===r.featureReduction.type||\"cluster\"===r.featureReduction.type)?e.buildLegendElementsForFeatureReduction(r.featureReduction):\"renderer\"in r&&r.renderer&&!(\"sublayers\"in r)?e.buildLegendElementsForRenderer(r.renderer):\"url\"in r&&r.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([n({type:h})],_.prototype,\"activeLayerInfos\",void 0),e([n()],_.prototype,\"basemapLegendVisible\",void 0),e([n()],_.prototype,\"groundLegendVisible\",void 0),e([n()],_.prototype,\"hideLayersNotInCurrentView\",void 0),e([n()],_.prototype,\"keepCacheOnDestroy\",void 0),e([n()],_.prototype,\"respectLayerVisibility\",void 0),e([n()],_.prototype,\"layerInfos\",void 0),e([n({readOnly:!0})],_.prototype,\"state\",null),e([n()],_.prototype,\"view\",void 0),_=e([o(\"geoscene.widgets.Legend.LegendViewModel\")],_);const v=_;export{v as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst e=\"geoscene-legend--card\",a=\"geoscene-legend\",r={activated:`${e}__carousel-indicator--activated`,base:e,stacked:`${a}--stacked`,carouselTitle:`${e}__carousel-title`,indicator:`${e}__carousel-indicator`,intervalSeparator:`${e}__interval-separator`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageLabel:`${e}__image-label`,layerCaption:`${e}__layer-caption`,labelElement:`${e}__label-element`,layerRow:`${e}__layer-row`,labelCell:`${e}__label-cell`,message:`${e}__message`,rampLabel:`${e}__ramp-label`,section:`${e}__section`,relationshipSection:`${e}__relationship-section`,serviceCaptionText:`${e}__service-caption-text`,serviceContent:`${e}__service-content`,service:`${e}__service`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,symbol:`${e}__symbol`,sizeRampRow:`${e}__size-ramp-row`,symbolRow:`${e}__symbol-row`,symbolCell:`${e}__symbol-cell`,indicatorContainer:`${e}__carousel-indicator-container`,intervalSeparatorsContainer:`${e}__interval-separators-container`,relationshipLabelContainer:`${e}__relationship-label-container`,labelContainer:`${e}__label-container`,serviceCaptionContainer:`${e}__service-caption-container`,symbolContainer:`${e}__symbol-container`,sizeRampContainer:`${e}__size-ramp-container`,sizeRampPreview:`${e}__size-ramp-preview`,pieChartRampPreview:`${e}__pie-chart-ramp-preview`,rampContainer:`${a}__ramps`,sizeRampHorizontal:`${a}__size-ramp--horizontal`,rampLabelsContainer:`${a}__ramp-labels`,layerInfo:`${a}__layer-cell ${a}__layer-cell--info`,univariateAboveAndBelowColorRamp:\"geoscene-univariate-above-and-below-ramp__color--card\",hidden:\"geoscene-hidden\"};export{r as CSS};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),n=10,r=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"geoscene-univariate-above-and-below-ramp__symbol\",colorRamp:\"geoscene-legend__color-ramp\"};function f(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function p(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${r}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,f.bind(null,t)),o}function m(t,o,i=\"vertical\",l){t.infos.forEach(((t,n)=>{if(l&&2===n)t.preview=p(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=t.preview,n=\"div\"===l?.tagName.toLowerCase(),r=n?l:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,!n&&l&&r.appendChild(l),t.preview=r}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function h(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function v(t,o,i,l=\"vertical\"){let c=0;const f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p;for(let h=m;h<=u;h++)if(i&&h===p)c+=\"horizontal\"===l?n:r;else{c+=e(f[h].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=v(t,o,i,l),f=t.infos,p=Math.floor(f.length/2),m=\"full\"===o||\"above\"===o?0:p,u=\"full\"===o||\"below\"===o?f.length-1:p,h=\"full\"===o?f[m].size+f[u].size:\"above\"===o?f[m].size:f[u].size,y=i?\"vertical\"===l?r:n:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(h)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.find((({type:e})=>\"size-ramp\"===e)),n=i.find((({type:e})=>\"color-ramp\"===e));return l&&(l={...l},l.infos=[...l.infos],m(l,t,o,!0)),n&&(n={...n},n.infos=[...n.infos]),\"horizontal\"===o&&(l?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:l,colorRampElement:n}}function b(e,t=\"vertical\"){const o=e.infos;let i=o.find((({type:e})=>\"size-ramp\"===e)),l=o.find((({type:e})=>\"color-ramp\"===e));return i&&(i={...i},i.infos=[...i.infos],m(i,null,t,!1)),l&&(l={...l},l.infos=[...l.infos]),\"horizontal\"===t&&(i?.infos.reverse(),l?.infos.reverse()),{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,h as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,b as getUnivariateColorSizeRampElements,v as getUnivariateSizeRampSize};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function t(e,t){return t}function n(e){const t=this;e.appendChild(t)}function o(n,o,r){if(!o)return;if(\"string\"==typeof o||\"number\"==typeof o)return o;if(\"value\"in o||\"unit\"in o)return e(n.dotValue,o);if(\"colorName\"in o&&\"bandName\"in o)return n[o.colorName]+\": \"+(n[o.bandName]||o.bandName);if(\"showCount\"in o)return o.showCount?n.clusterCountTitle:void 0;let l=null;return t(o,r)?l=o.ratioPercentTotal?\"showRatioPercentTotal\":o.ratioPercent?\"showRatioPercent\":o.ratio?\"showRatio\":o.normField?\"showNormField\":o.field?\"showField\":null:i(o,r)&&(l=o.normField?\"showNormField\":o.normByPct?\"showNormPct\":o.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":n[l],{field:o.field,normField:o.normField}):void 0}function i(e,t){return!t}function r(e,t){return!!(t&&\"Stretched\"===t&&e.version>=10.3&&\"geoscene.layers.ImageryLayer\"===e.declaredClass)}export{n as attachToNode,o as getTitle,r as isImageryStretchedLegend,i as isRendererTitle};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{watch as t}from\"../../../core/reactiveUtils.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as o}from\"../../../symbols/support/svgUtils.js\";import{getCSSFilterFromEffectList as r}from\"../../../symbols/support/utils.js\";import l from\"../../Widget.js\";import{CSS as n}from\"./CardCSS.js\";import{renderRelationshipRamp as c}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as p,getUnivariateSizeRampSize as d,getUnivariateColorRampSize as m,getUnivariateColorRampPreview as h,getUnivariateColorRampMargin as y,getUnivariateColorSizeRampElements as v}from\"./support/univariateUtils.js\";import{getTitle as f,attachToNode as g,isImageryStretchedLegend as u}from\"../support/styleUtils.js\";import{Heading as b,incrementHeadingLevel as w}from\"../../support/Heading.js\";import{accessibleHandler as _}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as L}from\"../../support/decorators/messageBundle.js\";import{tsx as x}from\"../../support/jsxFactory.js\";import{isRTL as C}from\"../../support/widgetUtils.js\";import{substitute as S}from\"../../../intl/substitute.js\";const R=25,$=25,k=768,z=100;var I;!function(e){e.Auto=\"auto\",e.Stack=\"stack\",e.SideBySide=\"side-by-side\"}(I||(I={}));const N=\"#ddd\",A=window.devicePixelRatio;function j(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.at(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function E(e){if(e){if(e.type.includes(\"3d\")){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.at(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let F=class extends l{constructor(e,t){super(e,t),this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=I.Stack,this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.addHandles(t((()=>this.activeLayerInfos),(e=>{this.removeAllHandles(),this._watchForSectionChanges(e)})))}render(){const{view:e}=this;this._hasIndicators=this.layout===I.Auto&&e&&e.container.clientWidth<=k||this.layout===I.Stack;const t=this.activeLayerInfos,s=t&&t.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const i=this._sectionNames.length,a=this._sectionNames.map(((e,t)=>{const s=S(this.messagesCommon.pagination.pageText,{index:t+1,total:i});return x(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":s,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:s,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(n.indicator,{[n.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),o=this._hasIndicators&&i>1?x(\"div\",{class:n.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},a):null,r=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):s&&s.length?s:null,l={[n.stacked]:this._hasIndicators};return x(\"div\",{class:this.classes(n.base,l)},r||x(\"div\",{class:n.message},this.messages.noLegend),o)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),a=this._sectionNames.indexOf(i),o=this._sectionNames;let r=null;-1!==a&&(o[a+s]?r=document.getElementById(o[a+s]):\"ArrowLeft\"===t?r=document.getElementById(o[o.length-1]):\"ArrowRight\"===t&&(r=document.getElementById(o[0])),r?.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const s=`activeLayerInfo-${e.layer.uid}-version-change`;this.removeHandles(s),this._watchForSectionChanges(e.children),this.addHandles(t((()=>e.version),(()=>this._generateSectionNames())),s)}));const s=\"activeLayerInfos-collection-change\";this.removeHandles(s),this.addHandles(e.on(\"change\",(()=>this._watchForSectionChanges(e))),s)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return x(\"div\",{key:e.layer.uid,class:this.classes(n.service,n.groupLayer)},x(\"div\",{class:n.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const a={[n.groupLayerChild]:!!e.parent};return x(\"div\",{key:e.layer.uid,class:this.classes(n.service,a)},x(\"div\",{class:n.serviceCaptionContainer},x(\"div\",{class:n.serviceCaptionText},e.title)),x(\"div\",{class:n.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,a=!1){const o=\"color-ramp\"===e.type,r=\"opacity-ramp\"===e.type,l=\"size-ramp\"===e.type,p=t.layer;let d=null;if(\"string\"==typeof e.title)d=e.title;else if(e.title){const t=e.title,s=f(this.messages,t,o||r);d=t.title?`${t.title} (${s})`:s}const m=this._getSectionName(p,e,s),h=this._hasIndicators&&!a?x(\"div\",null,x(b,{level:this.headingLevel,class:n.carouselTitle},t.title),x(b,{level:w(this.headingLevel),class:n.layerCaption},d)):d?x(b,{level:this.headingLevel,class:n.layerCaption},d):null,y=t.effectList;let v=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[n.symbolRow],t={[n.labelContainer]:!e&&!i,[n.relationshipLabelContainer]:i};v=x(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?v=this._renderLegendForRamp(e,p.opacity,y):l?v=this._renderSizeRamp(e,p.opacity):\"pie-chart-ramp\"===e.type?v=this._renderPieChartRamp(e):\"relationship-ramp\"===e.type?v=c(e,this.id,{opacity:p.opacity,effectList:y,ariaLabel:this.messages.previewRelationshipRampAriaLabel}):\"univariate-above-and-below-ramp\"===e.type?v=this._renderUnivariateAboveAndBelowRamp(e,p.opacity,y):\"univariate-color-size-ramp\"===e.type&&(v=this._renderUnivariateColorSizeRamp(e,p.opacity,y));if(!v)return null;const g=x(\"div\",{key:m,class:n.section,id:`${m}-panel`,role:\"tabpanel\",\"aria-labelledby\":m,tabIndex:0},[h,v]);return a||this._sectionMap.set(m,g),g}_renderPieChartRamp(e){return x(\"div\",{class:n.pieChartRampPreview,bind:e.preview,afterCreate:g})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=p(e,t,\"horizontal\");if(!i)return null;const o=d(i,\"full\",!0,\"horizontal\"),r=m(i,\"above\",!0,\"horizontal\"),l=m(i,\"below\",!0,\"horizontal\"),c=12,v=this.messages?.previewColorRampAriaLabel,f=h(a,{width:r,height:c,rampAlignment:\"horizontal\",opacity:t,type:\"above\",effectList:s,ariaLabel:v}),u=h(a,{width:l,height:c,rampAlignment:\"horizontal\",opacity:t,type:\"below\",effectList:s,ariaLabel:v}),b=y(i,\"card\"),w=i.infos.map((e=>e.label)),_=w.length-1,L=w.map(((e,t)=>0===t||t===_?x(\"div\",{key:t},e):null)),S={display:\"flex\",flexDirection:\"column\"},R={display:\"flex\",flexDirection:\"row\"},$={marginTop:\"3px\",display:\"flex\"};C(this.container)?$.marginRight=`${b}px`:$.marginLeft=`${b}px`;const k={width:`${o}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return x(\"div\",{class:n.layerRow,key:\"size-ramp-preview\",styles:S},x(\"div\",{class:this.classes(n.symbolContainer,n.sizeRampHorizontal),styles:R},i.infos.map(((e,t)=>x(\"div\",{key:t,class:n.symbol,bind:e.preview,afterCreate:g})))),f?x(\"div\",{class:n.univariateAboveAndBelowColorRamp,styles:$,key:\"color-ramp-preview\"},x(\"div\",{bind:f,afterCreate:g}),x(\"div\",{bind:u,afterCreate:g})):null,x(\"div\",{class:n.layerInfo},x(\"div\",{class:n.rampLabelsContainer,styles:k},L)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:a}=v(e,\"horizontal\");if(!i)return null;const o=d(i,\"full\",!1,\"horizontal\"),r=m(i,\"full\",!1,\"horizontal\"),l=h(a,{width:r,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\",effectList:s,ariaLabel:this.messages?.previewColorRampAriaLabel}),c=y(i,\"card\"),p=i.infos.length-1,f=i.infos.map(((e,t)=>0===t||t===p?x(\"div\",{key:t},e.label):null)),u={display:\"flex\",flexDirection:\"column\"},b={display:\"flex\",flexDirection:\"row\"},w={marginTop:\"3px\",display:\"flex\"};C(this.container)?w.marginRight=`${c}px`:w.marginLeft=`${c}px`;const _={width:`${o}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return x(\"div\",{class:n.layerRow,key:\"size-ramp-preview\",styles:u},x(\"div\",{class:this.classes(n.symbolContainer,n.sizeRampHorizontal),styles:b},i.infos.map(((e,t)=>x(\"div\",{key:t,class:n.symbol,bind:e.preview,afterCreate:g})))),x(\"div\",{class:n.univariateAboveAndBelowColorRamp,styles:w,key:\"color-ramp-preview\"},x(\"div\",{bind:l,afterCreate:g})),x(\"div\",{class:n.layerInfo},x(\"div\",{class:n.rampLabelsContainer,styles:_},f)))}_renderLegendForElementInfo(e,t,s,i){const a=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const o=u(a,s);if(e.preview){if(!e.symbol||!e.symbol.type.includes(\"simple-fill\")){if(!e.label)return x(\"div\",{key:i,bind:e.preview,afterCreate:g});const t={[n.symbolCell]:this._hasIndicators};return x(\"div\",{key:i,class:this.classes(n.layerRow,{[n.symbolRow]:this._hasIndicators})},x(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:g}),x(\"div\",{class:this.classes(n.imageLabel,{[n.labelCell]:this._hasIndicators})},f(this.messages,e.label,!1)||\"\"))}let s=255,o=255,l=255,c=0,p=255,d=255,m=255,h=0;const y=e.symbol.color&&e.symbol.color.a,v=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;y&&(s=e.symbol.color.r,o=e.symbol.color.g,l=e.symbol.color.b,c=e.symbol.color.a*a.opacity),v&&(p=e.symbol.outline.color.r,d=e.symbol.outline.color.g,m=e.symbol.outline.color.b,h=e.symbol.outline.color.a*a.opacity);const u=e.symbol.color?.isBright??!0,b=u?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",w={background:y?`rgba(${s}, ${o}, ${l}, ${c})`:\"none\",color:u?\"black\":\"white\",textShadow:`-1px -1px 0 ${b},\\n                                              1px -1px 0 ${b},\\n                                              -1px 1px 0 ${b},\\n                                              1px 1px 0 ${b}`,border:v?`1px solid rgba(${p}, ${d}, ${m}, ${h})`:\"none\",filter:r(t.effectList)??void 0};return x(\"div\",{key:i,class:n.layerRow},x(\"div\",{class:n.labelElement,styles:w},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,a,o);return x(\"div\",{key:i,class:n.layerRow},t,x(\"div\",{class:n.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:a,opacity:o}=e,r={[n.imageryLayerStretchedImage]:s,[n.symbol]:!s},l={opacity:`${null!=o?o:t.opacity}`};return x(\"img\",{alt:f(this.messages,i,!1),\"aria-label\":f(this.messages,i,!1),src:a,border:0,width:e.width,height:e.height,class:this.classes(r),styles:l})}_renderSizeRampLines(e){const t=e.infos,i=t[0],a=t[t.length-1],o=i.symbol,r=this._hasIndicators,l=s(i.size+i.outlineSize)*A,n=s(a.size+a.outlineSize)*A,c=r?l:l+50*A,p=r?l/2+50*A:l,d=E(o),m=j(o),h=document.createElement(\"canvas\");h.width=c,h.height=p,h.style.width=h.width/A+\"px\",h.style.height=h.height/A+\"px\";const y=h.getContext(\"2d\");if(r){y.beginPath();const e=0,t=0,s=c/2-n/2,i=p;y.moveTo(e,t),y.lineTo(s,i);const a=c,o=0,r=c/2+n/2,l=p;y.moveTo(a,o),y.lineTo(r,l)}else{y.beginPath();const e=0,t=p/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const a=0,o=p/2+n/2,r=c,l=p;y.moveTo(a,o),y.lineTo(r,l)}return y.strokeStyle=N,y.stroke(),x(\"div\",{bind:h,afterCreate:g,styles:r?{display:\"flex\",marginTop:`-${d?0:m?l/2:0}px`,marginBottom:`-${d?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${d?0:m?l/2:0}px`,marginLeft:`-${d?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,a=s[s.length-1].label;let o=s[0].preview,r=s[s.length-1].preview;const l=this._hasIndicators,c={\"flex-direction\":l?\"column\":\"row-reverse\"};o&&(o=o.cloneNode(!0),o.style.display=\"flex\"),r&&(r=r.cloneNode(!0),r.style.display=\"flex\");const p={opacity:null!=t?`${t}`:\"\"};return x(\"div\",{class:this.classes(n.layerRow,{[n.sizeRampRow]:l})},x(\"div\",{class:n.rampLabel},l?i:a),x(\"div\",{class:n.sizeRampContainer,styles:c},x(\"div\",{bind:o,afterCreate:g,class:n.sizeRampPreview,styles:p}),this._renderSizeRampLines(e),x(\"div\",{bind:r,afterCreate:g,class:n.sizeRampContainer,styles:p})),x(\"div\",{class:n.rampLabel},l?a:i))}_renderLegendForRamp(e,t,s){const i=e.infos,a=\"heatmap-ramp\"===e.type,l=i.length-1,c=$,p=l>2&&!a?R*l:z,d=p+20,m=10,h=i.slice(0).reverse();h.forEach(((e,t)=>{e.offset=a?e.ratio:t/l}));const y=h.length-1,v=h.length%2!=0&&h[h.length/2|0],f=v&&x(\"div\",{class:n.intervalSeparatorsContainer},x(\"div\",{class:n.intervalSeparator},\"|\"),x(\"div\",{class:n.rampLabel},v.label)),g=i[i.length-1].label,u=i[0].label,b=[[{shape:{type:\"path\",path:`M0 ${c/2} L${m} 0 L${m} ${c} Z`},fill:h[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:m,y:0,width:p,height:c},fill:{type:\"linear\",x1:m,y1:0,x2:p+m,y2:0,colors:h},stroke:{width:0}},{shape:{type:\"path\",path:`M${p+m} 0 L${d} ${c/2} L${p+m} ${c} Z`},fill:h[y].color,stroke:{width:0}}]],w=o(b,d,c),{messages:_}=this,L={filter:r(s)??void 0,opacity:null==t?void 0:`${t}`},C={justifyContent:\"center\"};return x(\"div\",{class:n.layerRow,styles:C},x(\"div\",{class:n.rampLabel},a?_[g]:g),x(\"div\",{class:n.symbolContainer},x(\"div\",{styles:L},w),f),x(\"div\",{class:n.rampLabel},a?_[u]:u))}};e([i()],F.prototype,\"activeLayerInfos\",void 0),e([i()],F.prototype,\"headingLevel\",void 0),e([i()],F.prototype,\"layout\",void 0),e([i(),L(\"geoscene/widgets/Legend/t9n/Legend\")],F.prototype,\"messages\",void 0),e([i(),L(\"geoscene/t9n/common\")],F.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],F.prototype,\"type\",void 0),e([i()],F.prototype,\"view\",void 0),e([_()],F.prototype,\"_selectSection\",null),F=e([a(\"geoscene.widgets.Legend.styles.Card\")],F);const T=F;export{T as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst e=\"geoscene-legend\",a={service:`${e}__service`,label:`${e}__service-label`,layer:`${e}__layer`,groupLayer:`${e}__group-layer`,groupLayerChild:`${e}__group-layer-child`,layerTable:`${e}__layer-table`,layerTableSizeRamp:`${e}__layer-table--size-ramp`,layerChildTable:`${e}__layer-child-table`,layerCaption:`${e}__layer-caption`,layerBody:`${e}__layer-body`,layerRow:`${e}__layer-row`,layerCell:`${e}__layer-cell`,layerInfo:`${e}__layer-cell ${e}__layer-cell--info`,imageryLayerStretchedImage:`${e}__imagery-layer-image--stretched`,imageryLayerCellStretched:`${e}__imagery-layer-cell--stretched`,imageryLayerInfoStretched:`${e}__imagery-layer-info--stretched`,symbolContainer:`${e}__layer-cell geoscene-legend__layer-cell--symbols`,symbol:`${e}__symbol`,rampContainer:`${e}__ramps`,sizeRamp:`${e}__size-ramp`,colorRamp:`${e}__color-ramp`,opacityRamp:`${e}__opacity-ramp`,borderlessRamp:`${e}__borderless-ramp`,rampTick:`${e}__ramp-tick`,rampFirstTick:`${e}__ramp-tick-first`,rampLastTick:`${e}__ramp-tick-last`,rampLabelsContainer:`${e}__ramp-labels`,rampLabel:`${e}__ramp-label`,univariateAboveAndBelowSymbol:\"geoscene-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"geoscene-univariate-above-and-below-ramp__label\",message:`${e}__message`,header:\"geoscene-widget__heading\",hidden:\"geoscene-hidden\"};export{a as CSS,e as LEGEND};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{CSS as r,LEGEND as i}from\"./ClassicCSS.js\";import{renderRelationshipRamp as l}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as o,getUnivariateColorRampSize as n,getUnivariateColorRampPreview as p,getUnivariateColorRampMargin as d,getUnivariateColorSizeRampElements as c}from\"./support/univariateUtils.js\";import{getTitle as m,isRendererTitle as y,attachToNode as v,isImageryStretchedLegend as h}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as u}from\"../../support/decorators/messageBundle.js\";import{tsx as b}from\"../../support/jsxFactory.js\";import{formatNumber as f}from\"../../../intl/number.js\";const L=`${i}__`,w=24,C={display:\"flex\",alignItems:\"flex-start\"},R={marginLeft:\"3px\"},_={display:\"table-cell\",verticalAlign:\"middle\"};let A=class extends a{constructor(e,s){super(e,s),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,s=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return b(\"div\",null,s&&s.length?s:b(\"div\",{class:r.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const s=!!e.children.length,t=`${L}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(r.header,r.label)},e.title):null;if(s){const s=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return b(\"div\",{key:t,class:this.classes(r.service,r.groupLayer)},a,s)}{const s=e.legendElements;if(s&&!s.length)return null;const i=s.map((s=>this._renderLegendForElement(s,e.layer,e.effectList))).filter((e=>!!e));if(!i.length)return null;const l={[r.groupLayerChild]:!!e.parent};return b(\"div\",{key:t,class:this.classes(r.service,l),tabIndex:0},a,b(\"div\",{class:r.layer},i))}}_renderLegendForElement(e,s,t,a){const i=\"color-ramp\"===e.type,o=\"opacity-ramp\"===e.type,n=\"size-ramp\"===e.type;let p=null;if(\"symbol-table\"===e.type||n){const a=e.infos.map((a=>this._renderLegendForElementInfo(a,s,t,n,e.legendType))).filter((e=>!!e));a.length&&(p=b(\"div\",{class:r.layerBody},a))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?p=this._renderLegendForRamp(e,s.opacity):\"relationship-ramp\"===e.type?p=l(e,this.id,{opacity:s.opacity,effectList:t,ariaLabel:this.messages.previewRelationshipRampAriaLabel}):\"pie-chart-ramp\"===e.type?p=this._renderPieChartRamp(e):\"univariate-above-and-below-ramp\"===e.type?p=this._renderUnivariateAboveAndBelowRamp(e,s.opacity,t):\"univariate-color-size-ramp\"===e.type&&(p=this._renderUnivariateColorSizeRamp(e,s.opacity,t));if(!p)return null;const d=e.title;let c=null;if(\"string\"==typeof d)c=d;else if(d){const e=m(this.messages,d,i||o);c=y(d,i||o)&&d.title?`${d.title} (${e})`:e}const v=a?r.layerChildTable:r.layerTable,h=c?b(\"div\",{class:r.layerCaption},c):null,g={[r.layerTableSizeRamp]:n||!a};return b(\"div\",{class:this.classes(v,g)},h,p)}_renderPieChartRamp(e){return b(\"div\",{bind:e.preview,afterCreate:v})}_renderUnivariateAboveAndBelowRamp(e,s,t){const{sizeRampElement:a,colorRampElement:i}=o(e,s);if(!a)return null;const l=this.messages?.previewColorRampAriaLabel,c=n(a,\"above\",!0),m=n(a,\"below\",!0),y=12,h=p(i,{width:y,height:c,rampAlignment:\"vertical\",opacity:s,type:\"above\",effectList:t,ariaLabel:l}),g=p(i,{width:y,height:m,rampAlignment:\"vertical\",opacity:s,type:\"below\",effectList:t,ariaLabel:l}),u=d(a),f=a.infos.map((e=>e.label)),L=f.map(((e,s)=>{const t=2===s;return 0===s?b(\"div\",{key:s,class:e?h?r.univariateAboveAndBelowLabel:r.rampLabel:void 0},e):t?b(\"div\",null):null})),w=f.length-1,A=Math.floor(f.length/2),j=f.map(((e,s)=>s===A||s===w?b(\"div\",{key:s,class:e?h?r.univariateAboveAndBelowLabel:r.rampLabel:void 0},e):null)),S={display:\"table-cell\",verticalAlign:\"middle\"},I={marginTop:`${u}px`},$={height:`${c}px`},x={height:`${m}px`};return b(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:C},b(\"div\",{class:r.layerBody},a.infos.map(((e,s)=>b(\"div\",{class:this.classes(r.layerRow,r.sizeRamp)},b(\"div\",{class:r.symbol,styles:S,bind:e.preview,afterCreate:v}),h||s%2!=0?null:b(\"div\",{class:r.layerInfo},f[s]))))),h?b(\"div\",{styles:I,key:\"color-ramp-preview\"},b(\"div\",{styles:R},b(\"div\",{styles:_},b(\"div\",{class:r.rampContainer,bind:h,afterCreate:v})),b(\"div\",{styles:_},b(\"div\",{class:r.rampLabelsContainer,styles:$},L))),b(\"div\",{styles:R},b(\"div\",{styles:_},b(\"div\",{class:r.rampContainer,bind:g,afterCreate:v})),b(\"div\",{styles:_},b(\"div\",{class:r.rampLabelsContainer,styles:x},j)))):null)}_renderUnivariateColorSizeRamp(e,s,t){const{sizeRampElement:a,colorRampElement:i}=c(e);if(!a)return null;const l=d(a),o=12,m=n(a,\"full\",!1),y=p(i,{width:o,height:m,rampAlignment:\"vertical\",opacity:s,type:\"full\",effectList:t,ariaLabel:this.messages?.previewColorRampAriaLabel}),h=a.infos.length-1,g=a.infos.map(((e,s)=>0===s||s===h?b(\"div\",{key:s,class:e.label?i?r.univariateAboveAndBelowLabel:r.rampLabel:void 0},e.label):null)),u={display:\"table-cell\",verticalAlign:\"middle\"},f={marginTop:`${l}px`},L={height:`${m}px`};return b(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:C},b(\"div\",{class:r.layerBody},a.infos.map((e=>b(\"div\",{class:this.classes(r.layerRow,r.sizeRamp)},b(\"div\",{class:r.symbol,styles:u,bind:e.preview,afterCreate:v}))))),b(\"div\",{styles:f,key:\"color-ramp-preview\"},b(\"div\",{styles:R},b(\"div\",{styles:_},b(\"div\",{class:r.rampContainer,bind:y,afterCreate:v})),b(\"div\",{styles:_},b(\"div\",{class:r.rampLabelsContainer,styles:L},g)))))}_renderLegendForRamp(e,s){const t=e.infos,a=\"opacity-ramp\"===e.type,i=\"heatmap-ramp\"===e.type,l=\"stretch-ramp\"===e.type,o=e.preview,n=a?r.opacityRamp:\"\";o.className=`${r.colorRamp} ${n}`,null!=s&&(o.style.opacity=s.toString());const p=t.map((e=>b(\"div\",{class:e.label?r.rampLabel:void 0},i?this.messages[e.label]||e.label:l?this._getStretchStopLabel(e):e.label))),d={width:`${w}px`},c={height:o.style.height};return b(\"div\",{class:r.layerRow},b(\"div\",{class:r.symbolContainer,styles:d},b(\"div\",{class:r.rampContainer,bind:o,afterCreate:v})),b(\"div\",{class:r.layerInfo},b(\"div\",{class:r.rampLabelsContainer,styles:c},p)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:f(e.value,{style:\"decimal\",notation:e.value.toString().includes(\"e\")?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,s,t,a,i){if(e.type)return this._renderLegendForElement(e,s,t,!0);let l=null;const o=h(s,i);if(e.preview?l=b(\"div\",{class:r.symbol,bind:e.preview,afterCreate:v}):e.src&&(l=this._renderImage(e,s,o)),!l)return null;const n={[r.imageryLayerInfoStretched]:o},p={[r.imageryLayerInfoStretched]:o,[r.sizeRamp]:!o&&a};return b(\"div\",{class:r.layerRow},b(\"div\",{class:this.classes(r.symbolContainer,p)},l),b(\"div\",{class:this.classes(r.layerInfo,n)},m(this.messages,e.label,!1)||\"\"))}_renderImage(e,s,t){const{label:a,src:i,opacity:l}=e,o={[r.imageryLayerStretchedImage]:t,[r.symbol]:!t},n={opacity:`${null!=l?l:s.opacity}`};return b(\"img\",{alt:m(this.messages,a,!1),\"aria-label\":m(this.messages,a,!1),src:i,border:0,width:e.width,height:e.height,class:this.classes(o),styles:n})}};e([s()],A.prototype,\"activeLayerInfos\",void 0),e([s()],A.prototype,\"headingLevel\",void 0),e([s(),u(\"geoscene/widgets/Legend/t9n/Legend\")],A.prototype,\"messages\",void 0),e([s({readOnly:!0})],A.prototype,\"type\",void 0),A=e([t(\"geoscene.widgets.Legend.styles.Classic\")],A);const j=A;export{j as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{on as t,watch as s,initial as i}from\"../core/reactiveUtils.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import{cast as o}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"./Widget.js\";import l from\"./Legend/LegendViewModel.js\";import d from\"./Legend/styles/Card.js\";import p from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as c}from\"./support/decorators/messageBundle.js\";import{tsx as h}from\"./support/jsxFactory.js\";const y={base:\"geoscene-legend\",widget:\"geoscene-widget\",panel:\"geoscene-widget--panel\",widgetIcon:\"geoscene-icon-layer-list\"};let g=class extends a{constructor(e,t){super(e,t),this.headingLevel=3,this.iconClass=y.widgetIcon,this.icon=null,this.messages=null,this.style=new p,this.viewModel=new l}initialize(){this.addHandles([t((()=>this.view),\"resize\",(()=>this.scheduleRender())),t((()=>this.activeLayerInfos),\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),s((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),s((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),i)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof d||e instanceof p)return e;if(\"string\"==typeof e)return\"card\"===e?new d:new p;if(e&&\"string\"==typeof e.type){const t={...e};delete t.type;return new(\"card\"===e.type?d:p)(t)}return new p}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return h(\"div\",{class:this.classes(y.base,y.widget,this.style instanceof p?y.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach((e=>{this.removeHandles(`version_${e.layer.uid}`),this._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const r=s((()=>e.version),(()=>this.scheduleRender()));this.addHandles(r,`version_${e.layer.uid}`);const o=t((()=>e.children),\"change\",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),i);this.addHandles(o,`version_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([r()],g.prototype,\"activeLayerInfos\",null),e([r()],g.prototype,\"basemapLegendVisible\",null),e([r()],g.prototype,\"groundLegendVisible\",null),e([r()],g.prototype,\"headingLevel\",void 0),e([r()],g.prototype,\"hideLayersNotInCurrentView\",null),e([r()],g.prototype,\"keepCacheOnDestroy\",null),e([r()],g.prototype,\"respectLayerVisibility\",null),e([r()],g.prototype,\"iconClass\",void 0),e([r()],g.prototype,\"icon\",void 0),e([r()],g.prototype,\"label\",null),e([r()],g.prototype,\"layerInfos\",null),e([r(),c(\"geoscene/widgets/Legend/t9n/Legend\")],g.prototype,\"messages\",void 0),e([r()],g.prototype,\"style\",void 0),e([o(\"style\")],g.prototype,\"castStyle\",null),e([r()],g.prototype,\"view\",null),e([r()],g.prototype,\"viewModel\",void 0),g=e([n(\"geoscene.widgets.Legend\")],g);const v=g;export{v as default};"],"names":["l","a","e","constructor","t","super","this","_from","_to","_final","_current","_time","duration","has","effects","effect","_get","_set","_transitionTo","h","r","getLogger","warn","error","hasEffects","transitioning","length","scale","_updateForScale","canTransitionTo","u","transitionStep","_applyTimeTransition","endTransitions","s","_","Math","min","i","p","n","c","o","interpolate","m","f","push","prototype","value","readOnly","y","visible","definitionExpression","labelingInfo","labelsVisible","opacity","minScale","maxScale","renderer","source","floors","destroy","layer","dynamicLayers","hasDynamicLayers","visibleSublayers","map","toExportImageJSON","JSON","stringify","serviceSublayers","gdbVersion","handles","remove","add","allSublayers","on","notifyChange","propertyName","layers","id","join","layerDefs","filter","floorInfo","reduce","version","commitProperty","sublayers","forEach","unshift","some","toJSON","dpi","format","imageFormat","transparent","imageTransparency","type","Number","floorField","view","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","unknown","c64","c128","depthCount","pixels","statistics","pixelType","bandMasks","mask","Uint8Array","fill","b","d","minValue","maxValue","EPSILON","N","M","A","customFloatTolerance","abs","updateStatistics","flatten","originIdOf","mapLayerId","SERVICE","slice","reverse","toArray","layerDefinition","featuresTilingScheme","getClosestInfoForScale","level","levels","visualVariables","find","field","minSize","size","minDataValue","maxSize","maxDataValue","w","g","S","declaredClass","v","z","j","V","async","k","legendOptions","customValues","U","stops","target","D","authoringInfo","C","univariateTheme","label","E","I","x","T","Promise","all","B","symbol","P","L","outlineSize","classBreakInfos","clone","includes","color","outline","width","uniqueValueInfos","symbolLayers","material","resource","href","toHex","getSizeRangeAtScale","q","fractional","integer","floor","ceil","indexes","previous","getSize","shape","style","height","font","log10","notation","minimumSignificantDigits","maximumSignificantDigits","ie","ne","ae","oe","ue","ce","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","de","te","ye","se","he","me","pe","fe","ge","be","Se","_e","Le","we","Ee","Ce","Ie","ve","Re","Fe","Ve","R","Te","ze","xe","je","De","Oe","Ae","Pe","Me","Be","Ue","ke","Ne","qe","He","le","re","$e","path","We","Ge","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","initialize","addHandles","added","removed","uid","ready","removeHandles","effectList","_getParentLayerOpacity","_isGroupActive","isScaleDriven","Array","isArray","featureReduction","_isRendererScaleDriven","_isLayerScaleDriven","buildLegendElementsForFeatureCollections","_isLayerInCurrentView","from","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","then","buildLegendElementsForRenderer","buildLegendElementsForFeatureReduction","_getLegendElementsForFeatureReduction","buildLegendElementsForTools","_constructLegendElementsForVoxellayer","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","rasterFunction","functionName","bandIds","_getLegendLayers","default","_generateSymbolTableElementForLegendLayer","infos","catch","updating","createQuery","geometry","extent","queryFeatureCount","valueExpression","test","_isScaleDrivenSizeVariable","expression","loaded","sourceJSON","currentVariableId","getVariableStyles","getVariableStyle","uniqueValues","enabled","transferFunction","colorStops","stretchRange","J","Q","ee","preview","ariaLabel","_getAllInfos","_getSymbolPreview","activeLayer","styleId","styles","legendUrl","src","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","String","responseType","data","resolve","_legendRequest","exportImageServiceParameters","renderingRule","functionDefinition","raster","viewId","url","replace","indexOf","substring","toLowerCase","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerForSubtypeCode","findSublayerById","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","get","subLayerIds","defaultVisibility","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","max","values","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_loadRenderer","_constructPieChartRendererLegendElements","_constructRendererLegendElements","_getClusterRenderer","_getPointCloudRendererTitle","colorClassBreakInfos","_getAppliedCloneSymbol","colorUniqueValueInfos","symbolConfig","applyColorModulation","colorModulation","_getElementInfoForDotDensity","valueExpressionTitle","backgroundColor","dotSize","stroke","offset","effectView","calculateDotValue","unit","round","attributes","othersCategory","threshold","defaultColor","defaultLabel","_getVisualVariableLegendElements","Boolean","holePercentage","backgroundFillSymbol","Set","K","findIndex","numClasses","field1","field2","focus","normalizationField","_getFieldAlias","normField","angle","H","field3","fieldDelimiter","defaultSymbol","uniqueValueGroups","classes","value2","value3","_getDomainName","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","_constructTileImageryStretchRendererElements","X","serviceRasterInfo","generateRasterInfo","keyProperties","BandProperties","bandCount","_getStretchLegendElements","_getServerSideLegend","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","_getClusterSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","isDefault","applyScaleDrivenSize","isTall","isSquareFill","setTimeout","concat","rasterInfo","hasStandardTime","getStandardTimeValue","keys","colorRamp","isAutoGenerated","_getSizeLegendElement","_getClusterTitle","$","Y","colorName","bandName","Z","W","G","axis","O","_effectiveRenderer","clusterMinSize","clusterMaxSize","F","showLegend","_fetchSymbol","apply","_applySymbolToRenderer","Error","fetchCIMSymbol","cache","fetchSymbol","toRgba","_applyColorTo3dSymbol","at","_getRampTitle","getField","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratio","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","fields","alias","dependsOn","Je","state","allLayerViews","legendProperties","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","_allLayerViewsChangeHandle","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","sort","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","hasHandles","_titleHandle","_constructLegendElements","stationary","_scaleHandle","_legendEnabledHandle","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","activated","base","stacked","carouselTitle","indicator","intervalSeparator","imageryLayerStretchedImage","imageLabel","layerCaption","labelElement","layerRow","labelCell","message","rampLabel","section","relationshipSection","serviceCaptionText","serviceContent","service","groupLayer","groupLayerChild","sizeRampRow","symbolRow","symbolCell","indicatorContainer","intervalSeparatorsContainer","relationshipLabelContainer","labelContainer","serviceCaptionContainer","symbolContainer","sizeRampContainer","sizeRampPreview","pieChartRampPreview","rampContainer","sizeRampHorizontal","rampLabelsContainer","layerInfo","univariateAboveAndBelowColorRamp","hidden","univariateAboveAndBelowSymbol","x1","y1","x2","y2","document","createElement","className","toString","append","bind","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","Auto","Stack","SideBySide","window","devicePixelRatio","primitive","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","removeAllHandles","_watchForSectionChanges","render","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","class","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderPieChartRamp","previewRelationshipRampAriaLabel","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","afterCreate","previewColorRampAriaLabel","display","flexDirection","marginTop","marginRight","marginLeft","justifyContent","isBright","background","textShadow","border","_renderImage","alt","_renderSizeRampLines","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","cloneNode","colors","layerTable","layerTableSizeRamp","layerChildTable","layerBody","layerCell","imageryLayerCellStretched","imageryLayerInfoStretched","sizeRamp","opacityRamp","borderlessRamp","rampTick","rampFirstTick","rampLastTick","univariateAboveAndBelowLabel","header","alignItems","verticalAlign","_getStretchStopLabel","widget","panel","widgetIcon","iconClass","icon","viewModel","scheduleRender","_refreshActiveLayerInfos","widgetLabel","_overrideIfSome","castStyle","_renderOnActiveLayerInfoChange"],"sourceRoot":""}