"use strict";(self["webpackChunksun_glare_project"]=self["webpackChunksun_glare_project"]||[]).push([[5762],{34350:function(t,n,r){r.d(n,{c:function(){return d},g:function(){return f},i:function(){return P},j:function(){return S},k:function(){return F},m:function(){return p},r:function(){return L},s:function(){return l}});var e=r(37072),o=r(71784),i=r(456),a=r(4276),u=r(67886),c=r(22095);function s(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function l(t,n,r){r*=.5;const e=Math.sin(r);return t[0]=e*n[0],t[1]=e*n[1],t[2]=e*n[2],t[3]=Math.cos(r),t}function f(t,n){const r=2*Math.acos(n[3]),e=Math.sin(r/2);return e>(0,a.g)()?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),r}function p(t,n,r){const e=n[0],o=n[1],i=n[2],a=n[3],u=r[0],c=r[1],s=r[2],l=r[3];return t[0]=e*l+a*u+o*s-i*c,t[1]=o*l+a*c+i*u-e*s,t[2]=i*l+a*s+e*c-o*u,t[3]=a*l-e*u-o*c-i*s,t}function g(t,n,r){r*=.5;const e=n[0],o=n[1],i=n[2],a=n[3],u=Math.sin(r),c=Math.cos(r);return t[0]=e*c+a*u,t[1]=o*c+i*u,t[2]=i*c-o*u,t[3]=a*c-e*u,t}function h(t,n,r){r*=.5;const e=n[0],o=n[1],i=n[2],a=n[3],u=Math.sin(r),c=Math.cos(r);return t[0]=e*c-i*u,t[1]=o*c+a*u,t[2]=i*c+e*u,t[3]=a*c-o*u,t}function y(t,n,r){r*=.5;const e=n[0],o=n[1],i=n[2],a=n[3],u=Math.sin(r),c=Math.cos(r);return t[0]=e*c+o*u,t[1]=o*c-e*u,t[2]=i*c+a*u,t[3]=a*c-i*u,t}function M(t,n){const r=n[0],e=n[1],o=n[2];return t[0]=r,t[1]=e,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-e*e-o*o)),t}function m(t,n,r,e){const o=n[0],i=n[1],u=n[2],c=n[3];let s,l,f,p,g,h=r[0],y=r[1],M=r[2],m=r[3];return l=o*h+i*y+u*M+c*m,l<0&&(l=-l,h=-h,y=-y,M=-M,m=-m),1-l>(0,a.g)()?(s=Math.acos(l),f=Math.sin(s),p=Math.sin((1-e)*s)/f,g=Math.sin(e*s)/f):(p=1-e,g=e),t[0]=p*o+g*h,t[1]=p*i+g*y,t[2]=p*u+g*M,t[3]=p*c+g*m,t}function A(t){const n=a.R,r=n(),e=n(),o=n(),i=Math.sqrt(1-r),u=Math.sqrt(r);return t[0]=i*Math.sin(2*Math.PI*e),t[1]=i*Math.cos(2*Math.PI*e),t[2]=u*Math.sin(2*Math.PI*o),t[3]=u*Math.cos(2*Math.PI*o),t}function P(t,n){const r=n[0],e=n[1],o=n[2],i=n[3],a=r*r+e*e+o*o+i*i,u=a?1/a:0;return t[0]=-r*u,t[1]=-e*u,t[2]=-o*u,t[3]=i*u,t}function d(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function x(t,n){const r=n[0]+n[4]+n[8];let e;if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);const o=(r+1)%3,i=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*i+i]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*o+i]-n[3*i+o])*e,t[o]=(n[3*o+r]+n[3*r+o])*e,t[i]=(n[3*i+r]+n[3*r+i])*e}return t}function F(t,n,r,e){const o=.5*Math.PI/180;n*=o,r*=o,e*=o;const i=Math.sin(n),a=Math.cos(n),u=Math.sin(r),c=Math.cos(r),s=Math.sin(e),l=Math.cos(e);return t[0]=i*c*l-a*u*s,t[1]=a*u*l+i*c*s,t[2]=a*c*s-i*u*l,t[3]=a*c*l+i*u*s,t}function v(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const _=c.c,w=c.s,T=c.a,R=p,b=c.b,O=c.d,C=c.l,j=c.e,q=j,I=c.f,E=I,X=c.n,S=c.g,Z=c.h;function L(t,n,r){const e=(0,u.e)(n,r);return e<-.999999?((0,u.f)(N,k,n),(0,u.u)(N)<1e-6&&(0,u.f)(N,$,n),(0,u.n)(N,N),l(t,N,Math.PI),t):e>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,u.f)(N,n,r),t[0]=N[0],t[1]=N[1],t[2]=N[2],t[3]=1+e,X(t,t))}const N=(0,i.c)(),k=(0,i.f)(1,0,0),$=(0,i.f)(0,1,0);function z(t,n,r,e,o,i){return m(U,n,o,i),m(B,r,e,i),m(t,U,B,2*i*(1-i)),t}const U=(0,o.a)(),B=(0,o.a)();function K(t,n,r,e){const o=V;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=e[0],o[4]=e[1],o[7]=e[2],o[2]=-n[0],o[5]=-n[1],o[8]=-n[2],X(t,x(t,o))}const V=(0,e.c)();Object.freeze(Object.defineProperty({__proto__:null,add:T,calculateW:M,conjugate:d,copy:_,dot:O,equals:Z,exactEquals:S,fromEuler:F,fromMat3:x,getAxisAngle:f,identity:s,invert:P,len:q,length:j,lerp:C,mul:R,multiply:p,normalize:X,random:A,rotateX:g,rotateY:h,rotateZ:y,rotationTo:L,scale:b,set:w,setAxes:K,setAxisAngle:l,slerp:m,sqlerp:z,sqrLen:E,squaredLength:I,str:v},Symbol.toStringTag,{value:"Module"}))},44240:function(t,n,r){r.d(n,{lO:function(){return s}});var e=r(48585),o=r(12790),i=r(72465);const a=new o.A(e.fv),u=new o.A(e.FY),c=new o.A(e.LJ);new o.A(e.Ro);function s(t){return t&&((0,i.q8)(t)||(0,i.aI)(t,u))?u:t&&((0,i.KQ)(t)||(0,i.aI)(t,c))?c:a}},528:function(t,n,r){r.d(n,{A:function(){return m}});var e,o=r(71457),i=r(28920),a=r(76543),u=(r(37679),r(69292),r(51020),r(29916)),c=r(90183),s=r(26671),l=r(34350),f=r(71784),p=r(67886),g=r(456),h=r(12958);let y=e=class extends i.oY{constructor(t){super(t),this.translation=(0,g.c)(),this.rotationAxis=(0,g.g)(h.UP),this.rotationAngle=0,this.scale=(0,g.f)(1,1,1)}get rotation(){return(0,h.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,g.a)((0,h.yo)(t)),this.rotationAngle=(0,h.g7)(t)}get localMatrix(){const t=(0,s.c)();return(0,l.s)(M,(0,h.yo)(this.rotation),(0,h.$I)(this.rotation)),(0,c.g)(t,M,this.translation,this.scale),t}get localMatrixInverse(){return(0,c.a)((0,s.c)(),this.localMatrix)}applyLocal(t,n){return(0,p.m)(n,t,this.localMatrix)}applyLocalInverse(t,n){return(0,p.m)(n,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,c.h)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,g.a)(this.translation),rotationAxis:(0,g.a)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,g.a)(this.scale)};return new e(t)}};(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"translation",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"rotationAxis",void 0),(0,o._)([(0,a.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],y.prototype,"rotationAngle",void 0),(0,o._)([(0,a.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"scale",void 0),(0,o._)([(0,a.MZ)()],y.prototype,"rotation",null),(0,o._)([(0,a.MZ)()],y.prototype,"localMatrix",null),(0,o._)([(0,a.MZ)()],y.prototype,"localMatrixInverse",null),y=e=(0,o._)([(0,u.$)("geoscene.geometry.support.MeshTransform")],y);const M=(0,f.a)(),m=y},12958:function(t,n,r){r.d(n,{$I:function(){return h},AU:function(){return f},UP:function(){return M},Zz:function(){return l},g7:function(){return g},i4:function(){return s},vt:function(){return c},yo:function(){return p}});var e=r(26011),o=r(34350),i=r(71784),a=r(67886),u=r(456);function c(t=M){return[t[0],t[1],t[2],t[3]]}function s(t,n,r=c()){return(0,a.c)(p(r),t),r[3]=n,r}function l(t,n,r=c()){return(0,o.s)(m,p(t),h(t)),(0,o.s)(A,p(n),h(n)),(0,o.m)(m,A,m),y(r,(0,e.KJ)((0,o.g)(p(r),m)))}function f(t,n,r,e=c()){return s(u.d,t,P),s(u.e,n,d),s(u.U,r,x),l(P,d,P),l(P,x,e),e}function p(t){return t}function g(t){return t[3]}function h(t){return(0,e.kU)(t[3])}function y(t,n){return t[3]=n,t}const M=[0,0,1,0],m=(0,i.a)(),A=(0,i.a)(),P=(c(),c()),d=c(),x=c()},29174:function(t,n,r){r.d(n,{D:function(){return o},O:function(){return i}});var e=r(15114);function o(t,n){return t.isGeographic||t.isWebMercator&&(n?.geographic??!0)}function i(t,n,r){const o=!t.isGeoreferenced;null!=r?.geographic&&r.geographic!==o&&e.A.getLogger(n).warnOnce(`Specifying the 'geographic' parameter (${r.geographic}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`)}},55762:function(t,n,r){r.d(n,{$y:function(){return d},YL:function(){return v},bA:function(){return x},h7:function(){return _},project:function(){return w},qD:function(){return F}});r(16573),r(78100),r(77936),r(37467),r(44732),r(79577);var e=r(79075),o=r(37072),i=r(90183),a=r(26671),u=r(67886),c=r(456),s=r(13030),l=r(39582),f=r(44240),p=r(35337),g=r(24580),h=r(90700),y=r(38943),M=r(528),m=r(9030),A=r(29174),P=r(25977);function d(t,n,r){return(0,A.D)(n.spatialReference,r)?R(t,n,r):T(t,n,r)}function x(t,n,r,e){const{position:o,normal:i,tangent:u}=t;if(!n.isRelative)return{position:o,normal:i,tangent:u};const c=r?.localMatrix??a.I;return d({position:(0,m.t)(new Float64Array(o.length),o,c),normal:null!=i?(0,P.qs)(i,new Float32Array(i.length),c):null,tangent:null!=u?(0,P.KM)(u,new Float32Array(u.length),c):null},n.getOriginPoint(e),{geographic:!n.isGeoreferenced})}function F(t,n,r){if(r?.useTransform){const{position:e,normal:o,tangent:i}=t,{x:a,y:u,z:s}=n,l=(0,c.f)(a,u,s??0);return{vertexAttributes:{position:e,normal:o,tangent:i},vertexSpace:r.geographic??1?new y.A({origin:l}):new g.A({origin:l}),transform:new M.A}}return{vertexAttributes:d(t,n,r),vertexSpace:new h.A,transform:null}}function v(t,n,r){return(0,A.D)(n.spatialReference,r)?q(t,n,r):j(t,n,r)}function _(t,n,r,e,o){if(!n.isRelative)return v(t,e,o);const{spatialReference:i}=e,a=x(t,n,r,i);return e.equals(n.getOriginPoint(i))?j(a,e,o):v(a,e,o)}function w({positions:t,transform:n,vertexSpace:r,inSpatialReference:e,outSpatialReference:o,outPositions:s,local:g}){const h=r.isRelative?r.origin:c.Z,y=r.isRelative?n?.localMatrix??a.I:a.I;if(r.isGeoreferenced){const n=s??(0,p.jh)(t.length);if((0,i.j)(y,a.I)?(0,p.s)(n,t):(0,m.t)(n,t,y),!(0,u.k)(h,c.Z)){const[t,r,e]=h;for(let o=0;o<n.length;o+=3)n[o]+=t,n[o+1]+=r,n[o+2]+=e}return(0,l.projectBuffer)(n,e,0,n,o,0,n.length/3),n}const M=(0,f.lO)(e),A=!g&&(0,l._q)(e,M)?M:e;(0,l.l)(e,h,L,A),(0,i.m)(L,L,y);const P=s??(0,p.jh)(t.length);return(0,m.t)(P,t,L),(0,l.projectBuffer)(P,A,0,P,o,0,P.length/3),P}function T(t,n,r){const e=new Float64Array(t.position.length),o=t.position,i=n.x,a=n.y,u=n.z??0,c=Z(r?r.unit:null,n.spatialReference);for(let s=0;s<o.length;s+=3)e[s]=o[s]*c+i,e[s+1]=o[s+1]*c+a,e[s+2]=o[s+2]*c+u;return{position:e,normal:t.normal,tangent:t.tangent}}function R(t,n,r){const e=n.spatialReference,o=I(n,r,L),i=new Float64Array(t.position.length),a=b(t.position,o,e,i),u=(0,s.b)(k,o);return{position:a,normal:O(a,i,t.normal,u,e),tangent:C(a,i,t.tangent,u,e)}}function b(t,n,r,e){(0,m.t)(e,t,n);const o=new Float64Array(t.length);return(0,P.$5)(e,o,r)}function O(t,n,r,e,o){if(null==r)return null;const i=new Float32Array(r.length);return(0,m.a)(i,r,e),(0,P.si)(i,t,n,o,i),i}function C(t,n,r,e,o){if(null==r)return null;const i=new Float32Array(r.length);(0,m.a)(i,r,e,4);for(let a=3;a<i.length;a+=4)i[a]=r[a];return(0,P.Mv)(i,t,n,o,i),i}function j(t,n,r){const e=new Float64Array(t.position.length),o=t.position,i=n.x,a=n.y,u=n.z??0,c=Z(r?r.unit:null,n.spatialReference);for(let s=0;s<o.length;s+=3)e[s]=(o[s]-i)/c,e[s+1]=(o[s+1]-a)/c,e[s+2]=(o[s+2]-u)/c;return{position:e,normal:t.normal,tangent:t.tangent}}function q(t,n,r){const e=n.spatialReference;I(n,r,L);const o=(0,i.a)(N,L),a=new Float64Array(t.position.length),u=E(t.position,e,o,a),c=(0,s.b)(k,o);return{position:u,normal:X(t.normal,t.position,a,e,c),tangent:S(t.tangent,t.position,a,e,c)}}function I(t,n,r){(0,l.l)(t.spatialReference,[t.x,t.y,t.z??0],r,(0,f.lO)(t.spatialReference));const e=Z(n?n.unit:null,t.spatialReference);return(0,i.k)(r,r,[e,e,e]),r}function E(t,n,r,e){const o=(0,P.gr)(t,n,e),i=new Float64Array(o.length);return(0,m.t)(i,o,r),i}function X(t,n,r,e,o){if(null==t)return null;const i=(0,P.X4)(t,n,r,e,new Float32Array(t.length));return(0,m.a)(i,i,o),i}function S(t,n,r,e,o){if(null==t)return null;const i=(0,P.xA)(t,n,r,e,new Float32Array(t.length));return(0,m.a)(i,i,o,4),i}function Z(t,n){if(null==t)return 1;const r=(0,e.KX)(n);return 1/(0,e.oU)(r,"meters",t)}const L=(0,a.c)(),N=(0,a.c)(),k=(0,o.c)()},25977:function(t,n,r){r.d(n,{$5:function(){return P},KM:function(){return x},Mv:function(){return v},X4:function(){return M},gr:function(){return A},qs:function(){return d},si:function(){return m},xA:function(){return F}});r(16573),r(78100),r(77936),r(37467),r(44732),r(79577);var e=r(15114),o=r(13030),i=r(37072),a=r(26671),u=r(67886),c=r(456),s=r(39582),l=r(44240),f=r(72465),p=r(30075),g=r(44050),h=r(9030);const y=e.A.getLogger("geoscene.geometry.support.meshUtils.normalProjection");function M(t,n,r,e,o){return w(e)?(_(b.TO_PCPF,g.xs.fromTypedArray(t),g.Xm.fromTypedArray(n),g.Xm.fromTypedArray(r),e,g.xs.fromTypedArray(o)),o):(y.error("Cannot convert spatial reference to PCPF"),o)}function m(t,n,r,e,o){return w(e)?(_(b.FROM_PCPF,g.xs.fromTypedArray(t),g.Xm.fromTypedArray(n),g.Xm.fromTypedArray(r),e,g.xs.fromTypedArray(o)),o):(y.error("Cannot convert to spatial reference from PCPF"),o)}function A(t,n,r){return(0,s.projectBuffer)(t,n,0,r,(0,l.lO)(n),0,t.length/3),r}function P(t,n,r){return(0,s.projectBuffer)(t,(0,l.lO)(r),0,n,r,0,t.length/3),n}function d(t,n,r){return(0,o.b)(q,r),(0,h.a)(n,t,q),(0,o.i)(q)||(0,h.n)(n,n),n}function x(t,n,r){if((0,o.b)(q,r),(0,h.a)(n,t,q,4),(0,o.i)(q)||(0,h.n)(n,n,4),t!==n)for(let e=3;e<t.length;e+=4)n[e]=t[e];return n}function F(t,n,r,e,o){if(!w(e))return y.error("Cannot convert spatial reference to PCPF"),o;_(b.TO_PCPF,g.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),g.Xm.fromTypedArray(n),g.Xm.fromTypedArray(r),e,g.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}function v(t,n,r,e,o){if(!w(e))return y.error("Cannot convert to spatial reference from PCPF"),o;_(b.FROM_PCPF,g.xs.fromTypedArray(t,16),g.Xm.fromTypedArray(n),g.Xm.fromTypedArray(r),e,g.xs.fromTypedArray(o,16));for(let i=3;i<t.length;i+=4)o[i]=t[i];return o}function _(t,n,r,e,i,a){if(!n)return;const c=r.count,f=(0,l.lO)(i);if(T(i))for(let l=0;l<c;l++)e.getVec(l,O),n.getVec(l,C),(0,s.l)(f,O,j,f),(0,o.f)(q,j),t===b.FROM_PCPF&&(0,o.t)(q,q),(0,u.t)(C,C,q),a.setVec(l,C);else for(let l=0;l<c;l++){e.getVec(l,O),n.getVec(l,C),(0,s.l)(f,O,j,f),(0,o.f)(q,j);const i=(0,p.jg)(r.get(l,1));let c=Math.cos(i);t===b.TO_PCPF&&(c=1/c),q[0]*=c,q[1]*=c,q[2]*=c,q[3]*=c,q[4]*=c,q[5]*=c,t===b.FROM_PCPF&&(0,o.t)(q,q),(0,u.t)(C,C,q),(0,u.n)(C,C),a.setVec(l,C)}return a}function w(t){return T(t)||R(t)}function T(t){return t.isWGS84||(0,f.x1)(t)||(0,f.q8)(t)||(0,f.KQ)(t)}function R(t){return t.isWebMercator}var b;!function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(b||(b={}));const O=(0,c.c)(),C=(0,c.c)(),j=(0,a.c)(),q=(0,i.c)()}}]);
//# sourceMappingURL=5762.5dbb8c1a.js.map