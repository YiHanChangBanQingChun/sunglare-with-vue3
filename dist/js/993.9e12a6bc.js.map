{"version":3,"file":"js/993.9e12a6bc.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/rest/geometryService/cut.js","webpack://sun-glare-project/./node_modules/@geoscene/core/rest/geometryService/simplify.js","webpack://sun-glare-project/./node_modules/@geoscene/core/geometry/support/normalizeUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/geometry/support/normalizeUtilsCommon.js","webpack://sun-glare-project/./node_modules/@geoscene/core/support/getDefaultUnitForView.js","webpack://sun-glare-project/./node_modules/@geoscene/core/properties/defaultUnit.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/ScaleBar/css.js","webpack://sun-glare-project/./node_modules/@geoscene/core/geometry/support/geodesicUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/ScaleBar/ScaleBarViewModel.js","webpack://sun-glare-project/./node_modules/@geoscene/core/widgets/ScaleBar.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport\"../../geometry.js\";import e from\"../../request.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import{parseUrl as s}from\"../utils.js\";async function o(o,i,n,m){const a=s(o),p=i[0].spatialReference,u={...m,query:{...a.query,f:\"json\",sr:JSON.stringify(p),target:JSON.stringify({geometryType:t(i[0]),geometries:i}),cutter:JSON.stringify(n)}},c=await e(a.path+\"/cut\",u),{cutIndexes:f,geometries:g=[]}=c.data;return{cutIndexes:f,geometries:g.map((e=>{const t=r(e);return t.spatialReference=p,t}))}}export{o as cut};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as s}from\"../../geometry/support/jsonUtils.js\";import{encodeGeometries as e,decodeGeometries as i}from\"./utils.js\";async function o(o,m,f){const n=\"string\"==typeof o?t(o):o,p=m[0].spatialReference,a=s(m[0]),u={...f,query:{...n.query,f:\"json\",sr:p.wkid??JSON.stringify(p),geometries:JSON.stringify(e(m))}},{data:y}=await r(n.path+\"/simplify\",u);return i(y.geometries,a,p)}export{o as simplify};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../config.js\";import t from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import o from\"../Polygon.js\";import s from\"../Polyline.js\";import{getGeometryParts as r,cutParams as i,offsetMagnitude as l,updatePolyGeometry as f}from\"./normalizeUtilsCommon.js\";import{getInfo as c}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as p,webMercatorToGeographic as u}from\"./webMercatorUtils.js\";import{cut as a}from\"../../rest/geometryService/cut.js\";import{simplify as h}from\"../../rest/geometryService/simplify.js\";const m=n.getLogger(\"geoscene.geometry.support.normalizeUtils\");function g(e){return\"polygon\"===e.type}function y(e){return\"polygon\"===e[0].type}function x(e){return\"polyline\"===e[0].type}function d(e){const t=[];let n=0,o=0;for(let s=0;s<e.length;s++){const r=e[s];let i=null;for(let e=0;e<r.length;e++)i=r[e],t.push(i),0===e?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&t.push([(n+o)/2,0])}return t}function w(e,n){if(!(e instanceof s||e instanceof o)){const e=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m.error(e),new t(e)}const i=r(e),l=[];for(const t of i){const e=[];l.push(e),e.push([t[0][0],t[0][1]]);for(let o=0;o<t.length-1;o++){const s=t[o][0],r=t[o][1],i=t[o+1][0],l=t[o+1][1],f=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),c=(l-r)/f,p=(i-s)/f,u=f/n;if(u>1){for(let l=1;l<=u-1;l++){const t=l*n,o=p*t+s,i=c*t+r;e.push([o,i])}const t=(f+Math.floor(u-1)*n)/2,o=p*t+s,i=c*t+r;e.push([o,i])}e.push([i,l])}}return g(e)?new o({rings:l,spatialReference:e.spatialReference}):new s({paths:l,spatialReference:e.spatialReference})}function j(e,t,n){if(t){const t=w(e,1e6);e=u(t,!0)}return n&&(e=f(e,n)),e}function M(e,t,n){if(Array.isArray(e)){const o=e[0];if(o>t){const n=l(o,t);e[0]=o+n*(-2*t)}else if(o<n){const t=l(o,n);e[0]=o+t*(-2*n)}}else{const o=e.x;if(o>t){const n=l(o,t);e=e.clone().offset(n*(-2*t),0)}else if(o<n){const t=l(o,n);e=e.clone().offset(t*(-2*n),0)}}return e}function R(e,t){let n=-1;for(let o=0;o<t.cutIndexes.length;o++){const s=t.cutIndexes[o],i=t.geometries[o],f=r(i);for(let e=0;e<f.length;e++){const t=f[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const o=t[e][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*l(n,180);for(let s=0;s<t.length;s++){const t=i.getPoint(e,s);i.setPoint(e,s,t.clone().offset(o,0))}return!0}}))}if(s===n){if(y(e))for(const t of r(i))e[s]=e[s].addRing(t);else if(x(e))for(const t of r(i))e[s]=e[s].addPath(t)}else n=s,e[s]=i}return e}async function b(t,n,r){if(!Array.isArray(t))return b([t],n);n&&\"string\"!=typeof n&&m.warn(\"normalizeCentralMeridian()\",\"The url object is deprecated, use the url string instead\");const u=\"string\"==typeof n?n:n?.url??e.geometryServiceUrl;let g,y,x,d,w,P,v,L,U=0;const z=[],A=[];for(const e of t)if(null!=e)if(g||(g=e.spatialReference,y=c(g),x=g.isWebMercator,P=x?102100:4326,d=i[P].maxX,w=i[P].minX,v=i[P].plus180Line,L=i[P].minus180Line),y)if(\"mesh\"===e.type)A.push(e);else if(\"point\"===e.type)A.push(M(e.clone(),d,w));else if(\"multipoint\"===e.type){const t=e.clone();t.points=t.points.map((e=>M(e,d,w))),A.push(t)}else if(\"extent\"===e.type){const t=e.clone()._normalize(!1,!1,y);A.push(t.rings?new o(t):t)}else if(e.extent){const t=e.extent,n=l(t.xmin,w)*(2*d);let o=0===n?e.clone():f(e.clone(),n);t.offset(n,0),t.intersects(v)&&t.xmax!==d?(U=t.xmax>U?t.xmax:U,o=j(o,x),z.push(o),A.push(\"cut\")):t.intersects(L)&&t.xmin!==w?(U=t.xmax*(2*d)>U?t.xmax*(2*d):U,o=j(o,x,360),z.push(o),A.push(\"cut\")):A.push(o)}else A.push(e.clone());else A.push(e);else A.push(e);let S=l(U,d),k=-90;const C=S,I=new s;for(;S>0;){const e=360*S-180;I.addPath([[e,k],[e,-1*k]]),k*=-1,S--}if(z.length>0&&C>0){const e=R(z,await a(u,z,I,r)),n=[],o=[];for(let r=0;r<A.length;r++){const s=A[r];if(\"cut\"!==s)o.push(s);else{const s=e.shift(),i=t[r];null!=i&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&s.rings.length>=i.rings.length?(n.push(s),o.push(\"simplify\")):o.push(x?p(s):s)}}if(!n.length)return o;const s=await h(u,n,r),i=[];for(let t=0;t<o.length;t++){const e=o[t];\"simplify\"!==e?i.push(e):i.push(x?p(s.shift()):s.shift())}return i}const X=[];for(let e=0;e<A.length;e++){const t=A[e];if(\"cut\"!==t)X.push(t);else{const e=z.shift();X.push(!0===x?p(e):e)}}return X}function P(e){if(!e)return null;const t=e.extent;if(!t)return null;const n=e.spatialReference&&c(e.spatialReference);if(!n)return t;const[o,s]=n.valid,r=2*s,{width:i}=t;let l,{xmin:f,xmax:p}=t;if([f,p]=[p,f],\"extent\"===e.type||0===i||i<=s||i>r||f<o||p>s)return t;switch(e.type){case\"polygon\":if(!(e.rings.length>1))return t;l=d(e.rings);break;case\"polyline\":if(!(e.paths.length>1))return t;l=d(e.paths);break;case\"multipoint\":l=e.points}const u=t.clone();for(let c=0;c<l.length;c++){let e=l[c][0];e<0?(e+=s,p=Math.max(e,p)):(e-=s,f=Math.min(e,f))}return u.xmin=f,u.xmax=p,u.width<i?(u.xmin-=s,u.xmax-=s,u):t}function v(e,t){const n=c(t);if(n){const[t,o]=n.valid,s=o-t;if(e<t)for(;e<t;)e+=s;if(e>o)for(;e>o;)e-=s}return e}export{P as getDenormalizedExtent,b as normalizeCentralMeridian,v as normalizeMapX,w as straightLineDensify};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function s(e,n){const t=o(e);for(const r of t)for(const e of r)e[0]+=n;return e}function o(e){return t(e)?e.rings:e.paths}export{r as cutParams,o as getGeometryParts,i as offsetMagnitude,s as updatePolyGeometry};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getDefaultUnitSystem as t}from\"../core/unitUtils.js\";import r from\"../portal/Portal.js\";function e(e){const n=\"metric\";if(null==e)return n;const i=e.map,l=(i&&\"portalItem\"in i?i.portalItem?.portal:null)??r.getDefault();switch(l.user?.units??l.units){case n:return n;case\"english\":return\"imperial\"}return t(e.spatialReference)??n}export{e as getDefaultUnitForView};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getDefaultUnitForView as t}from\"../support/getDefaultUnitForView.js\";const e={readOnly:!0,get(){return t(this.view)}};export{e as defaultUnitPropertyMetadata};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst e=\"geoscene-scale-bar\",n={base:`${e} geoscene-widget`,labelContainer:`${e}__label-container`,rulerLabelContainer:`${e}__label-container--ruler`,lineLabelContainer:`${e}__label-container--line`,topLabelContainer:`${e}__label-container--top`,bottomLabelContainer:`${e}__label-container--bottom`,label:`${e}__label`,line:`${e}__line`,topLine:`${e}__line--top`,bottomLine:`${e}__line--bottom`,ruler:`${e}__ruler`,rulerBlock:`${e}__ruler-block`,barContainer:`${e}__bar-container`,rulerBarContainer:`${e}__bar-container--ruler`,lineBarContainer:`${e}__bar-container--line`,disabled:\"geoscene-disabled\"};export{n as CSS};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport\"../../geometry.js\";import e from\"../../core/Error.js\";import{convertUnit as t}from\"../../core/unitUtils.js\";import{toRadians as n,spheroids as i,WKT_SPHEROID_REGEX as s}from\"./geodesicConstants.js\";import{equals as r,isGeographic as a}from\"./spatialReferenceUtils.js\";import o from\"../Polyline.js\";import c from\"../Polygon.js\";import h from\"../Point.js\";import l from\"../SpatialReference.js\";function f(e){if(!e)return null;if(a(e)&&e.wkid){const t=i[e.wkid];if(t)return t}if(e.wkt){const t=p(e.wkt);if(t)return t}return null}function p(e){const t=s.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(\",\");if(!n||n.length<3)return null;const i=parseFloat(n[1]),r=parseFloat(n[2]);if(isNaN(i)||isNaN(r))return null;return{a:i,f:0===r?0:1/r}}function u(e){const t=f(e??l.WGS84);if(d(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function d(e){return null!=e&&\"b\"in e&&\"eSq\"in e&&\"radius\"in e}function m(e){return null!=e&&e<0?e+360:e}function g(e,t,i){const{a:s,eSq:r}=u(i),a=Math.sqrt(r),o=Math.sin(t[1]*n),c=s*t[0]*n;let h;if(r>0){h=s*((1-r)*(o/(1-r*(o*o))-1/(2*a)*Math.log((1-a*o)/(1+a*o))))*.5}else h=s*o;return e[0]=c,e[1]=h,e}function M(e){return null!==f(e)}function w(n,i=\"square-meters\"){if(n.some((e=>!M(e.spatialReference))))throw new e(\"geodesic-areas:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<n.length;e++){const t=n[e],i=t.spatialReference,{radius:r,densificationRatio:a}=u(i),o=r*a;s.push(v(t,o))}const r=[],a=[0,0],o=[0,0];for(let e=0;e<s.length;e++){const{rings:n,spatialReference:c}=s[e];let h=0;for(let e=0;e<n.length;e++){const t=n[e];g(a,t[0],c),g(o,t[t.length-1],c);let i=o[0]*a[1]-a[0]*o[1];for(let e=0;e<t.length-1;e++)g(a,t[e+1],c),g(o,t[e],c),i+=o[0]*a[1]-a[0]*o[1];h+=i}h=t(h,\"square-meters\",i),r.push(h/-2)}return r}function y(n,i=\"meters\"){if(!n)throw new e(\"geodesic-lengths:invalid-geometries\",\"the input geometries type is not supported\");if(n.some((e=>!M(e.spatialReference))))throw new e(\"geodesic-lengths:invalid-spatial-reference\",\"the input geometries spatial reference is not supported\");const s=[];for(let e=0;e<n.length;e++){const r=n[e],{spatialReference:a}=r,o=\"polyline\"===r.type?r.paths:r.rings;let c=0;for(let e=0;e<o.length;e++){const t=o[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],s=t[e][0],r=t[e-1][1],o=t[e][1];if(r!==o||i!==s){const e=new R;b(e,[i,r],[s,o],a),n+=e.distance}}c+=n}c=t(c,\"meters\",i),s.push(c)}return s}function v(t,n){if(\"polyline\"!==t.type&&\"polygon\"!==t.type)throw new e(\"geodesic-densify:invalid-geometry\",\"the input geometry is neither polyline nor polygon\");const{spatialReference:i}=t;if(!M(i))throw new e(\"geodesic-densify:invalid-spatial-reference\",\"the input geometry spatial reference is not supported\");const s=\"polyline\"===t.type?t.paths:t.rings,r=[],a=[0,0],h=new R;for(const e of s){const t=[];r.push(t),t.push([e[0][0],e[0][1]]);let s,o,c=e[0][0],l=e[0][1];for(let r=0;r<e.length-1;r++){if(s=e[r+1][0],o=e[r+1][1],c===s&&l===o)continue;const f=[c,l];b(h,[c,l],[s,o],i);const{azimuth:p,distance:u}=h,d=u/n;if(d>1){for(let e=1;e<=d-1;e++){z(a,f,p,e*n,i),t.push(a.slice(0))}z(a,f,p,(u+Math.floor(d-1)*n)/2,i),t.push(a.slice(0))}z(a,f,p,u,i),t.push(a.slice(0)),c=a[0],l=a[1]}}return\"polyline\"===t.type?new o({paths:r,spatialReference:i}):new c({rings:r,spatialReference:i})}class R{constructor(e=0,t=void 0,n=void 0){this.distance=e,this.azimuth=t,this.reverseAzimuth=n}}function z(e,t,i,s,r){const a=t[0],o=t[1],c=a*n,h=o*n,l=(i??0)*n,{a:f,b:p,f:d}=u(r),m=Math.sin(l),g=Math.cos(l),M=(1-d)*Math.tan(h),w=1/Math.sqrt(1+M*M),y=M*w,v=Math.atan2(M,g),R=w*m,z=R*R,b=1-z,j=b*(f*f-p*p)/(p*p),q=1+j/16384*(4096+j*(j*(320-175*j)-768)),x=j/1024*(256+j*(j*(74-47*j)-128));let A,N,S,k,P=s/(p*q),F=2*Math.PI;for(;Math.abs(P-F)>1e-12;)S=Math.cos(2*v+P),A=Math.sin(P),N=Math.cos(P),k=x*A*(S+x/4*(N*(2*S*S-1)-x/6*S*(4*A*A-3)*(4*S*S-3))),F=P,P=s/(p*q)+k;const U=y*A-w*N*g,C=Math.atan2(y*N+w*A*g,(1-d)*Math.sqrt(z+U*U)),E=Math.atan2(A*m,w*N-y*A*g),G=d/16*b*(4+d*(4-3*b)),I=C/n,O=(c+(E-(1-G)*d*R*(P+G*A*(S+G*N*(2*S*S-1)))))/n;return e[0]=O,e[1]=I,e}function b(e,t,i,s){const r=t[0]*n,a=t[1]*n,o=i[0]*n,c=i[1]*n,{a:h,b:l,f,radius:p}=u(s),d=o-r,m=Math.atan((1-f)*Math.tan(a)),g=Math.atan((1-f)*Math.tan(c)),M=Math.sin(m),w=Math.cos(m),y=Math.sin(g),v=Math.cos(g);let R,z,b,j,q,x,A,N,S,k,P=1e3,F=d;do{if(A=Math.sin(F),N=Math.cos(F),b=Math.sqrt(v*A*(v*A)+(w*y-M*v*N)*(w*y-M*v*N)),0===b)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;q=M*y+w*v*N,x=Math.atan2(b,q),S=w*v*A/b,z=1-S*S,j=q-2*M*y/z,isNaN(j)&&(j=0),k=f/16*z*(4+f*(4-3*z)),R=F,F=d+(1-k)*f*S*(x+k*b*(j+k*q*(2*j*j-1)))}while(Math.abs(F-R)>1e-12&&--P>0);if(0===P){const t=p,i=Math.acos(Math.sin(a)*Math.sin(c)+Math.cos(a)*Math.cos(c)*Math.cos(o-r))*t,s=o-r,h=Math.sin(s)*Math.cos(c),l=Math.cos(a)*Math.sin(c)-Math.sin(a)*Math.cos(c)*Math.cos(s),f=Math.atan2(h,l);return e.azimuth=f/n,e.distance=i,e.reverseAzimuth=void 0,e}const U=z*(h*h-l*l)/(l*l),C=U/1024*(256+U*(U*(74-47*U)-128)),E=l*(1+U/16384*(4096+U*(U*(320-175*U)-768)))*(x-C*b*(j+C/4*(q*(2*j*j-1)-C/6*j*(4*b*b-3)*(4*j*j-3)))),G=Math.atan2(v*Math.sin(F),w*y-M*v*Math.cos(F)),I=Math.atan2(w*Math.sin(F),w*y*Math.cos(F)-M*v);return e.azimuth=G/n,e.distance=E,e.reverseAzimuth=I/n,e}function j(n,i,s=\"meters\"){if(!n||!i)throw new e(\"geodesic-distance:missing-parameters\",\"one or both input parameters are missing\");if(!n.spatialReference||!i.spatialReference)throw new e(\"geodesic-distance:invalid-parameters\",\"one or both input points do not have a spatial reference\");if(!r(n.spatialReference,i.spatialReference))throw new e(\"geodesic-distance:invalid-parameters\",\"spatial references of input parameters do not match\");const{spatialReference:a}=n;if(!M(a))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");if(n.x===i.x&&n.y===i.y)return new R(0,0,0);const o=new R;return b(o,[n.x,n.y],[i.x,i.y],a),o.distance=t(o.distance,\"meters\",s),o.azimuth=m(o.azimuth),o.reverseAzimuth=m(o.reverseAzimuth),o}function q(t,n,i){if(!t||null==n||null==i)throw new e(\"point-from-distance:missing-parameters\",\"one or more input parameters are missing or undefined\");if(i<0||i>360)throw new e(\"point-from-distance:-of-bounds\",\"azimuth is restricted to angles between, and including, 0° to 360° degrees\");if(!t.spatialReference)throw new e(\"point-from-distance:missing-spatial-reference\",\"the input point must have a spatial reference\");const{spatialReference:s}=t;if(!M(s))throw new e(\"geodesic-distance:not-supported\",\"input geometry spatial reference is not supported\");const r=[0,0];return z(r,[t.x,t.y],i,n,s),new h({x:r[0],y:r[1],spatialReference:s})}export{R as InverseGeodeticSolverResult,z as directGeodeticSolver,w as geodesicAreas,v as geodesicDensify,j as geodesicDistance,y as geodesicLengths,b as inverseGeodeticSolver,M as isSupported,q as pointFromDistance};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Accessor.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{convertUnit as s}from\"../../core/unitUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isSupported as n,geodesicLengths as a}from\"../../geometry/support/geodesicUtils.js\";import{straightLineDensify as c}from\"../../geometry/support/normalizeUtils.js\";import{isValid as l,getInfo as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as u}from\"../../geometry/support/webMercatorUtils.js\";import p from\"../../geometry/support/WKIDUnitConversion.js\";import d from\"../../geometry/SpatialReference.js\";import f from\"../../geometry/Polyline.js\";import h from\"../../geometry/Point.js\";function w(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}function g(e,t){switch(t){case\"metric\":return e>1e3?{distance:s(e,\"meters\",\"kilometers\"),unit:\"kilometer\"}:e>1?{distance:e,unit:\"meter\"}:e>.01?{distance:s(e,\"meters\",\"centimeters\"),unit:\"centimeter\"}:{distance:s(e,\"meters\",\"millimeters\"),unit:\"millimeter\"};case\"imperial\":case\"non-metric\":return e>1609.344?{distance:s(e,\"meters\",\"miles\"),unit:\"mile\"}:e>.3048?{distance:s(e,\"meters\",\"feet\"),unit:\"foot\"}:{distance:s(e,\"meters\",\"inches\"),unit:\"inch\"}}}function y(e){const{isWebMercator:t,wkt:r}=e;return t||(r?.includes(\"WGS_1984_Web_Mercator\")??!1)}function j(e){const{wkid:t,wkt:r}=e;if(null!=t&&null!=p[t])return p.values[p[t]];if(null!=r){const e=r.lastIndexOf(\",\")+1,t=r.lastIndexOf(\"]]\");return parseFloat(r.substring(e,t))}return 1}function S({state:{paddedViewState:e},spatialReference:t,width:r}){return t.isWrappable&&e.worldScreenWidth<r}function v(e,t){const{x:r,y:s}=e?u(t,!0):t;return[r,s]}let b=class extends t{constructor(e){super(e),this.scaleComputedFrom=r(),this.view=null}get state(){return this.view?.ready&&\"2d\"===this.view?.type?\"ready\":\"disabled\"}getScaleBarProperties(e,t){if(\"disabled\"===this.state||isNaN(e)||!t||!this.view)return null;const r=this._getDistanceInMeters();return null==r?null:this._getScaleBarProps(e,r,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!l(t))return null;const{isGeographic:r}=t,s=y(t);if(!r&&!s){return e.extent.width*j(t)}const[i,o]=this._getScaleMeasuringPoints(),m=s||r&&!n(t)?d.WGS84:t,u=new f({paths:[[v(s,i),v(s,o)]],spatialReference:m}),p=c(u,10);let h;try{[h]=a([p],\"meters\")}catch{return null}return h}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:s,position:i,spatialReference:o}=e;if(S(e)){const e=m(o),{valid:t}=e;return[new h(t[0],0,o),new h(t[1],0,o)]}let n=this.scaleComputedFrom.y-i[1];n>s?n=s:n<0&&(n=0);const a=r(0,n),c=r(t,n);return[e.toMap(a),e.toMap(c)]}_getScaleBarProps(e,t,r){const s=this.view,i=e*t/(S(s)?s.state.paddedViewState.worldScreenWidth:s.width);if(i<.001)return null;const o=g(i,r),{distance:n,unit:a}=o;let c=n,l=0;for(;c>=1;)c/=10,l++;const{min:m,max:u}=w(c),p=u/c>=c/m?m:u;return{length:e*(p/c),value:10**l*p,unit:a}}};e([i()],b.prototype,\"scaleComputedFrom\",void 0),e([i({readOnly:!0})],b.prototype,\"state\",null),e([i()],b.prototype,\"view\",void 0),b=e([o(\"geoscene.widgets.Scalebar.ScaleBarViewModel\")],b);const x=b;export{x as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{deprecatedProperty as t}from\"../core/deprecate.js\";import r from\"../core/Logger.js\";import{watch as s}from\"../core/reactiveUtils.js\";import{createScreenPoint as i}from\"../core/screenUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{formatNumber as a}from\"../intl/number.js\";import{defaultUnitPropertyMetadata as n}from\"../properties/defaultUnit.js\";import c from\"./Widget.js\";import{CSS as d}from\"./ScaleBar/css.js\";import p from\"./ScaleBar/ScaleBarViewModel.js\";import\"./support/widgetUtils.js\";import{messageBundle as u}from\"./support/decorators/messageBundle.js\";import{tsx as m}from\"./support/jsxFactory.js\";function h(e,t){return a(e,{style:\"unit\",unit:t,unitDisplay:\"short\"})}const v=\"geoscene.widgets.ScaleBar\",f=r.getLogger(v);let w=class extends c{constructor(e,t){super(e,t),this.messages=null,this.style=\"line\",this.viewModel=new p}initialize(){this.addHandles(s((()=>{const{view:e}=this;return[e?.stationary,e?.center,e?.scale,e?.zoom]}),(([e])=>{e&&this.scheduleRender()})))}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get unit(){return this._defaultUnit}set unit(e){\"non-metric\"===e&&t(f,\"unit\",{replacement:\"Please use 'imperial' instead of 'non-metric'.\",see:\"https://doc.geoscene.cn/javascript/4.27/api-reference/geoscene-widgets-ScaleBar.html#unit\",version:\"4.27\",warnOnce:!0}),this._overrideIfSome(\"unit\",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=\"disabled\"===this.viewModel.state,t={[d.disabled]:e};let r,s;if(!e){const{unit:e,style:t}=this,i=\"metric\"===e||\"dual\"===e,o=100,l=\"dual\"===e?\"line\":t;if(\"imperial\"===e||\"non-metric\"===e||\"dual\"===e){const e=this.viewModel.getScaleBarProperties(o,\"imperial\");e&&(s=\"ruler\"===l?this._renderRuler(e):this._renderLine(e,\"bottom\"))}if(i){const e=this.viewModel.getScaleBarProperties(o,\"metric\");e&&(r=\"ruler\"===l?this._renderRuler(e):this._renderLine(e,\"top\"))}}return m(\"div\",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(d.base,t)},r,s)}_renderRuler(e){const{length:t,unit:r,value:s}=e,i=Math.round(t),o=h(s,r);return m(\"div\",{class:this.classes(d.barContainer,d.rulerBarContainer),key:d.rulerBarContainer},m(\"div\",{class:d.ruler,styles:{width:`${i}px`}},m(\"div\",{class:d.rulerBlock}),m(\"div\",{class:d.rulerBlock}),m(\"div\",{class:d.rulerBlock}),m(\"div\",{class:d.rulerBlock})),m(\"div\",{class:this.classes(d.labelContainer,d.rulerLabelContainer)},m(\"div\",{class:d.label},\"0\"),m(\"div\",{class:d.label},o)))}_renderLine(e,t){const{length:r,unit:s,value:i}=e,o=Math.round(r),l=h(i,s),a={[d.topLabelContainer]:\"top\"===t,[d.bottomLabelContainer]:\"bottom\"===t},n=m(\"div\",{class:this.classes(d.labelContainer,d.lineLabelContainer,a),key:d.labelContainer},m(\"div\",{class:d.label},l)),c={[d.topLine]:\"top\"===t,[d.bottomLine]:\"bottom\"===t},p=m(\"div\",{class:this.classes(d.line,c),key:d.line,styles:{width:`${o}px`}});return m(\"div\",{class:this.classes(d.barContainer,d.lineBarContainer),key:d.lineBarContainer},[p,n])}_handleRootCreateOrUpdate(e){if(!this.viewModel)return;const{scaleComputedFrom:t}=this.viewModel,r=e.getBoundingClientRect(),s=r.left+window.pageXOffset,o=r.top+window.pageYOffset,l=i(s,o);(l.x!==t.x||l.y!==t.y)&&(this.viewModel.scaleComputedFrom=l)}};e([o(n)],w.prototype,\"_defaultUnit\",void 0),e([o()],w.prototype,\"label\",null),e([o(),u(\"geoscene/widgets/ScaleBar/t9n/ScaleBar\")],w.prototype,\"messages\",void 0),e([o({type:[\"ruler\",\"line\"]})],w.prototype,\"style\",void 0),e([o({type:[\"metric\",\"imperial\",\"dual\",\"non-metric\"]})],w.prototype,\"unit\",null),e([o()],w.prototype,\"view\",null),e([o()],w.prototype,\"viewModel\",void 0),w=e([l(v)],w);const b=w;export{b as default};"],"names":["async","o","i","n","m","a","s","p","spatialReference","u","query","f","sr","JSON","stringify","target","geometryType","t","geometries","cutter","c","e","path","cutIndexes","g","data","map","r","wkid","y","getLogger","type","x","w","error","l","push","length","Math","sqrt","floor","rings","paths","j","M","Array","isArray","clone","offset","R","some","Number","toFixed","getPoint","setPoint","addRing","addPath","b","warn","url","geometryServiceUrl","d","P","v","L","U","z","A","isWebMercator","maxX","minX","plus180Line","minus180Line","points","_normalize","extent","xmin","intersects","xmax","S","k","C","I","shift","h","X","valid","WebMercator","WGS84","ceil","portalItem","portal","getDefault","user","units","readOnly","get","this","view","base","labelContainer","rulerLabelContainer","lineLabelContainer","topLabelContainer","bottomLabelContainer","label","line","topLine","bottomLine","ruler","rulerBlock","barContainer","rulerBarContainer","lineBarContainer","disabled","wkt","exec","split","parseFloat","isNaN","Object","assign","eSq","radius","densificationRatio","distance","constructor","azimuth","reverseAzimuth","atan","tan","sin","cos","q","N","F","atan2","abs","acos","E","G","min","max","unit","includes","values","lastIndexOf","substring","state","paddedViewState","width","isWrappable","worldScreenWidth","super","scaleComputedFrom","ready","getScaleBarProperties","_getDistanceInMeters","_getScaleBarProps","isGeographic","_getScaleMeasuringPoints","height","position","toMap","value","prototype","style","unitDisplay","messages","viewModel","initialize","addHandles","stationary","center","scale","zoom","scheduleRender","widgetLabel","_overrideIfSome","_defaultUnit","replacement","see","version","warnOnce","render","_renderRuler","_renderLine","afterCreate","_handleRootCreateOrUpdate","afterUpdate","bind","class","classes","round","key","styles","getBoundingClientRect","left","window","pageXOffset","top","pageYOffset"],"sourceRoot":""}