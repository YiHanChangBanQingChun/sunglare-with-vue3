{"version":3,"file":"js/5343.3ffb55b6.js","mappings":"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","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/analysis/Analysis.js","webpack://sun-glare-project/./node_modules/@geoscene/core/analysis/DimensionSimpleStyle.js","webpack://sun-glare-project/./node_modules/@geoscene/core/analysis/dimensionUtils.js","webpack://sun-glare-project/./node_modules/@geoscene/core/analysis/LengthDimension.js","webpack://sun-glare-project/./node_modules/@geoscene/core/analysis/DimensionAnalysis.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/DimensionLayer.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Accessor.js\";import{isSome as r}from\"../core/arrayUtils.js\";import{ClonableMixin as s}from\"../core/Clonable.js\";import{IdentifiableMixin as o}from\"../core/Identifiable.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/has.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let n=0,l=class extends(i(s(o(t)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${n++}`,this.title=null}get parent(){return this._get(\"parent\")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case\"line-of-sight\":case\"dimension\":t.releaseAnalysis(this);break;case\"2d\":case\"3d\":t.analyses.includes(this)&&t.analyses.remove(this)}this._set(\"parent\",e)}get isEditable(){return this.requiredPropertiesForEditing.every(r)}};e([p({type:String,constructOnly:!0,clonable:!1})],l.prototype,\"id\",void 0),e([p({type:String})],l.prototype,\"title\",void 0),e([p({constructOnly:!0})],l.prototype,\"type\",void 0),e([p({clonable:!1,value:null})],l.prototype,\"parent\",null),e([p({readOnly:!0})],l.prototype,\"isEditable\",null),e([p({readOnly:!0})],l.prototype,\"requiredPropertiesForEditing\",void 0),l=e([a(\"geoscene.analysis.Analysis\")],l);const c=l;export{c as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as o}from\"../chunks/tslib.es6.js\";import e from\"../Color.js\";import{Clonable as r}from\"../core/Clonable.js\";import{JSONSupportMixin as t}from\"../core/JSONSupport.js\";import{toPt as s,px2pt as i}from\"../core/screenUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{Integer as l}from\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";let c=class extends(t(r)){constructor(o){super(o),this.type=\"simple\",this.color=new e(\"black\"),this.lineSize=2,this.fontSize=10,this.textColor=new e(\"black\"),this.textBackgroundColor=new e([255,255,255,.6])}};o([p({type:[\"simple\"],readOnly:!0,json:{write:{isRequired:!0}}})],c.prototype,\"type\",void 0),o([p({type:e,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"color\",void 0),o([p({type:Number,cast:s,nonNullable:!0,range:{min:i(1)},json:{write:{isRequired:!0}}})],c.prototype,\"lineSize\",void 0),o([p({type:Number,cast:s,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,\"fontSize\",void 0),o([p({type:e,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"textColor\",void 0),o([p({type:e,nonNullable:!0,json:{type:[l],write:{isRequired:!0}}})],c.prototype,\"textBackgroundColor\",void 0),c=o([n(\"geoscene.analysis.DimensionSimpleStyle\")],c);const a=c;export{a as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nvar t;!function(t){t.Horizontal=\"horizontal\",t.Vertical=\"vertical\",t.Direct=\"direct\"}(t||(t={}));const r=[t.Horizontal,t.Vertical,t.Direct];export{t as LengthDimensionMeasureType,r as lengthDimensionMeasureType};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as o}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import{LengthDimensionMeasureType as t,lengthDimensionMeasureType as e}from\"./dimensionUtils.js\";import{Clonable as r}from\"../core/Clonable.js\";import{cyclicalDegrees as s}from\"../core/Cyclical.js\";import{JSONSupportMixin as i}from\"../core/JSONSupport.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as a}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let l=class extends(i(r)){constructor(o){super(o),this.type=\"length\",this.startPoint=null,this.endPoint=null,this.measureType=t.Direct,this.offset=0,this.orientation=0}};o([p({type:[\"length\"],json:{write:{isRequired:!0}}})],l.prototype,\"type\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"startPoint\",void 0),o([p({type:c,json:{write:!0}})],l.prototype,\"endPoint\",void 0),o([p({type:e,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"measureType\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],l.prototype,\"offset\",void 0),o([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((o=>s.normalize(a(o),0,!0)))],l.prototype,\"orientation\",void 0),l=o([m(\"geoscene.analysis.LengthDimension\")],l);const u=l;export{u as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"./Analysis.js\";import n from\"./DimensionSimpleStyle.js\";import o from\"./LengthDimension.js\";import s from\"../core/Collection.js\";import{referenceSetter as i,castForReferenceSetter as r}from\"../core/collectionUtils.js\";import{watch as l,syncAndInitial as p}from\"../core/reactiveUtils.js\";import{property as u}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import a from\"../geometry/Extent.js\";import{projectOrLoadMany as c}from\"../geometry/projection.js\";const d=s.ofType(o);let y=class extends t{constructor(e){super(e),this.type=\"dimension\",this.style=new n,this.extent=null}initialize(){this.addHandles(l((()=>this._computeExtent()),(e=>{null!=e&&null!=e.pending||this._set(\"extent\",null!=e?e.extent:null)}),p))}get dimensions(){return this._get(\"dimensions\")||new d}set dimensions(e){this._set(\"dimensions\",i(e,this.dimensions,d))}get spatialReference(){for(const e of this.dimensions){if(null!=e.startPoint)return e.startPoint.spatialReference;if(null!=e.endPoint)return e.endPoint.spatialReference}return null}get requiredPropertiesForEditing(){return this.dimensions.reduce(((e,t)=>(e.push(t.startPoint,t.endPoint),e)),[])}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==e)return{pending:null,extent:null};const t=[];for(const s of this.dimensions)null!=s.startPoint&&t.push(s.startPoint),null!=s.endPoint&&t.push(s.endPoint);const n=c(t,e);if(null!=n.pending)return{pending:n.pending,extent:null};let o=null;return null!=n.geometries&&(o=n.geometries.reduce(((e,t)=>null==e?null!=t?a.fromPoint(t):null:null!=t?e.union(a.fromPoint(t)):e),null)),{pending:null,extent:o}}clear(){this.dimensions.removeAll()}};e([u({type:[\"dimension\"]})],y.prototype,\"type\",void 0),e([u({cast:r,type:d,nonNullable:!0})],y.prototype,\"dimensions\",null),e([u({readOnly:!0})],y.prototype,\"spatialReference\",null),e([u({types:{key:\"type\",base:null,typeMap:{simple:n}},nonNullable:!0})],y.prototype,\"style\",void 0),e([u({value:null,readOnly:!0})],y.prototype,\"extent\",void 0),e([u({readOnly:!0})],y.prototype,\"requiredPropertiesForEditing\",null),y=e([m(\"geoscene.analysis.DimensionAnalysis\")],y);const f=y;export{f as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../analysis/DimensionAnalysis.js\";import r from\"../analysis/DimensionSimpleStyle.js\";import t from\"../analysis/LengthDimension.js\";import o from\"../core/Collection.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{watch as n,syncAndInitial as p}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import y from\"./Layer.js\";import{OperationalLayer as m}from\"./mixins/OperationalLayer.js\";let u=class extends(m(i(y))){constructor(e){if(super(e),this.type=\"dimension\",this.operationalLayerType=\"ArcGISDimensionLayer\",this.source=new s,this.opacity=1,e){const{source:s,style:r}=e;s&&r&&(s.style=r)}}initialize(){this.addHandles([n((()=>this.source),((e,s)=>{null!=s&&s.parent===this&&(s.parent=null),null!=e&&(e.parent=this)}),p)])}async load(){return this.addResolvingPromise(this.source.waitComputeExtent()),this}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(e){this.source.style=e}get fullExtent(){return this.source.extent}releaseAnalysis(e){this.source===e&&(this.source=new s)}get analysis(){return this.source}set analysis(e){this.source=e}get dimensions(){return this.source.dimensions}set dimensions(e){this.source.dimensions=e}writeDimensions(e,s,r,t){s.dimensions=e.filter((({startPoint:e,endPoint:s})=>null!=e&&null!=s)).map((e=>e.toJSON(t))).toJSON()}};e([a({json:{read:!1},readOnly:!0})],u.prototype,\"type\",void 0),e([a({type:[\"ArcGISDimensionLayer\"]})],u.prototype,\"operationalLayerType\",void 0),e([a({nonNullable:!0})],u.prototype,\"source\",void 0),e([a({readOnly:!0})],u.prototype,\"spatialReference\",null),e([a({types:{key:\"type\",base:null,typeMap:{simple:r}},json:{write:{ignoreOrigin:!0}}})],u.prototype,\"style\",null),e([a({readOnly:!0})],u.prototype,\"fullExtent\",null),e([a({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],u.prototype,\"opacity\",void 0),e([a({type:[\"show\",\"hide\"]})],u.prototype,\"listMode\",void 0),e([a({type:o.ofType(t),json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{ignoreOrigin:!0}}}}})],u.prototype,\"dimensions\",null),e([c(\"web-scene\",\"dimensions\")],u.prototype,\"writeDimensions\",null),u=e([l(\"geoscene.layers.DimensionLayer\")],u);const d=u;export{d as default};"],"names":["n","l","i","s","o","t","constructor","e","super","this","id","Date","now","toString","title","parent","_get","type","releaseAnalysis","analyses","includes","remove","_set","isEditable","requiredPropertiesForEditing","every","r","p","String","constructOnly","clonable","prototype","value","readOnly","a","c","color","lineSize","fontSize","textColor","textBackgroundColor","json","write","isRequired","nonNullable","Number","cast","range","min","Horizontal","Vertical","Direct","startPoint","endPoint","measureType","offset","orientation","normalize","m","u","d","ofType","y","style","extent","initialize","addHandles","_computeExtent","pending","dimensions","spatialReference","reduce","push","waitComputeExtent","Promise","resolve","geometries","fromPoint","union","clear","removeAll","types","key","base","typeMap","simple","f","operationalLayerType","source","opacity","load","addResolvingPromise","fullExtent","analysis","writeDimensions","filter","map","toJSON","read","ignoreOrigin","origins","service"],"sourceRoot":""}