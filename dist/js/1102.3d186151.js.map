{"version":3,"file":"js/1102.3d186151.js","mappings":"8PAI6E,SAASA,EAAEC,EAAED,GAAG,OAAOA,EAAEE,KAAKD,EAAEE,QAAQ,CAACA,OAAOF,EAAEE,OAAOC,OAAO,IAAIC,EAAAA,GAAEJ,EAAEG,QAAQ,C,qCCAwL,MAAME,EAAE,aAAMC,CAAQF,GAAG,MAAMG,EAAEC,EAAEJ,GAAGK,GAAEC,EAAAA,EAAAA,IAAEH,GAAGP,EAAE,CAACO,EAAEI,KAAKT,QAAQ,MAAM,CAACU,OAAOC,EAAEJ,EAAET,GAAGc,aAAad,EAAE,CAAC,oCAAMe,CAA+BR,GAAG,MAAMG,EAAEF,EAAED,GAAGS,GAAEhB,EAAAA,EAAAA,IAAEU,EAAEC,KAAKD,EAAEO,gBAAgBP,EAAEQ,QAAQR,EAAES,eAAeC,GAAEX,EAAAA,EAAAA,GAAEO,EAAEK,EAAEC,GAAGjB,EAAE,GAAG,MAAM,CAACO,OAAOR,EAAEgB,EAAEG,QAAQC,cAAcnB,GAAGS,aAAaT,EAAE,CAAC,0BAAMoB,CAAqBlB,GAAG,MAAMG,EAAEF,EAAED,GAAGS,GAAEhB,EAAAA,EAAAA,IAAEU,EAAEC,KAAKD,EAAEO,gBAAgBP,EAAEQ,QAAQR,EAAES,eAAeC,GAAEX,EAAAA,EAAAA,GAAEO,EAAEU,EAAEJ,GAAGjB,EAAE,GAAG,MAAM,CAACO,OAAOR,EAAEgB,EAAEG,QAAQC,cAAcnB,GAAGS,aAAaT,EAAE,EAAE,SAASG,EAAEJ,GAAG,MAAM,CAACO,KAAKJ,EAAAA,GAAEoB,WAAWvB,EAAEwB,YAAYV,QAAQ,gBAAgBd,EAAEyB,YAAY,IAAIC,YAAY1B,EAAEc,SAAS,gBAAgBd,EAAEyB,YAAY,IAAIE,YAAY3B,EAAEc,SAASd,EAAEc,QAAQC,cAAcf,EAAEe,cAAca,eAAe5B,EAAE4B,eAAef,gBAAgBb,EAAEa,gBAAgB,CAAC,SAASJ,EAAEN,EAAEE,GAAwF,OAArFA,EAAER,KAAKM,EAAEgB,QAAQU,QAAQC,QAAQhC,QAAQO,EAAER,KAAKM,EAAE4B,WAAWF,QAAQC,QAAQhC,QAAc,CAACqB,QAAQ,CAACC,cAAcpB,EAAEG,EAAEgB,QAAQC,cAAcf,GAAGwB,QAAQ,CAACC,QAAQ3B,EAAEgB,QAAQU,QAAQC,QAAQhC,SAASiC,WAAW,CAACX,cAAcpB,EAAEG,EAAE4B,WAAWX,cAAcf,GAAGwB,QAAQ,CAACC,QAAQ3B,EAAE4B,WAAWF,QAAQC,QAAQhC,SAASkC,kBAAkB7B,EAAE6B,kBAAkB,CAAC,MAAMrC,EAAEsC,QAAAA,CAASjC,GAAG,OAAOY,EAAAA,GAAEsB,aAAalC,EAAE,CAACmC,IAAAA,CAAKnC,EAAEG,GAAG,OAAOH,EAAEoC,MAAM,EAAEjC,EAAE,CAACkC,KAAAA,CAAMrC,EAAEG,EAAEE,GAAGL,EAAEsC,UAAUC,OAAOpC,EAAEE,EAAEiC,WAAWtC,EAAEwC,UAAUD,OAAOpC,EAAEE,EAAEmC,UAAU,EAAE,MAAMC,EAAER,QAAAA,CAASjC,GAAG,OAAOgB,EAAAA,GAAEkB,aAAalC,EAAE,CAACmC,IAAAA,CAAKnC,EAAEG,GAAG,OAAOH,EAAEoC,MAAM,EAAEjC,EAAE,CAACkC,KAAAA,CAAMrC,EAAEG,EAAEE,GAAGL,EAAEsC,UAAUC,OAAOpC,EAAEE,EAAEiC,WAAWtC,EAAEwC,UAAUD,OAAOpC,EAAEE,EAAEmC,WAAWxC,EAAE0C,eAAeC,IAAIxC,EAAEE,EAAEqC,eAAe,EAAE,MAAMpB,EAAE,IAAI3B,EAAEsB,EAAE,IAAIwB,EAAEvB,EAAE,CAACe,SAASA,IAAI,KAAKI,MAAMA,OAAOF,KAAKA,IAAI,K","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/views/3d/support/buffer/workerHelper.js","webpack://sun-glare-project/./node_modules/@geoscene/core/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{PackedLayout as e,InterleavedLayout as r}from\"./InterleavedLayout.js\";function u(r,u){return u.push(r.buffer),{buffer:r.buffer,layout:new e(r.layout)}}function t(e){return new r(e.layout).createView(e.buffer)}export{u as packInterleavedBuffer,t as unpackInterleavedBuffer};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{packInterleavedBuffer as e}from\"../../../support/buffer/workerHelper.js\";import{EdgeInputBufferLayout as t}from\"./bufferLayouts.js\";import{extractEdges as n}from\"./edgePreprocessing.js\";import{extract as s,extractEdgeInformation as r,extractEdgeLocationsLayout as i,extractComponentsEdgeLocationsLayout as a}from\"./edgeProcessing.js\";class o{async extract(e){const t=c(e),n=s(t),r=[t.data.buffer];return{result:l(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,p,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}async extractEdgeLocations(t){const s=c(t),i=r(s.data,s.skipDeduplicate,s.indices,s.indicesLength),a=n(i,f,g),o=[];return{result:e(a.regular.instancesData,o),transferList:o}}}function c(e){return{data:t.createView(e.dataBuffer),indices:\"Uint32Array\"===e.indicesType?new Uint32Array(e.indices):\"Uint16Array\"===e.indicesType?new Uint16Array(e.indices):e.indices,indicesLength:e.indicesLength,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}}function l(t,n){n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer);return{regular:{instancesData:e(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:e(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}class u{allocate(e){return i.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1)}}class d{allocate(e){return a.createBuffer(e)}trim(e,t){return e.slice(0,t)}write(e,t,n){e.position0.setVec(t,n.position0),e.position1.setVec(t,n.position1),e.componentIndex.set(t,n.componentIndex)}}const f=new u,p=new d,g={allocate:()=>null,write:()=>{},trim:()=>null};export{o as default};"],"names":["u","r","push","buffer","layout","e","o","extract","t","c","n","s","data","result","l","transferList","extractComponentsEdgeLocations","i","skipDeduplicate","indices","indicesLength","a","p","g","regular","instancesData","extractEdgeLocations","f","createView","dataBuffer","indicesType","Uint32Array","Uint16Array","writerSettings","lodInfo","lengths","silhouette","averageEdgeLength","allocate","createBuffer","trim","slice","write","position0","setVec","position1","d","componentIndex","set"],"sourceRoot":""}