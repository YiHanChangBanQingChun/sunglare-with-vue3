{"version":3,"file":"js/lu-jing-gui-hua.903c4f6c.js","mappings":"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","sources":["webpack://sun-glare-project/./src/views/RouteplanningView.vue","webpack://sun-glare-project/./src/views/RouteplanningView.vue?c721"],"sourcesContent":["<template>\r\n  <!-- 输入了起点和终点之后,还没有摁查询路径的画面 -->\r\n  <div class=\"lu-jing-gui-hua\">\r\n    <!-- 搜索框 -->\r\n    <!-- 外层容器 -->\r\n    <div class=\"search-containers\">\r\n      <!-- 交换的侧边栏 -->\r\n      <div class=\"revert-containers\">\r\n        <div class=\"car\"><img src=\"https://wx3.sinaimg.cn/orj360/008tIcISgy1hsgyr8gzsjj300o00odfl.jpg\"></div>\r\n        <div class=\"swap-action\">\r\n          <!-- 绑定 swap 方法到点击事件 -->\r\n          <button @click=\"swap\" title=\"切换起终点\">\r\n            <img src=\"https://wx1.sinaimg.cn/orj360/008tIcISgy1hsiz7qtw48j301s01sq2p.jpg\" alt=\"revert\" style=\"width: 22px; height: 25px;\">\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- 搜索起点的容器 -->\r\n      <div class=\"search-container start\">\r\n        <!-- 图片 -->\r\n        <div class=\"search-icon-wrapper\">\r\n          <img src=\"https://wx1.sinaimg.cn/orj360/008tIcISgy1hsgyr8gv8dj300f00f0oh.jpg\" alt=\"pink\">\r\n        </div>\r\n        <!-- 输入框 -->\r\n        <input type=\"text\" v-model=\"searchQueryStart\" @input=\"onSearchInputChange($event, true)\" placeholder=\"请输入起点\" class=\"search-box search-box-start\"/>\r\n        <!-- 搜索框内部的删除图片 -->\r\n        <span class=\"search-box-img\">\r\n          <div class=\"delete\" title=\"清空\" @click=\"clc1\">\r\n            <img src=\"https://wx2.sinaimg.cn/orj360/008tIcISgy1hsnss2ckv4j300k00k0m1.jpg\" alt=\"delete1\">\r\n          </div>\r\n        </span>\r\n        <!-- 修正后的起点搜索结果展示 -->\r\n        <div class=\"search-results\" v-if=\"searchResults.length && searchQueryStart\" ref=\"searchResultsStart\">\r\n    <ul>\r\n      <li v-for=\"(result, index) in searchResults\" :key=\"index\" :class=\"{ 'highlighted': index === highlightedIndex }\" @click=\"selectResult(result, true)\">\r\n        {{ result.name }}\r\n      </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n      <!-- 搜索终点的容器 -->\r\n      <div class=\"search-container end\">\r\n        <!-- 图片容器 -->\r\n        <div class=\"search-icon-wrapper\">\r\n          <img src=\"https://wx4.sinaimg.cn/orj360/008tIcISgy1hsgyr8got8j300f00f0o9.jpg\" alt=\"green\">\r\n        </div>\r\n        <!-- 输入框 -->\r\n        <input type=\"text\" v-model=\"searchQueryEnd\" @input=\"onSearchInputChange($event, false)\" placeholder=\"请输入终点\" class=\"search-box search-box-end\"/>\r\n         <!-- 搜索框内部的删除图片 -->\r\n        <span class=\"search-box-img\">\r\n          <div class=\"delete\" title=\"清空\" @click=\"clc2\">\r\n            <img src=\"https://wx2.sinaimg.cn/orj360/008tIcISgy1hsnss2ckv4j300k00k0m1.jpg\" alt=\"delete1\">\r\n          </div>\r\n        </span>\r\n        <!-- 修正后的终点搜索结果展示 -->\r\n        <div class=\"search-results\" v-if=\"searchResultsEnd.length && searchQueryEnd\" ref=\"searchResultsEnd\">\r\n    <ul>\r\n      <li v-for=\"(result, index) in searchResultsEnd\" :key=\"index\" :class=\"{ 'highlighted': index === highlightedIndex }\" @click=\"selectResult(result, false)\">\r\n        {{ result.name }}\r\n      </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"search-action\" @click=\"onSearch\" title=\"搜索\">\r\n          <img src=\"https://wx4.sinaimg.cn/mw2000/008tIcISgy1hsq1fw9ob9j300w00w3ya.jpg\" alt=\"search\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- 地图展示 -->\r\n  <div id=\"viewDiv\"></div>\r\n  <!-- 时间选择框和路径展示框 -->\r\n  <div class=\"main-container\">\r\n    <!-- 时间选择框 -->\r\n    <div class=\"choose-time\">\r\n      <div class=\"form-group\">\r\n        <label for=\"date-input\">选择日期：</label>\r\n        <input id=\"date-input\" type=\"date\" v-model=\"selectedDate\" :min=\"minDate\" :max=\"maxDate\" :class=\"{ 'invalid-date': isDateDisabled(selectedDate) }\" @change=\"handleDateChange\">\r\n        <label for=\"time-input\">选择时间：</label>\r\n        <input id=\"time-input\" type=\"time\" v-model=\"formattedTime\" @input=\"onTimeInputChange\" step=\"600\"> <!-- 600秒 = 10分钟 -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- 分别显示起点和终点选中结果的代码 -->\r\n   <!-- 这个是初始调试用的，这个界面不跳转时是可以用的，目前已经荒废\r\n  <div v-if=\"selectedResultStart\" class=\"selected-result-start\">\r\n    <h2>起点搜索结果:</h2>\r\n    <p>地址: {{ selectedResultStart.address }}</p>\r\n    <p>百度索引: {{ selectedResultStart.baidu_index }}</p>\r\n    <p>百度纬度: {{ selectedResultStart.baidu_latitude }}</p>\r\n    <p>百度经度: {{ selectedResultStart.baidu_longitude }}</p>\r\n    <p>ID: {{ selectedResultStart.id }}</p>\r\n    <p>标签: {{ selectedResultStart.label }}</p>\r\n    <p>名称: {{ selectedResultStart.name }}</p>\r\n    <p>WGS84纬度: {{ selectedResultStart.wgs84_latitude }}</p>\r\n    <p>WGS84经度: {{ selectedResultStart.wgs84_longitude }}</p>\r\n  </div>\r\n  <div v-if=\"selectedResultEnd\" class=\"selected-result-end\">\r\n    <h2>终点搜索结果:</h2>\r\n    <p>地址: {{ selectedResultEnd.address }}</p>\r\n    <p>百度索引: {{ selectedResultEnd.baidu_index }}</p>\r\n    <p>百度纬度: {{ selectedResultEnd.baidu_latitude }}</p>\r\n    <p>百度经度: {{ selectedResultEnd.baidu_longitude }}</p>\r\n    <p>ID: {{ selectedResultEnd.id }}</p>\r\n    <p>标签: {{ selectedResultEnd.label }}</p>\r\n    <p>名称: {{ selectedResultEnd.name }}</p>\r\n    <p>WGS84纬度: {{ selectedResultEnd.wgs84_latitude }}</p>\r\n    <p>WGS84经度: {{ selectedResultEnd.wgs84_longitude }}</p>\r\n  </div> -->\r\n</template>\r\n\r\n<script>\r\n// 确保这里的路径是正确的，根据你的项目结构和npm包的安装情况\r\nimport Map from '@geoscene/core/Map.js'\r\nimport MapView from '@geoscene/core/views/MapView.js' // 确保这个路径正确，或者检查是否正确安装了相关npm包\r\nimport SpatialReference from '@geoscene/core/geometry/SpatialReference.js'\r\n// import Point from '@geoscene/core/geometry/Point.js'\r\nimport TileInfo from '@geoscene/core/layers/support/TileInfo.js'\r\n// import { search } from 'core-js/fn/symbol'\r\nimport { nextTick } from 'vue'\r\n// @ is an alias to /src\r\nexport default {\r\n  name: 'RouteplanningView',\r\n  data () {\r\n    return {\r\n      searchQueryStart: '',\r\n      searchQueryEnd: '',\r\n      highlightedIndex: -1,\r\n      searchResults: [],\r\n      searchResultsEnd: [],\r\n      selectedResultStart: null,\r\n      selectedResultEnd: null,\r\n      selectedDate: '', // 用户选择的日期\r\n      selectedTime: ''// 用户选择的时间\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initMap()\r\n    this.selectedDate = new Date().toISOString().substring(0, 10)\r\n    this.selectedTime = new Date().toISOString().substring(11, 16)\r\n    // 更新时间选择器为当前时间\r\n    this.updateTime()\r\n\r\n    // 设置定时器，每隔1分钟更新时间\r\n    setInterval(() => { this.updateTime() }, 60000)\r\n    window.addEventListener('keydown', this.handleKeydown)\r\n  },\r\n  beforeUnmount () {\r\n    window.removeEventListener('keydown', this.handleKeydown)\r\n  },\r\n  computed: {\r\n    minDate () {\r\n      return '2024-01-01'\r\n    },\r\n    maxDate () {\r\n      return '2024-12-31'\r\n    },\r\n    formattedTime () {\r\n      // 格式化时间为10分钟间隔\r\n      if (!this.selectedTime) return ''\r\n      const [hours, minutes] = this.selectedTime.split(':').map(Number)\r\n      const roundedMinutes = Math.floor(minutes / 10) * 10\r\n      return `${String(hours).padStart(2, '0')}:${String(roundedMinutes).padStart(2, '0')}`\r\n    }\r\n  },\r\n  methods: {\r\n    onTimeInputChange (event) {\r\n      const value = event.target.value\r\n      const [hours, minutes] = value.split(':').map(Number)\r\n      const roundedMinutes = Math.floor(minutes / 10) * 10\r\n      this.selectedTime = `${String(hours).padStart(2, '0')}:${String(roundedMinutes).padStart(2, '0')}`\r\n    },\r\n    isDateDisabled (date) {\r\n      if (!date) return false\r\n      const selected = new Date(date)\r\n      const month = selected.getMonth() + 1 // 月份从0开始\r\n      const day = selected.getDate()\r\n\r\n      if (month >= 1 && month <= 7 && day !== 15) {\r\n        return true\r\n      }\r\n      if (month === 8 && day <= 20) {\r\n        return true\r\n      }\r\n      if (month >= 10 && month <= 12 && day !== 15) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    handleDateChange (event) {\r\n      const date = event.target.value\r\n      if (this.isDateDisabled(date)) {\r\n        alert('选择的日期未进行模拟，请选择其他日期。可选日期为，1-7月的15日，8月20日-9月30日，10-12月的15日。')\r\n        this.selectedDate = ''\r\n      }\r\n    },\r\n    handleKeydown (event) {\r\n      if (this.searchResults.length && this.searchQueryStart) {\r\n        switch (event.key) {\r\n          case 'Escape':\r\n            this.searchResults = []\r\n            break\r\n          case 'Tab':\r\n            event.preventDefault()\r\n            this.highlightedIndex = (this.highlightedIndex + 1) % this.searchResults.length\r\n            nextTick(() => {\r\n              const highlightedElement = this.$refs.searchResultsStart.querySelector('li.highlighted')\r\n              if (highlightedElement) {\r\n                highlightedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' })\r\n              }\r\n            })\r\n            break\r\n          case 'Enter':\r\n            if (this.highlightedIndex >= 0 && this.highlightedIndex < this.searchResults.length) {\r\n              this.selectResult(this.searchResults[this.highlightedIndex], true)\r\n            }\r\n            break\r\n        }\r\n      } else if (this.searchResultsEnd.length && this.searchQueryEnd) {\r\n        switch (event.key) {\r\n          case 'Escape':\r\n            this.searchResultsEnd = []\r\n            break\r\n          case 'Tab':\r\n            event.preventDefault()\r\n            this.highlightedIndex = (this.highlightedIndex + 1) % this.searchResultsEnd.length\r\n            nextTick(() => {\r\n              const highlightedElement = this.$refs.searchResultsEnd.querySelector('li.highlighted')\r\n              if (highlightedElement) {\r\n                highlightedElement.scrollIntoView({ block: 'nearest', behavior: 'smooth' })\r\n              }\r\n            })\r\n            break\r\n          case 'Enter':\r\n            if (this.highlightedIndex >= 0 && this.highlightedIndex < this.searchResultsEnd.length) {\r\n              this.selectResult(this.searchResultsEnd[this.highlightedIndex], false)\r\n            }\r\n            break\r\n        }\r\n      }\r\n    },\r\n    updateTime () {\r\n      const now = new Date()\r\n      this.selectedTime = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`\r\n    },\r\n    // 清空搜索框\r\n    clc1 () {\r\n      // 清空搜索框1\r\n      this.searchQueryStart = ''\r\n    },\r\n    // 清空搜索框2\r\n    clc2 () {\r\n      this.searchQueryEnd = ''\r\n    },\r\n    // 初始化地图\r\n    initMap () {\r\n      const map = new Map({\r\n        basemap: 'tianditu-vector'\r\n      })\r\n      const spatialReference = new SpatialReference({\r\n        wkid: 4326\r\n      })\r\n      const tileInfo = TileInfo.create({\r\n        spatialReference,\r\n        numLODs: 32\r\n      })\r\n      this.createMapView(map, tileInfo)\r\n    },\r\n    // 处理搜索框输入事件\r\n    onSearchInputChange (event, isStart) {\r\n      const query = event.target.value\r\n      const searchResultsField = isStart ? 'searchResults' : 'searchResultsEnd'\r\n      if (query.includes(\"'\")) {\r\n        console.log('输入法临时输入，不发送请求')\r\n        return\r\n      }\r\n      if (query.length >= 2) {\r\n        fetch(`${process.env.VUE_APP_API_URL}/api/search`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ searchQueryStart: query })\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            this[searchResultsField] = data\r\n          })\r\n          .catch((error) => {\r\n            console.error('错误:', error)\r\n          })\r\n      } else {\r\n        this[searchResultsField] = []\r\n      }\r\n    },\r\n    selectResult (result, isStart = true) {\r\n      console.log('用户选择了搜索结果:', result)\r\n      const simplifiedResult = {\r\n        name: result.name,\r\n        address: result.address,\r\n        wgs84_latitude: result.wgs84_latitude,\r\n        wgs84_longitude: result.wgs84_longitude,\r\n        location: [result.wgs84_longitude, result.wgs84_latitude],\r\n        baidu_index: result.baidu_index,\r\n        baidu_latitude: result.baidu_latitude,\r\n        baidu_longitude: result.baidu_longitude,\r\n        id: result.id,\r\n        label: result.label\r\n      }\r\n      // 根据isStart的值，将选择的结果设置为起点或终点\r\n      if (isStart) {\r\n        this.selectedResultStart = simplifiedResult\r\n        this.searchQueryStart = simplifiedResult.name\r\n        this.searchResults = []\r\n        // 跳转到结果页面，带上起点信息\r\n        this.$router.push({\r\n          path: '/lu-jing-gui-hua/intermediate-page',\r\n          query: {\r\n            start: JSON.stringify(simplifiedResult),\r\n            date: this.selectedDate,\r\n            time: this.selectedTime\r\n          }\r\n        })\r\n      } else {\r\n        this.selectedResultEnd = simplifiedResult\r\n        this.searchQueryEnd = simplifiedResult.name\r\n        this.searchResultsEnd = []\r\n        // 跳转到结果页面，带上终点信息\r\n        this.$router.push({\r\n          path: '/lu-jing-gui-hua/intermediate-page',\r\n          query: {\r\n            end: JSON.stringify(simplifiedResult),\r\n            date: this.selectedDate,\r\n            time: this.selectedTime\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 处理搜索按钮点击事件\r\n    onSearch () {\r\n      // 检查是否两个结果都已选择\r\n      if (this.selectedResultStart && this.selectedResultEnd) {\r\n        // 构造包含location属性的起点和终点对象\r\n        const startWithLocation = {\r\n          ...this.selectedResultStart,\r\n          location: [this.selectedResultStart.wgs84_longitude, this.selectedResultStart.wgs84_latitude]\r\n        }\r\n        const endWithLocation = {\r\n          ...this.selectedResultEnd,\r\n          location: [this.selectedResultEnd.wgs84_longitude, this.selectedResultEnd.wgs84_latitude]\r\n        }\r\n        // 使用Vue Router跳转到结果页面，并传递起点和终点信息\r\n        this.$router.push({\r\n          path: '/lu-jing-gui-hua/result',\r\n          query: {\r\n            start: JSON.stringify(startWithLocation),\r\n            end: JSON.stringify(endWithLocation),\r\n            date: this.selectedDate,\r\n            time: this.selectedTime\r\n          }\r\n        })\r\n      } else {\r\n        // 如果起点或终点未选择，可以在这里显示提示信息\r\n        alert('请确保起点和终点都已选择。')\r\n      }\r\n    },\r\n\r\n    // 创建地图视图\r\n    createMapView (map, tileInfo) {\r\n      const mapView = new MapView({\r\n        map: map,\r\n        center: [114.3, 30.7], // 使用中心点坐标\r\n        zoom: 4,\r\n        container: 'viewDiv',\r\n        constraints: {\r\n          geometry: {\r\n            type: 'extent',\r\n            xmin: 113.6,\r\n            ymin: 29.9,\r\n            xmax: 115.0,\r\n            ymax: 31.3\r\n          },\r\n          minScale: 500,\r\n          maxScale: 2000000,\r\n          rotationEnabled: false,\r\n          lods: tileInfo.lods,\r\n          snapToZoom: false\r\n        }\r\n      })\r\n      mapView.ui.move('zoom', 'bottom-left') // 移动缩放控件到左下角\r\n      return mapView\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/*之后要自己调样式的大小，这个仅作参考*/\r\n#viewDiv {\r\n  position: absolute; /* 固定定位 */\r\n  top: 0; /* 紧贴网页顶部 */\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height:100%; /* 将高度设置为视口高度的100% */\r\n  width: 100%; /* 将宽度设置为视口宽度的100% */\r\n  z-index: -1; /* 设置较低的z-index值，使其在App.vue的下部分 */\r\n  margin: auto;\r\n}\r\n\r\n.lu-jing-gui-hua {\r\n  position: fixed; /* 固定定位 */\r\n  display: flex;\r\n  flex-direction: column; /* 使子元素垂直排列,使大框和revert小框水平分布 */\r\n  z-index: 2;\r\n}\r\n\r\n.search-containers {\r\n  display: flex;\r\n  flex-direction: column; /* 保持垂直排列 */\r\n  justify-content: flex-start; /* 从顶部开始排列 */\r\n  align-items: flex-start; /* 子元素沿交叉轴的开始边缘对齐，即顶部对齐 */\r\n  width: 357px; /* 设置一个固定宽度 */\r\n  height:85px;\r\n  padding-right: 10px; /* 根据需要调整，确保搜索框周围有足够空间 */\r\n  padding-left:32px;/*整个搜索框的左边空间*/\r\n  padding-top: 6px;\r\n  background: #FFFFFF; /* 应用深色毛玻璃效果 */\r\n  -webkit-backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n  backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n  border-top-left-radius: 10px; /* 设置圆角 */\r\n  border-top-right-radius: 10px;\r\n  border: 1px solid rgba(255, 255, 255, 0.45); /* 添加边框 */\r\n  position: absolute; /* 添加相对定位 */\r\n}\r\n\r\n/* 移除左右外边距 */\r\n.search-container.start,\r\n.search-container.end {\r\n  position: relative; /* 设置相对定位 */\r\n  margin-top: 5px;\r\n  padding-left: 0px; /* 留出图片的空间 */\r\n  margin-left: 24px; /* 根据侧边栏宽度来设置左边距 */\r\n}\r\n/* 更改 输入字体的框 的样式 */\r\n.search-box {\r\n  position: relative; /* 允许绝对定位的子元素 */\r\n  padding: 8px 8px; /* 初始内边距 */\r\n  border: 2px solid #ccc;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  flex-grow: 1;\r\n  box-sizing: border-box;\r\n  text-indent: 0px; /* 初始文本缩进，保持文本在左侧 */\r\n  width: 303px; /* 使搜索框填充容器 */\r\n  display: flex;\r\n  align-items: center; /* 垂直居中对齐 */\r\n}\r\n\r\n/* 鼠标悬停时只改变边框颜色，不改变宽度 */\r\n.search-box:hover {\r\n  border-color: blue; /* 改变边框颜色而不是宽度 */\r\n}\r\n\r\n.search-box:focus {\r\n  border-width: 2px;\r\n  border-color: blue;\r\n  text-indent: 0px; /* 聚焦时减少文本缩进 */\r\n}\r\n\r\n.search-results {\r\n  position: absolute;\r\n  z-index: 9999 !important; /* !important可以使这个css代码优先执行，让这个框显示为最高层级 */\r\n  top: 105%; /* 确保列表紧贴搜索框的底部 */\r\n  left: 0;\r\n  width: 100%; /* 使列表宽度与搜索框相同 */\r\n  background-color: white; /* 或其他背景色，确保列表可见 */\r\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* 可选：添加一些阴影以提升视觉效果 */\r\n  max-height: 200px; /* 限制最大高度，5行大约160px，根据实际行高调整 */\r\n  overflow-y: auto; /* 超出部分显示滚动条 */\r\n  display: flex;\r\n  border-radius: 10px; /* 添加圆角 */\r\n}\r\n\r\n.search-results li:hover {\r\n  text-decoration: underline; /* 添加下划线 */\r\n  background-color: #f0f0f0; /* 更改背景颜色以提高对比度 */\r\n  cursor: pointer; /* 更改鼠标指针为手形，更明显地指示可点击 */\r\n}\r\n\r\n/* 查询按钮的容器样式 */\r\n.search-action {\r\n  display: flex;\r\n  position: absolute; /* 绝对定位 */\r\n  margin-left: 328px; /* 与左边界保持一定距离 */\r\n  top: 13px; /* 与底部保持一定距离 */\r\n  border: 2px solid  #ccc;\r\n  justify-content: flex-start;\r\n  border-radius: 10px;\r\n  cursor: pointer; /* 鼠标悬停时显示指针 */\r\n}\r\n\r\n/* 将CSS链接转换为@import语句 */\r\n@import url(\"https://js.geoscene.cn/4.27/@geoscene/core/assets/geoscene/themes/light/main.css\");\r\n\r\n.car{\r\n  padding-top:3px;\r\n  left:1px;\r\n}\r\n\r\n/* 交换的容器样式 */\r\n.revert-containers{\r\n  position: absolute; /* 或使用 fixed，根据需要 */\r\n  left: 0; /* 侧边栏靠在最左边 */\r\n  top: 0; /* 根据需要调整垂直位置 */\r\n  width: 20px;\r\n  height:85px;\r\n  padding-left:5px;\r\n  background-color: #FFFFFF;\r\n  border-radius: 10px; /* 设置圆角 */\r\n  -webkit-backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n  backdrop-filter: blur(25px); /* 应用毛玻璃效果 */\r\n}\r\n.swap-action button {\r\n  display:flex;\r\n  flex-direction: row; /* 保持水平排列 */\r\n  justify-content: flex-start; /* 水平排列的子元素靠左对齐 */\r\n  position: absolute;\r\n  left: 5px; /* 图标距离父容器左边的距离 */\r\n  top: 50%; /* 垂直居中对齐 */\r\n  transform: translateY(-50%); /* 使用transform属性垂直居中 */\r\n  border:white;/* 边框颜色设置为白色 */\r\n  padding:0px;\r\n  background-color: #FFFFFF;\r\n  cursor: pointer; /* 鼠标悬停时显示指针 */\r\n}\r\n\r\n/* 搜索框框前面的圆圈的样式 */\r\n.search-icon-wrapper {\r\n  display: inline-block; /* 或者使用 flex 布局 */\r\n  position: absolute; /* 绝对定位 */\r\n  left: -20px; /* 根据需要调整 */\r\n  top: 50%;\r\n  transform: translateY(-50%); /* 垂直居中对齐 */\r\n}\r\n\r\n/* 删除logo的样式 */\r\n.search-box-img {/* 作用：使得 删除logo 在搜索框内 */\r\n  display: flex;\r\n  position: absolute;\r\n  left:278px;\r\n  top: 50%;\r\n  transform: translateY(-35%); /* 垂直居中对齐 */\r\n  padding-inline-end: 0px;\r\n}\r\n.delete{\r\n  cursor: pointer; /* 鼠标悬停时显示指针 */\r\n}\r\n.delete img {\r\n  pointer-events: none; /* 点击图片时不会影响输入框 （记得改成删除这个框框内容）*/\r\n}\r\n\r\n/* 搜索logo的样式 */\r\n.search-action img {\r\n  transform: scale(0.85); /* 将图片缩放到原始尺寸的50% */\r\n}\r\n.search-action:hover{\r\n  border-color: blue;\r\n}\r\n\r\n.main-container{\r\n  position: fixed;\r\n  z-index: 1;\r\n}\r\n\r\n.main-container{\r\n  position: absolute;\r\n  z-index: 1;\r\n}\r\n\r\n/* 选择时间框的样式 */\r\n.choose-time{\r\n  transform: none;\r\n  position: absolute;\r\n  display: block;\r\n  width: 390px;\r\n  height: 30px;\r\n  border-bottom-left-radius: 10px; /* 设置圆角 */\r\n  border-bottom-right-radius: 10px;\r\n  background-color:#FFFFFF;\r\n  margin-top: 90px;/* 控制时间选择框在网页垂直方向的位置 */\r\n  padding-left: 10px;\r\n  padding-top: 3px;\r\n}\r\n.form-group label,\r\n.form-group input {\r\n  margin-right: 10px; /* 右侧外边距 */\r\n}\r\n\r\n.search-results li.highlighted {\r\n  background-color: #f0f0f0; /* 高亮背景颜色 */\r\n}\r\n</style>\r\n","import { render } from \"./RouteplanningView.vue?vue&type=template&id=70d27554\"\nimport script from \"./RouteplanningView.vue?vue&type=script&lang=js\"\nexport * from \"./RouteplanningView.vue?vue&type=script&lang=js\"\n\nimport \"./RouteplanningView.vue?vue&type=style&index=0&id=70d27554&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","style","_hoisted_6","_hoisted_11","key","ref","_hoisted_18","_hoisted_22","id","for","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","args","_ctx","swap","title","_hoisted_7","_hoisted_8","_hoisted_9","type","$event","$data","searchQueryStart","onInput","$options","onSearchInputChange","placeholder","_hoisted_10","clc1","_hoisted_12","searchResults","length","_hoisted_13","_renderList","result","index","_normalizeClass","highlightedIndex","selectResult","name","_hoisted_14","_createCommentVNode","_hoisted_15","_hoisted_16","searchQueryEnd","_hoisted_17","clc2","_hoisted_19","searchResultsEnd","_hoisted_20","_hoisted_21","onSearch","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","selectedDate","min","minDate","max","maxDate","isDateDisabled","onChange","handleDateChange","_hoisted_29","_hoisted_30","formattedTime","onTimeInputChange","step","data","selectedResultStart","selectedResultEnd","selectedTime","mounted","this","initMap","Date","toISOString","substring","updateTime","setInterval","window","addEventListener","handleKeydown","beforeUnmount","removeEventListener","computed","hours","minutes","split","map","Number","roundedMinutes","Math","floor","String","padStart","methods","event","value","target","date","selected","month","getMonth","day","getDate","alert","preventDefault","nextTick","highlightedElement","$refs","searchResultsStart","querySelector","scrollIntoView","block","behavior","now","getHours","getMinutes","Map","basemap","spatialReference","SpatialReference","wkid","tileInfo","TileInfo","create","numLODs","createMapView","isStart","query","searchResultsField","includes","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","catch","error","simplifiedResult","address","wgs84_latitude","wgs84_longitude","location","baidu_index","baidu_latitude","baidu_longitude","label","$router","push","path","start","time","end","startWithLocation","endWithLocation","mapView","MapView","center","zoom","container","constraints","geometry","xmin","ymin","xmax","ymax","minScale","maxScale","rotationEnabled","lods","snapToZoom","ui","move","__exports__","render"],"sourceRoot":""}