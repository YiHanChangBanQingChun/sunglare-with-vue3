{"version":3,"file":"js/6121.b9102ad6.js","mappings":"0aAIyF,MAAMA,EAAEC,WAAAA,CAAYC,EAAEF,GAAGG,KAAKC,OAAO,IAAIC,EAAAA,EAAEH,GAAGC,KAAKG,cAAc,IAAID,EAAAA,EAAEL,EAAE,CAACO,GAAAA,CAAIF,EAAEL,GAAG,MAAMQ,EAAE,GAAGR,EAAES,OAAOJ,IAAIK,EAAEP,KAAKC,OAAOG,IAAIC,GAAG,GAAGE,EAAE,OAAOA,EAAE,QAAG,IAASP,KAAKG,cAAcC,IAAIC,GAAG,OAAO,KAAK,IAAI,MAAME,EAAER,EAAAA,YAAES,OAAON,EAAEL,GAAG,OAAOG,KAAKC,OAAOQ,IAAIJ,EAAEE,GAAGA,CAAC,CAAC,MAAM,OAAOP,KAAKG,cAAcM,IAAIJ,EAAE,MAAM,IAAI,CAAC,ECAhO,MAAMK,EAAE,IAAIL,EAAE,GAAG,KAAKE,EAAE,kCAAkCL,EAAE,OAAOS,EAAE,IAAIC,EAAAA,EAAE,CAACC,oBAAoB,WAAWC,EAAE,IAAIF,EAAAA,EAAE,CAACG,iBAAiB,MAAMC,0BAA0B,gBAAgBC,qBAAqB,UAAUC,oBAAoB,SAASC,oBAAoB,SAASC,kBAAkB,SAASC,EAAE,IAAIT,EAAAA,EAAE,CAACU,kBAAkB,SAASC,EAAE,IAAIX,EAAAA,EAAE,CAACY,kBAAkB,OAAOC,sBAAsB,cAAcC,EAAE,IAAIC,IAAI,IAAIb,EAAEc,cAAcP,EAAEO,cAAcjB,EAAEiB,cAAcL,EAAEK,aAAaC,EAAE,IAAIC,KAAKC,WAAW,QAAQ,CAACC,KAAK,gBAAgBC,OAAO,IAAInB,EAAEoB,aAAab,EAAEa,aAAavB,EAAEuB,aAAaX,EAAEW,YAAY,SAASC,EAAEvB,EAAEP,EAAEK,EAAE,CAAC,GAAG,MAAMR,EAAEkC,EAAExB,EAAEP,GAAG,IAAIH,EAAE,MAAM,IAAIH,EAAAA,EAAEQ,EAAE,yBAAyB,CAAC8B,WAAWzB,IAAI,MAAMD,EAAED,EAAE4B,gBAAgB,aAAa,GAAG5B,EAAE6B,uBAAuBrC,EAAEsC,eAAe,MAAM,IAAIzC,EAAAA,EAAEQ,EAAE,GAAGI,oBAAoB,CAAC0B,WAAWzB,IAAI,GAAGF,EAAE+B,oBAAoBvC,EAAEwC,YAAY,MAAM,IAAI3C,EAAAA,EAAEQ,EAAE,GAAGI,gDAAgD,CAAC0B,WAAWzB,IAAI,OAAOV,EAAEyC,UAAU,CAAC,SAAS9C,EAAEE,EAAEa,EAAEP,GAAG,IAAIO,EAAE,OAAM,EAAG,MAAMF,EAAE,eAAeH,EAAE4B,EAAEvB,EAAEb,EAAE,CAACwC,sBAAqB,EAAGD,eAAe5B,IAAI,OAAOkC,EAAE7C,EAAEQ,EAAE,CAAC+B,eAAe5B,EAAEmC,MAAMxC,IAAIyC,EAAE/C,EAAEQ,EAAE,CAAC+B,eAAe5B,EAAEmC,MAAMxC,KAAI,CAAE,CAAC,SAAS0C,EAAEnC,EAAEP,EAAEH,EAAES,GAAG,IAAIN,EAAE,OAAM,EAAG,MAAMS,EAAE,SAASO,EAAEc,EAAE9B,EAAEO,EAAE,CAAC6B,mBAAkB,EAAGH,eAAexB,IAAI8B,EAAEhC,EAAES,EAAE,CAACiB,eAAexB,EAAE+B,MAAMlC,IAAImC,EAAElC,EAAES,EAAE,CAACiB,eAAexB,EAAE+B,MAAMlC,IAAI,MAAMY,EAAEb,EAAEN,IAAIC,EAAEO,GAAGc,EAAEH,GAAGyB,iBAAiBC,OAAOlD,IAAI,MAAMmD,cAAc7C,EAAE8C,MAAMzC,GAAGX,EAAEQ,EAAEK,EAAER,IAAIM,IAAI0C,KAAK,OAAOlD,EAAEmD,MAAMtD,IAAI,MAAMuD,iBAAiB5C,EAAE6C,cAAcrD,GAAGH,EAAEY,EAAEC,EAAER,IAAIM,IAAI0C,KAAK,OAAOzC,IAAIJ,GAAGL,EAAEsD,cAAcC,SAASpD,CAAC,GAAG,IAAI,IAAIqB,EAAE,MAAM,IAAI3B,EAAAA,EAAEQ,EAAE,2DAA2D,CAACmD,OAAOrD,IAAI,OAAM,CAAE,CAAC,SAAS+B,EAAErC,EAAEa,GAAG,OAAOb,EAAEW,EAAEN,IAAIL,EAAEa,GAAG,IAAI,CAAC,SAASgC,EAAE7C,EAAEa,EAAEP,EAAE,CAAC,GAAGA,EAAEsD,eAAetD,EAAEsD,aAAatD,EAAEiC,eAAe,GAAGjC,EAAEiC,yCAAyC,sBAAsBsB,EAAE7D,EAAEa,GAAG,CAACb,EAAEa,IAAIA,EAAEiD,IAAI9D,IAAIM,EAAE,CAAC,SAASyC,EAAE/C,EAAEa,EAAEP,EAAE,CAAC,GAAGA,EAAEsD,eAAetD,EAAEsD,aAAatD,EAAEiC,eAAe,GAAGjC,EAAEiC,gCAAgCT,gBAAgB,QAAQA,+BAA+B+B,EAAE7D,EAAEa,GAAG,CAACb,EAAEa,KAAKkD,EAAE/D,EAAEa,IAAIP,EAAE,CAAC,SAASuD,EAAEhD,EAAEP,EAAEK,EAAER,EAAE,CAAC,GAAG,MAAMS,EAAET,EAAE6D,mBAAkB,EAAGjD,EAAE,GAAG,IAAI,MAAMf,KAAKM,EAAE,CAAC,MAAMA,EAAEK,EAAEX,EAAEa,GAAG,GAAG,MAAMb,IAAIM,EAAE,GAAGM,EAAE,CAAC,MAAMN,EAAE2D,EAAEjE,GAAG,IAAI6D,EAAEhD,EAAEuB,EAAE9B,EAAEO,EAAE,CAAC2B,sBAAqB,IAAK7B,EAAER,EAAE,CAAC,MAAMmB,GAAG,MAAMT,EAAES,GAAG4C,QAAQ,GAAGrD,GAAGyB,WAAW,MAAMhB,EAAET,GAAGsD,cAAcpD,EAAEqD,QAAQvD,EAAEsD,eAAepD,EAAEqD,KAAKpE,EAAE,CAAC,MAAMe,EAAEqD,KAAKpE,EAAE,CAAC,GAAGe,EAAEsD,OAAO,MAAM,IAAIrE,EAAAA,EAAEQ,EAAEL,EAAEyD,aAAa,CAACO,cAAcpD,EAAE+B,MAAM3C,EAAE2C,OAAO,CAAC,SAASmB,EAAEjE,GAAG,OAAOA,EAAEsE,MAAMnE,GAAG,EAAE,CAAC,SAASoE,EAAEvE,GAAG,OAAOA,EAAEsE,MAAMnE,GAAG,EAAE,CAAC,SAAS4D,EAAE/D,EAAEa,EAAEP,EAAEqB,GAAG,MAAMhB,EAAEE,EAAER,IAAIL,GAAG,QAAQW,IAAIL,EAAEwD,IAAInD,EAAEsB,KAAK,C,4FCA12E,MAAMtB,EAAEZ,WAAAA,CAAYc,EAAEE,EAAEO,GAAGrB,KAAKuE,gBAAgB,IAAIC,IAAIxE,KAAKyE,mBAAmB,IAAID,IAAIxE,KAAK0E,qBAAqB9D,EAAE8D,uBAAsB,EAAG1E,KAAK2E,YAAYtD,EAAErB,KAAK4E,eAAe9D,EAAE,MAAMP,EAAEK,EAAEiE,UAAU,GAAGtE,IAAIA,EAAEuE,SAAS,KAAK,CAAC9E,KAAK6E,UAAUtE,EAAE,IAAIK,EAAE,EAAE,IAAI,MAAME,KAAKP,EAAE,CAAC,MAAMA,EAAEL,EAAEY,GAAGJ,EAAEV,KAAK2E,YAAYvE,IAAIG,GAAGsB,EAAEnB,EAAE,KAAKX,EAAEQ,EAAEc,GAAGE,EAAEb,EAAEA,EAAE0C,KAAK/C,EAAES,IAAI,aAAaF,IAAIZ,KAAKuE,gBAAgBQ,IAAIjE,EAAE,CAACkE,MAAMzD,EAAE0D,OAAOpD,GAAG,CAAC,CAAC,CAACqD,mBAAAA,CAAoBhF,GAAG,OAAOF,KAAK0E,sBAAsBxE,EAAEiF,SAASjF,GAAGF,KAAKoF,cAAclF,KAAKF,KAAKyE,mBAAmBY,MAAMnF,EAAEkE,MAAM,CAACgB,aAAAA,CAAclF,GAAG,MAAMH,EAAEC,KAAKsF,+BAA+BpF,GAAG,OAAOF,KAAKuF,oCAAoCxF,EAAE,CAACyF,aAAAA,CAActF,EAAEG,EAAEO,GAAG,MAAME,EAAEF,EAAEA,EAAEwC,KAAK/C,EAAE,IAAIgB,EAAE,KAAK,OAAOrB,KAAKuE,gBAAgBV,IAAI/C,GAAGO,EAAErB,KAAKuE,gBAAgBnE,IAAIU,IAAImE,OAAOrE,IAAIS,EAAEtB,EAAEM,EAAEL,KAAK2E,aAAa3E,KAAKuE,gBAAgBQ,IAAIjE,EAAE,CAACkE,MAAMlE,EAAEmE,OAAO5D,KAAKT,EAAEZ,KAAK4E,eAAea,aAAavF,EAAEY,GAAGO,GAAGqE,eAAexF,EAAEF,KAAK4E,eAAe,CAACe,aAAAA,CAAczF,EAAEH,GAAG,MAAMM,EAAEN,EAAE6F,kBAAkBhF,EAAEb,EAAE8F,mBAAmB,OAAO3F,EAAE4F,KAAK5F,IAAI,IAAIK,EAAER,EAAEoD,OAAOnD,KAAKwF,cAActF,EAAEH,EAAEoD,MAAMnD,KAAK2E,YAAYvE,IAAIL,EAAEoD,QAAQ,GAAGpD,EAAEgG,SAASxF,EAAE,IAAGO,EAAAA,EAAAA,IAAEP,KAAKR,EAAEiG,kBAAiBlF,EAAAA,EAAAA,IAAEd,KAAKwF,cAActF,EAAEH,EAAEgG,OAAO/F,KAAK2E,YAAYvE,IAAIL,EAAEgG,YAAYhG,EAAEkG,SAAS1F,EAAE,GAAGA,IAAIR,EAAEiG,kBAAiBlF,EAAAA,EAAAA,IAAEd,KAAKwF,cAActF,EAAEH,EAAEkG,OAAOjG,KAAK2E,YAAYvE,IAAIL,EAAEkG,cAAc5F,GAAG6F,OAAOC,SAAS5F,GAAG,CAAC,MAAMO,EAAE,UAAUT,GAAGN,EAAEqG,mBAAmBpG,KAAKwF,cAActF,EAAEH,EAAEqG,mBAAmBpG,KAAK2E,YAAYvE,IAAIL,EAAEqG,qBAAqB,KAAK7F,GAAEc,EAAAA,EAAAA,IAAEd,EAAEF,EAAES,EAAEF,EAAE,CAAC,OAAOL,CAAC,GAAG,CAAC,yBAAM8F,CAAoBnG,EAAEH,EAAEM,EAAES,GAAG,MAAMwF,YAAYjF,SAASd,EAAAA,EAAAA,MAAIG,EAAEW,EAAEkF,sBAAsBxG,GAAGW,SAASW,EAAEmF,2BAA2B,MAAM3E,EAAER,EAAEoF,eAAe1G,GAAGwB,EAAElB,GAAGgB,EAAEqF,YAAYrG,GAAGM,EAAE,CAACgG,OAAO3G,KAAK2E,YAAYgC,QAAQ,OAAOzG,EAAE4F,KAAK5F,IAAI,MAAMH,EAAE,CAAC6G,WAAW5G,KAAK4E,eAAeQ,cAAclF,GAAG2G,MAAMlG,EAAEmG,SAASpG,EAAE,KAAIE,EAAAA,EAAAA,IAAEE,EAAEiG,aAAajG,EAAEkG,KAAKlG,EAAEmG,KAAKjH,KAAK4E,eAAesC,YAAYhH,IAAIiH,iBAAiB9G,GAAG8G,kBAAkB,MAAM5G,EAAEc,EAAE+F,kBAAkBrH,EAAEwB,GAAG,OAAOF,EAAEgG,gBAAgBxF,EAAEtB,EAAE,GAAG,CAAC+G,YAAAA,CAAapH,EAAEG,GAAG,OAAOL,KAAKuE,gBAAgBV,IAAIxD,IAAIL,KAAKuE,gBAAgBQ,IAAI1E,EAAE,CAAC2E,MAAM3E,EAAE4E,OAAOlF,EAAEM,EAAEL,KAAK2E,eAAe3E,KAAKuE,gBAAgBnE,IAAIC,IAAI4E,QAAQsC,YAAYrH,EAAEF,KAAK4E,kBAAiB,CAAE,CAAC4C,aAAAA,CAActH,EAAEG,GAAG,OAAOL,KAAKuE,gBAAgBV,IAAIxD,IAAIL,KAAKuE,gBAAgBQ,IAAI1E,EAAE,CAAC2E,MAAM3E,EAAE4E,OAAOlF,EAAEM,EAAEL,KAAK2E,eAAe3E,KAAKuE,gBAAgBnE,IAAIC,IAAI4E,QAAQwC,QAAQvH,EAAEF,KAAK4E,kBAAiB,CAAE,CAACU,8BAAAA,CAA+BpF,GAAG,MAAMH,EAAEC,KAAK6E,UAAU,IAAI9E,IAAIA,EAAEqE,OAAO,OAAOpE,KAAK4E,eAAeQ,cAAclF,GAAG,MAAMG,EAAE,CAAC,EAAE,IAAI,MAAMO,KAAKb,EAAE,CAAC,MAAMiF,MAAMjF,EAAEkF,OAAOnE,GAAGd,KAAKuE,gBAAgBnE,IAAIQ,GAAGP,EAAEN,GAAGe,EAAEA,EAAE4E,eAAexF,EAAEF,KAAK4E,gBAAgB5E,KAAK4E,eAAea,aAAavF,EAAEH,EAAE,CAAC,OAAOM,CAAC,CAACkF,mCAAAA,CAAoCrF,GAAG,GAAG,MAAMA,IAAIF,KAAK0E,qBAAqB,OAAOxE,EAAE,MAAMH,EAAEC,KAAK6E,UAAUxE,EAAE,GAAG,GAAGN,EAAE,IAAI,MAAMsB,KAAKtB,EAAE,CAAC,MAAMiF,MAAMjF,GAAGC,KAAKuE,gBAAgBnE,IAAIiB,GAAGhB,EAAE8D,KAAKjE,EAAEH,GAAG,MAAM,IAAI,MAAMsB,KAAKnB,EAAEG,EAAE8D,KAAKjE,EAAEmB,IAAI,MAAMT,EAAE,IAAIb,GAAG,CAAC,MAAM2H,KAAK,QAAQrH,EAAEqH,KAAK,OAAO,IAAI5G,EAAEd,KAAKyE,mBAAmBrE,IAAIQ,IAAI,EAAE,OAAOZ,KAAKyE,mBAAmBM,IAAInE,IAAIE,GAAGA,EAAE,EAAE,KAAKZ,CAAC,ECArxG,SAASA,EAAEA,EAAEH,EAAEQ,GAAG,MAAM,CAACoH,SAASzH,EAAE0H,OAAO7H,EAAE8H,SAAStH,EAAEyB,KAAK,SAAS,CAAC,SAASjC,EAAEG,EAAEH,EAAEQ,EAAEG,EAAEa,EAAET,GAAE,GAAI,MAAM,CAAC6G,SAASzH,EAAE0H,OAAO7H,EAAE8H,SAAStH,EAAEyB,KAAK,OAAO8F,MAAMpH,EAAEqH,IAAIxG,EAAEyG,OAAOlH,EAAE,C,eCA01B,MAAMmH,EAAEnI,WAAAA,CAAYC,EAAEG,EAAEU,GAAGZ,KAAKkI,MAAMnI,EAAEC,KAAK6C,MAAM3C,EAAEF,KAAK+G,aAAanG,EAAEmG,aAAa/G,KAAKiH,KAAKrG,EAAEqG,KAAKjH,KAAKgH,KAAKpG,EAAEoG,KAAKhH,KAAK2E,YAAY/D,EAAE+D,YAAY3E,KAAKmI,cAAcvH,EAAEuH,cAAcnI,KAAKmH,iBAAiBvG,EAAEuG,iBAAiBnH,KAAK4E,eAAehE,EAAEgE,cAAc,CAAC,QAAIS,GAAO,OAAOrF,KAAKkI,MAAM9D,MAAM,CAACgE,2BAAAA,GAA8B,MAAMrI,EAAE,IAAIY,EAAEX,KAAK6C,MAAM7C,KAAK4E,eAAe5E,KAAK2E,aAAa,IAAI3E,KAAK6C,MAAMwF,cAAc,OAAOtI,EAAEmF,oBAAoBlF,KAAKkI,OAAO,MAAMI,2BAA2BpI,EAAEwD,OAAO9C,EAAEyH,cAAchI,GAAGL,KAAK6C,MAAM/B,EAAEZ,GAAGkE,OAAO,IAAMtD,EAAE,OAAO,EAAE,MAAMP,EAAE,IAAIiE,IAAI9D,EAAE,IAAI8D,IAAInD,EAAE,IAAIM,IAAI,IAAI,MAAMhB,KAAKN,EAAE,CAAC,MAAMkD,cAAclD,GAAGM,EAAEG,EAAE,iBAAiBT,EAAEM,EAAE2C,sBAAiB,EAAO,IAAI5C,EAAEmD,IAAI/C,GAAG,CAAC,MAAMF,EAAE,GAAG,IAAI,MAAMP,KAAKH,EAAE,CAAC,MAAMA,EAAEF,KAAKuI,oBAAoBxI,EAAEM,EAAEE,GAAGK,EAAEuD,KAAKjE,EAAE,CAACQ,EAAEqE,IAAIjE,EAAEd,KAAKwI,uBAAuB5H,EAAEb,EAAE2E,sBAAsB,CAAC,MAAM7C,EAAEnB,EAAEN,IAAIU,GAAG,IAAI,MAAMZ,KAAK2B,EAAE,CAAC,MAAM4G,KAAKpI,EAAE6H,MAAMpH,GAAGe,EAAE3B,GAAGK,EAAEF,EAAEqH,KAAK,KAAK9G,IAAIb,EAAEyH,cAAc1G,EAAEF,IAAIS,EAAEqH,IAAInI,EAAE,CAAC,CAAC,OAAOc,EAAEgE,IAAI,CAAC,yBAAMsD,GAAsB,IAAI5I,EAAkQ,GAAnOA,EAA1BC,KAAK6C,MAAMwF,cAAiBrI,KAAK6C,MAAMwF,cAAchF,MAAMtD,GAAG,iBAAiBA,EAAEwD,gBAAgBvD,KAAK4I,iCAAiC5I,KAAK6C,aAAa7C,KAAK6I,+BAA+B7I,KAAK6C,OAAc7C,KAAK8I,4BAA4B9I,KAAK6C,OAAU7C,KAAK6C,MAAMkG,oBAAoB,CAAC,MAAM7I,EAAEF,KAAK6C,MAAMiE,UAASvG,EAAAA,EAAAA,IAAEP,KAAK6C,MAAMmG,UAAStI,EAAAA,EAAAA,IAAER,EAAEiH,iBAAiBnH,KAAK6C,MAAMmG,OAAOjJ,EAAEkJ,eAAc1H,EAAAA,EAAAA,IAAE,CAAC4F,iBAAiBnH,KAAK6C,MAAMmG,UAAS3H,EAAAA,EAAAA,IAAEnB,EAAEA,EAAEiH,iBAAiBnH,KAAK6C,MAAMmG,SAASjJ,EAAEkJ,eAAc1H,EAAAA,EAAAA,IAAE,CAAC4F,iBAAiBnH,KAAK6C,MAAMmG,SAAS9I,GAAG,CAAC,OAAOH,CAAC,CAACmJ,sBAAAA,CAAuBnJ,EAAEG,GAAG,MAAMU,EAAEZ,KAAK4E,eAAevE,EAAE8I,GAAEnJ,KAAKgH,KAAKhH,KAAKiH,OAAOmC,MAAMtI,EAAEuI,KAAK9I,GAAGR,EAAEW,EAAE,iBAAiBX,EAAE8H,SAAS9H,EAAE8H,SAAS9H,EAAE8H,SAAS/E,EAAEnC,EAAE,iBAAiBZ,EAAE8H,SAAS9H,EAAE8H,SAAS9H,EAAE8H,SAASzF,EAAEf,EAAE,CAACiI,WAAW,IAAI/H,EAAE,wBAAwBvB,KAAK+G,aAAanE,EAAE5C,KAAKuJ,iBAAiBhJ,EAAEP,KAAKmH,iBAAiBjH,GAAG0D,EAAE,IAAI4F,GAAE,KAAK,GAAGrH,EAAE,IAAIqH,GAAE,KAAK,GAAGzG,EAAE,CAACD,EAAE,EAAEV,EAAE,EAAE6F,EAAE,GAAG,IAAI,MAAMvG,KAAK1B,KAAKkI,MAAM,CAAC,MAAMhI,EAAEU,EAAEsG,YAAYxF,GAAG,GAAG,MAAMxB,EAAE,SAAS,MAAMuJ,OAAOlJ,EAAEmJ,QAAQtH,GAAGlC,EAAE,GAAG0D,EAAE6F,OAAOlJ,EAAE4B,EAAEsH,OAAOlJ,EAAER,EAAE4J,WAAW,CAAC,IAAI5J,EAAE,EAAE,IAAI,IAAIG,EAAE,EAAEA,EAAEkC,EAAEgC,OAAOlE,IAAI,CAAC,MAAMK,EAAE6B,EAAElC,GAAG,IAAI,IAAIA,EAAE,EAAEA,EAAEK,EAAEL,IAAIH,GAAGM,EAAE,CAAC,MAAMR,EAAE+D,EAAE,GAAG/D,EAAE+J,YAAY7J,EAAEG,IAAIK,EAAE,EAAE,CAAC,MAAML,EAAEiC,EAAEjC,EAAE0J,YAAY7J,EAAEM,EAAE,MAAME,EAAEwC,EAAE8G,EAAE9G,EAAEjC,EAAEjB,EAAEK,GAAG,MAAMqB,GAAGT,EAAEgC,EAAEvC,EAAEuC,GAAGpC,EAAEkD,GAAG9C,EAAEsB,EAAE7B,EAAE6B,GAAGzB,EAAEyB,EAAEb,EAAEA,EAAEqC,EAAEA,EAAExB,GAAG,GAAGf,EAAEiI,WAAWnF,KAAKtC,EAAEjB,EAAEkJ,YAAYpI,GAAGkB,EAAErC,GAAGwJ,KAAKC,KAAK5H,GAAGQ,EAAE/C,GAAG+C,EAAE1C,IAAI,CAAC,CAAC,CAAC,CAAC,GAAGH,EAAEkK,aAAa,CAAC,MAAMlK,EAAEwB,EAAEhB,EAAE6D,OAAO/D,EAAEE,EAAE6D,OAAO,IAAI,IAAIlE,EAAE,EAAEA,EAAEH,EAAEG,GAAGG,EAAE,CAAC,MAAMN,EAAE6D,EAAE7D,EAAE6J,YAAY1J,EAAE,MAAMG,GAAGS,EAAEgC,EAAE/C,EAAE+C,GAAGpC,EAAEH,GAAGO,EAAEsB,EAAErC,EAAEqC,GAAGzB,EAAEkB,EAAExB,EAAEA,EAAEE,EAAEA,EAAEsB,GAAG,GAAGR,EAAEiI,WAAWnF,KAAKtE,EAAEe,EAAEkJ,YAAYpI,GAAGkB,EAAE7C,GAAGgK,KAAKC,KAAKnI,IAAI,CAAC,CAAC,CAAC,OAAOR,EAAEiI,WAAWY,MAAM,CAACnK,EAAEG,IAAIH,EAAE8H,SAAS3H,EAAE2H,WAAWxG,CAAC,CAACkI,gBAAAA,CAAiBxJ,EAAEG,EAAEU,GAAG,MAAMP,EAAE,MAAMO,IAAGF,EAAAA,EAAAA,IAAER,EAAEU,GAAGb,GAAGA,EAAEA,IAAGsB,EAAAA,EAAAA,IAAEtB,EAAEG,EAAEU,IAAIoG,KAAKlG,GAAGd,KAAKO,EAAE,EAAE,MAAM,OAAOR,EAAEe,EAAE,EAAEgC,EAAE/C,EAAEqC,EAAElC,EAAE+H,EAAErH,KAAKP,EAAE,CAACyC,EAAE/C,EAAEqC,EAAElC,EAAE+H,EAAErH,IAAI,EAAEkC,EAAE/C,EAAEqC,EAAElC,KAAKG,EAAE,CAACyC,EAAE/C,EAAEqC,EAAElC,EAAE+H,EAAE1H,IAAI,EAAEuC,EAAE/C,EAAEqC,EAAElC,KAAKG,EAAE,CAACyC,EAAE/C,EAAEqC,EAAElC,GAAG,CAAC,qCAAMiK,CAAgCpK,GAAG,MAAMoD,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAE8J,SAAS3J,EAAE4J,SAAS3J,EAAE4J,MAAMlJ,GAAGtB,EAAE8B,EAAE7B,KAAK2E,YAAY6F,YAAYtK,GAAGL,QAAQG,KAAKyK,eAAe,CAACtH,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAEgK,MAAMlJ,IAAIE,GAAEwB,EAAAA,EAAAA,IAAE,CAAC6C,kBAAkB9E,EAAEsF,mBAAmB/F,EAAEgK,SAAS3J,EAAE4J,SAAS3J,IAAIiC,EAAE5C,KAAK2E,YAAYvE,IAAIF,GAAG0D,EAAE,CAAC8G,MAAM,GAAGC,UAAU/H,GAAGZ,MAAM4I,GAAEzI,EAAAA,EAAAA,IAAES,IAAGlB,EAAAA,EAAAA,IAAE,CAACmJ,OAAOhL,EAAEiL,kBAAkBvJ,EAAEwJ,iBAAiBnH,KAAIxB,EAAAA,EAAAA,IAAE,CAACyI,OAAOhL,EAAEwK,SAAS3J,EAAE4J,SAAS3J,EAAEqK,iBAAiBlK,EAAEgK,kBAAkBvJ,EAAEwJ,iBAAiBnH,IAAI,OAAOd,EAAAA,EAAAA,IAAE8H,EAAE/I,EAAE,CAAC,gCAAMoJ,CAA2BlL,GAAG,MAAMoD,MAAMjD,EAAEkK,gBAAgBxJ,EAAEsK,QAAQ7K,EAAE8K,qBAAqBrK,EAAEyJ,MAAMhK,GAAGR,EAAEW,QAAQV,KAAKyK,eAAe,CAACtH,MAAMjD,EAAE6F,OAAOhG,EAAEgG,OAAOE,OAAOlG,EAAEkG,OAAOD,eAAejG,EAAEiG,eAAeoE,gBAAgBxJ,EAAE2J,MAAMhK,IAAII,GAAEiK,EAAAA,EAAAA,IAAElK,GAAG,OAAO0K,EAAAA,EAAAA,IAAEzK,EAAEN,EAAES,EAAEf,EAAEiG,eAAe,CAAC,+BAAMqF,CAA0BtL,GAAG,MAAMoD,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAE+K,qBAAqB5K,EAAE6K,0BAA0B5K,EAAE0J,SAAShJ,EAAEiJ,SAASzI,EAAE2J,WAAW3L,EAAE0K,MAAMhJ,GAAGxB,EAAE6C,QAAQ5C,KAAKyK,eAAe,CAACtH,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAEgK,MAAMhJ,IAAIqC,GAAE6H,EAAAA,EAAAA,IAAE7I,EAAE,CAACO,MAAMjD,EAAEkG,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAE+K,qBAAqB5K,EAAE6K,0BAA0B5K,EAAE0J,SAAShJ,EAAEiJ,SAASzI,EAAE2J,WAAW3L,IAAI,OAAOiE,EAAAA,EAAAA,IAAEF,EAAElD,EAAE,CAAC,6BAAMgL,CAAwB3L,GAAG,MAAMoD,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAE+K,qBAAqB5K,EAAE6K,0BAA0B5K,EAAE0J,SAAShJ,EAAEiJ,SAASzI,EAAE8J,QAAQ9L,EAAE0K,MAAMhJ,GAAGxB,EAAE6C,QAAQ5C,KAAKyK,eAAe,CAACtH,MAAMjD,EAAEkK,gBAAgBxJ,EAAEwF,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAEgK,MAAMhJ,IAAI,OAAOqK,EAAAA,EAAAA,IAAEhJ,EAAE,CAACO,MAAMjD,EAAEkG,mBAAmB/F,EAAEuF,kBAAkB9E,EAAE+E,mBAAmBtF,EAAE+K,qBAAqB5K,EAAE6K,0BAA0B5K,EAAE0J,SAAShJ,EAAEiJ,SAASzI,EAAE8J,QAAQ9L,GAAG,CAACgM,aAAAA,CAAc9L,EAAEG,EAAEU,GAAG,GAAGb,EAAEqE,OAAO,GAAGlE,GAAGA,EAAEkE,OAAO,IAAI,MAAM/D,KAAKH,EAAE4L,UAAU,CAAC,MAAM5L,EAAEG,EAAEgE,MAAM,KAAKvD,EAAEZ,EAAE,GAAGK,EAAEP,KAAK2E,YAAYvE,IAAIU,GAAGJ,IAAIR,EAAE,IAAI,SAASA,EAAE,GAAGsD,cAAc7C,GAAEoL,EAAAA,EAAAA,IAAExL,GAAGyB,KAAKtB,GAAGX,EAAEmK,MAAM,CAACnK,EAAEG,KAAK,MAAMG,EAAEO,EAAEb,EAAEe,EAAEP,GAAGG,EAAEE,EAAEV,EAAEY,EAAEP,GAAG,OAAOI,EAAEN,EAAEK,EAAE,GAAG,CAAC,CAACoI,2BAAAA,CAA4B/I,GAAG,MAAMG,EAAEF,KAAKkI,OAAOnB,aAAanG,EAAEqG,KAAK5G,EAAE2G,KAAKzG,EAAE4H,cAAczH,EAAEyG,iBAAiBxG,GAAGX,MAAM6E,UAAUxD,EAAE2H,MAAMnH,EAAEmK,uBAAuBnM,EAAEoM,kBAAkBrJ,EAAEsJ,aAAatI,EAAEuI,QAAQhK,EAAEiK,QAAQrJ,GAAGhD,EAAE2B,EAAE,MAAMkB,GAAG1C,EAAEkE,QAAQR,GAAG,GAAGhB,EAAER,EAAEf,IAAIA,EAAEyD,SAAS,KAAK,IAAI9E,KAAK2E,YAAYgC,QAAQtF,EAAEyE,KAAK/F,GAAGC,KAAK2E,YAAYvE,IAAIL,MAAM,MAAM,CAACsM,sBAAsB3K,EAAE4K,SAAStM,KAAKuM,gBAAgBxM,EAAEG,GAAGyG,OAAOvE,EAAE2E,aAAanG,EAAEqG,KAAK5G,GAAG0C,EAAEiE,KAAKzG,GAAG4B,EAAEqK,kBAAkB9L,EAAEyG,kBAAiB5F,EAAAA,EAAAA,IAAEM,GAAGlB,GAAG8L,UAAU5M,IAAGiB,EAAAA,EAAAA,IAAEjB,IAAI,KAAK,CAAC0M,eAAAA,CAAgBxM,EAAEG,GAAG,MAAMU,EAAE,IAAID,EAAEZ,EAAEC,KAAK4E,eAAe5E,KAAK2E,cAAcsC,KAAK5G,EAAE2G,KAAKzG,GAAGP,MAAM0M,cAAchM,EAAEsL,uBAAuB3K,EAAEsL,eAAe9K,EAAE+K,eAAe/M,EAAEgN,mBAAmBtL,EAAE2K,aAAa/J,EAAE8J,kBAAkBlJ,EAAEoJ,QAAQzK,GAAE,EAAG0K,QAAQhK,GAAE,GAAIrC,EAAE+C,EAAEvC,GAAGmB,EAAEkJ,EAAEvK,GAAG+B,EAAE,IAAIgJ,EAAE,GAAGK,EAAE,EAAE,MAAM3H,EAAE,IAAI5D,GAAG,GAAGF,KAAK6L,cAAc/H,EAAEpD,GAAG,CAACX,EAAEG,EAAEG,IAAIO,EAAE4E,cAAczF,EAAEG,EAAEG,KAAKwB,GAAGhC,EAAE,CAAC,MAAME,GAAEe,EAAAA,EAAAA,IAAEO,SAAI,EAAO,GAAGQ,IAAIhC,EAAE,IAAI,MAAMK,KAAK4D,EAAEsH,EAAEK,KAAK,CAAC7E,WAAWhG,EAAEwE,cAAclF,GAAG4G,UAASlE,EAAAA,EAAAA,IAAE5C,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,KAAKjH,KAAK4E,eAAesC,YAAYhH,GAAGqB,EAAExB,EAAE+C,EAAE8H,SAAS,IAAI/I,GAAGhC,EAAE,IAAI,MAAMK,KAAK4D,EAAEsH,EAAEK,KAAK,CAAC7E,WAAWhG,EAAEwE,cAAclF,GAAG4M,UAASlJ,EAAAA,EAAAA,IAAE5D,KAAKA,KAAK4E,eAAemI,YAAY7M,EAAEF,MAAMD,SAAS,IAAI,MAAMG,KAAK4D,EAAEsH,EAAEK,KAAK,CAAC7E,WAAWhG,EAAEwE,cAAclF,GAAG4M,UAASlJ,EAAAA,EAAAA,IAAE5D,KAAKA,KAAK4E,eAAemI,YAAY7M,EAAEF,MAAMD,GAAG+G,UAASlE,EAAAA,EAAAA,IAAE5C,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,KAAKjH,KAAK4E,eAAesC,YAAYhH,GAAGqB,EAAExB,EAAE+C,EAAE8H,GAAG,MAAM,IAAI,MAAM9J,KAAKgD,EAAE,CAAC,MAAM/D,EAAEa,EAAEwE,cAActE,GAAGf,IAAIqL,EAAEK,KAAK,CAAC7E,WAAW7G,GAAG,CAAC,MAAM6L,EAAEzJ,GAAG,EAAE,GAAG,MAAMY,EAAE,CAAC,MAAMhD,EAAE6L,EAAE7I,EAAEqI,EAAEA,EAAE4B,MAAMpB,EAAE7B,KAAKkD,IAAI7B,EAAEhH,OAAOrE,GAAG,CAAC,OAAOqL,CAAC,CAACxC,gCAAAA,CAAiC7I,GAAG,IAAIG,GAAE,EAAGU,EAAEsF,OAAOgH,kBAAkB7M,EAAE6F,OAAOgH,kBAAkBpM,EAAEoF,OAAOgH,kBAAkB,IAAI,MAAM3M,KAAKR,EAAEsI,eAAe,GAAG,GAAG,iBAAiB9H,EAAEgD,cAAc,CAAC3C,EAAE,MAAML,EAAE4M,cAAc5M,EAAE4M,cAAcjH,OAAOgH,kBAAkB7M,EAAE,MAAME,EAAE6M,eAAe7M,EAAE6M,eAAelH,OAAOgH,kBAAkBpM,EAAE,MAAMP,EAAE8M,eAAe9M,EAAE8M,eAAenH,OAAOgH,kBAAkB,KAAK,CAAC,GAAG,sBAAsBlN,KAAK+G,aAAa7G,EAAEF,KAAKkI,MAAM9D,OAAOxD,OAAO,GAAGZ,KAAKkI,MAAM9D,OAAO/D,EAAEH,GAAE,MAAO,CAAC,MAAMH,EAAEoJ,GAAEnJ,KAAKgH,KAAKhH,KAAKiH,MAAMrG,EAAEZ,KAAK4E,eAAe1E,EAAEF,KAAKkI,MAAMoF,QAAQ,CAACvN,EAAEG,KAAK,MAAMG,EAAEO,EAAEsG,YAAYhH,GAAG,OAAOH,GAAG,MAAMM,GAAGA,EAAEoJ,OAAOrF,QAAQ,EAAE,GAAG,GAAGrE,EAAEe,CAAC,CAAC,MAAM,CAAC6F,OAAO,CAAC,CAACvD,KAAK,eAAepB,KAAK,uBAAuBgD,MAAM,eAAeuI,QAAQ,iBAAiBC,OAAO,KAAKC,aAAa,OAAOnB,SAAS,CAAC,CAAC1F,WAAW,CAAC8G,aAAaxH,OAAOhG,MAAM,CAAC,oCAAM2I,CAA+B9I,GAAG,MAAMG,EAAE,CAAC0G,WAAW,CAAC,GAAGhG,EAAE,GAAGP,EAAE,IAAImE,IAAI1D,EAAE,IAAI0D,IAAIjE,EAAE,IAAIiE,IAAI9D,EAAE,IAAI8D,IAAInD,EAAE,IAAIV,EAAEZ,EAAEC,KAAK4E,eAAe5E,KAAK2E,aAAa9C,EAAE9B,EAAEsI,eAAeC,2BAA2BzI,EAAE6D,OAAOnC,EAAEmL,cAAc9J,GAAG7C,EAAE6D,EAAE/D,GAAGA,EAAEuE,OAAOjC,IAAIyB,EAAEb,EAAEZ,EAAEtC,EAAE,GAAG,KAAK6B,EAAES,IAAInC,KAAK2E,YAAYvE,IAAI2C,GAAG,IAAI,MAAMpC,KAAKkB,GAAG,GAAG,CAAC,MAAM8L,sBAAsB5N,EAAEwD,cAAc1B,GAAGlB,EAAEiC,EAAEjC,EAAEyB,EAAE,iBAAiBP,EAAElB,EAAE2C,sBAAiB,EAAOR,EAAE,oBAAoBjB,GAAG,oBAAoBA,EAAE+I,EAAE,sBAAsB/I,GAAG,sBAAsBA,GAAG,wBAAwBA,EAAEuJ,EAAEjJ,GAAG,IAAIyB,IAAIxB,IAAIW,GAAGrB,IAAI,UAAUG,EAAE,GAAGM,EAAE,CAAC,IAAI5B,EAAEsD,IAAIzB,GAAG,CAAC,MAAMrC,EAAE,GAAG,IAAI,MAAMG,KAAKL,EAAE,CAAC,MAAMe,EAAEZ,KAAKuI,oBAAoBlH,EAAEnB,EAAEG,GAAGN,EAAEoE,KAAKvD,EAAE,CAACL,EAAEwE,IAAI3C,EAAEpC,KAAKwI,uBAAuBzI,GAAG6K,GAAGvJ,EAAEqD,sBAAsB,CAAC,MAAMxE,EAAEK,EAAEH,IAAIgC,GAAG,IAAI,MAAMxB,KAAKV,EAAE,CAAC,MAAM0N,MAAM9M,EAAE2H,KAAKlI,EAAE2H,MAAMvH,EAAEkN,cAAchM,GAAG3B,EAAEU,GAAGgD,EAAErD,EAAEmH,KAAK,KAAK,IAAInG,GAAGF,EAAEmG,cAAc7G,EAAEY,GAAG,CAAC,MAAMrB,EAAEQ,EAAEN,IAAIwD,IAAI,CAACgD,WAAW,CAAC,GAAG,GAAGgE,EAAE,CAAC1K,EAAE4N,sBAAsB5N,EAAE4N,oBAAoB,CAAC,GAAG,MAAMA,oBAAoB/N,EAAE4N,sBAAsB/M,SAASZ,KAAK+N,sBAAsBnL,EAAEjC,GAAGT,EAAE4N,oBAAoBlN,GAAGb,CAAC,KAAK,CAAC,IAAIa,EAAE,KAAK,GAAGwK,EAAExK,EAAEE,MAAM,CAAC,MAAMf,EAAEC,KAAKuI,oBAAoBlH,EAAEe,EAAE/B,GAAGH,EAAE2B,EAAEiE,KAAK5F,GAAGH,EAAEG,KAAKU,EAAEkC,GAAG,wBAAwBF,EAAE5C,KAAKgO,oBAAoBpL,EAAE1C,GAAGF,KAAKiO,mBAAmBrL,EAAE1C,EAAE,KAAKmB,EAAEqD,qBAAqB,CAACxE,EAAE0G,WAAW7G,GAAGa,CAAC,CAAC,IAAIA,EAAE,EAAEf,EAAEsF,SAAS,CAACpF,EAAEM,IAAIH,EAAE0G,WAAW5G,KAAK2E,YAAYvE,IAAIL,GAAGA,EAAE,WAAWa,GAAGL,EAAEF,KAAKK,EAAEqE,IAAInB,EAAE1D,EAAE,CAAC,CAAC,MAAM,GAAG0K,EAAE,CAAC1K,EAAE4N,sBAAsB5N,EAAE4N,oBAAoB,CAAC,GAAG,MAAMA,oBAAoB/N,EAAE4N,sBAAsB/M,SAASZ,KAAK+N,sBAAsBnL,EAAE5C,KAAKkI,OAAOhI,EAAE4N,oBAAoBlN,GAAGb,CAAC,KAAK,CAAC,MAAMa,EAAEZ,KAAKuI,oBAAoBlH,EAAEe,EAAE/B,GAAGH,EAAE0G,WAAW7G,GAAG+C,GAAG,wBAAwBF,EAAE5C,KAAKgO,oBAAoBpL,EAAEhC,GAAGZ,KAAKiO,mBAAmBrL,EAAEhC,EAAEE,EAAEO,EAAEqD,qBAAqB,CAAC9D,EAAEuD,KAAK,CAACf,KAAKrD,EAAEiF,MAAMjF,EAAEiC,KAAK,uBAAuB,CAAC,MAAMI,EAAED,EAAE+L,MAAMC,KAAKzN,EAAEmK,UAAU,CAAC3K,GAAG,OAAOF,KAAK6L,cAAczJ,EAAEQ,GAAG,CAAC7C,EAAEG,IAAIH,EAAE6G,WAAW1G,KAAK,CAACyG,OAAO/F,EAAE0L,SAASlK,EAAE,CAAC,2BAAM2L,CAAsBjN,EAAEP,GAAG,MAAM6N,WAAW1N,EAAE2N,MAAM1N,SAAS,iCAAmD4C,cAAclC,EAAEsM,sBAAsB9L,GAAGf,GAAG8D,eAAe/E,EAAEsH,iBAAiB5F,EAAEwF,aAAanD,EAAEoD,KAAK7E,EAAE8E,KAAKlE,GAAG/C,KAAK0B,EAAEnB,EAAEuF,KAAK/F,IAAG6C,EAAAA,EAAAA,IAAEgB,EAAEzB,EAAEY,EAAElD,EAAEqH,YAAYnH,MAAMqC,EAAE1B,EAAEa,EAAEG,GAAE,GAAI,GAAGoB,EAAE,CAACgL,oBAAoB,KAAKH,sBAAsB,MAAM,GAAG,sBAAsBtM,EAAE,CAAC,MAAMtB,EAAEqC,GAAExB,EAAAA,EAAAA,GAAEwB,IAAG/B,EAAAA,EAAAA,IAAEM,EAAEY,EAAEG,IAAIoB,EAAEgL,oBAAoB,IAAI/N,EAAEoH,iBAAiB5F,GAAGuB,EAAE6K,sBAAsB9L,GAAG,QAAQ,MAAM,GAAG,sBAAsBR,EAAE,CAAC,MAAMT,EAAEwB,GAAErC,EAAAA,EAAAA,IAAEqC,IAAGlC,EAAAA,EAAAA,KAAEG,EAAAA,EAAAA,IAAEM,EAAEY,EAAEG,KAAKoB,EAAEgL,oBAAoB,CAAChL,EAAElC,EAAE,GAAGwB,EAAExB,EAAE,GAAGuG,iBAAiB5F,GAAGuB,EAAE6K,sBAAsB9L,GAAG,UAAU,KAAK,wBAAwBR,IAAIyB,EAAEgL,oBAAoB1L,EAAEU,EAAE6K,sBAAsB9L,GAAG,cAAc,OAAOiB,CAAC,CAACmL,kBAAAA,CAAmBlO,EAAEG,EAAEU,EAAEP,GAAG,MAAMiD,iBAAiBxC,EAAEyC,cAAchD,GAAGR,EAAE,IAAIW,EAAE,KAAiL,OAA5KA,EAAEE,GAAGiD,IAAI/C,GAAGF,EAAER,IAAIU,IAAGqB,EAAAA,EAAAA,IAAEnC,KAAK2E,YAAYvE,IAAIU,KAAIY,EAAAA,EAAAA,IAAE,CAACmJ,OAAO3K,EAAEoO,eAAejO,KAAI+B,EAAAA,EAAAA,IAAE,CAACyI,OAAOxK,EAAE,IAAI,IAAIsB,IAAIzB,IAAIA,EAAEmK,SAAS,KAAKC,SAAS,KAAKU,iBAAgB,IAAKpK,GAAGA,EAAEmE,IAAIjE,EAAEJ,GAAUA,EAAE,QAAQH,EAAE,WAAWA,EAAE,CAACyN,mBAAAA,CAAoBjO,EAAEG,GAAG,MAAMoD,iBAAiB1C,EAAE2N,oBAAoBlO,EAAEkD,cAAczC,GAAGf,GAAG2K,MAAMnK,EAAEiO,QAAQ9N,GAAGL,EAAEM,EAAEX,KAAK2E,YAAYvE,IAAIQ,GAAG,OAAO0D,EAAAA,EAAAA,IAAEpE,EAAE,CAACwK,MAAMnK,EAAEiO,QAAQ9N,EAAEiK,UAAUhK,GAAGqB,KAAKyM,WAAW,oBAAoB3N,GAAG,CAACyH,mBAAAA,CAAoBxI,EAAEG,EAAEU,GAAG,GAAGA,EAAEiD,IAAI3D,GAAG,OAAOU,EAAER,IAAIF,GAAG,MAAMG,EAAEL,KAAK2E,YAAYvE,IAAIF,GAAGY,EAAEd,KAAKkI,MAAMpC,KAAKlF,GAAGb,EAAEyF,cAAc5E,EAAEV,EAAEG,KAAK,OAAOO,EAAEmE,IAAI7E,EAAEY,GAAGA,CAAC,CAAC0H,sBAAAA,CAAuBzI,EAAEG,GAAG,MAAMU,EAAE,CAAC,EAAEP,EAAEL,KAAKkI,MAAMpH,EAAET,EAAE+D,OAAO,IAAI,IAAI7D,EAAE,EAAEA,EAAEO,EAAEP,IAAI,CAAC,MAAMO,EAAET,EAAEE,GAAGG,EAAE,GAAG,IAAI,MAAMR,KAAKH,EAAEW,EAAEyD,KAAKjE,EAAEK,IAAI,MAAMI,EAAED,EAAEgH,KAAK,KAAK,MAAM9G,EAAED,GAAGC,EAAED,GAAG,CAACiN,MAAM,EAAEnF,KAAK/H,EAAEwH,MAAM,CAACpH,GAAG+M,cAAc,CAACtN,KAAKL,GAAGU,EAAED,GAAGiN,QAAQhN,EAAED,GAAGuH,MAAM/D,KAAKrD,GAAGF,EAAED,GAAGkN,cAAc1J,KAAK5D,GAAG,CAAC,OAAOK,CAAC,CAAC,oBAAM6J,CAAe1K,GAAG,MAAMG,EAAE,IAAIS,EAAEX,KAAK6C,MAAM7C,KAAK4E,eAAe5E,KAAK2E,cAAcyF,gBAAgBxJ,EAAE2J,MAAMlK,GAAGN,EAAEe,EAAEF,EAAE,CAAC8N,YAAY,MAAMnE,MAAMlK,EAAE8G,iBAAiBnH,KAAK6C,MAAMmG,OAAOhJ,KAAKmH,kBAAkB,KAAK,OAAOvG,EAAEV,EAAEmG,oBAAoBrG,KAAKkI,MAAMtH,EAAEE,EAAE,CAACiG,aAAa/G,KAAK+G,aAAaC,KAAKhH,KAAKgH,KAAKC,KAAKjH,KAAKiH,OAAO/G,EAAEyF,cAAc3F,KAAKkI,MAAM,CAAC/E,MAAMpD,EAAEoD,MAAM4C,OAAOhG,EAAEgG,OAAOE,OAAOlG,EAAEkG,OAAOD,eAAejG,EAAEiG,eAAeI,mBAAmBrG,EAAEqG,mBAAmBR,kBAAkB7F,EAAE6F,kBAAkBC,mBAAmB9F,EAAE8F,oBAAoB,EAAE,SAASgE,EAAE9J,EAAEG,EAAEU,EAAEP,GAAG,MAAMS,EAAET,EAAEyC,EAAElC,EAAEkC,EAAEvC,EAAEF,EAAE+B,EAAExB,EAAEwB,EAAE1B,EAAEI,EAAEA,EAAEP,EAAEA,EAAEI,GAAGT,EAAE4C,EAAElC,EAAEkC,GAAGhC,GAAGZ,EAAEkC,EAAExB,EAAEwB,GAAG7B,EAAEc,EAAE0I,KAAKkD,IAAI,EAAElD,KAAK4E,IAAI,EAAEhO,EAAED,IAAIX,EAAE+C,EAAElC,EAAEkC,EAAEhC,EAAEO,EAAEtB,EAAEqC,EAAExB,EAAEwB,EAAE7B,EAAEc,CAAC,CAAC,SAAS8H,GAAEpJ,EAAEG,GAAG,OAAOH,EAAEG,EAAE,EAAE,EAAEA,EAAE,EAAE,CAAC,CAAC,MAAMsJ,GAAE1J,WAAAA,CAAYC,EAAEG,GAAGF,KAAKyJ,OAAO1J,EAAEC,KAAK4J,YAAY1J,CAAC,CAAC,KAAI4C,GAAI,OAAO9C,KAAKyJ,OAAOzJ,KAAK4J,YAAY,CAAC,KAAIxH,GAAI,OAAOpC,KAAKyJ,OAAOzJ,KAAK4J,YAAY,EAAE,CAAC,KAAI3B,GAAI,OAAOjI,KAAKyJ,OAAOzJ,KAAK4J,YAAY,EAAE,E,mDCA5wV,SAASgF,GAAE7O,GAAG,OAAO,MAAMA,GAAGA,EAAEkD,OAAOlD,GAAG,iBAAiBA,EAAEwD,eAAe,CAAC,MAAMsL,GAAE,kCAA6K,MAAMC,GAAE,IAAIpO,EAAAA,EAAE,KAAK,IAAIqO,GAAE,EAAE,MAAMC,GAAGlP,WAAAA,CAAYC,GAAGC,KAAKiP,oBAAoB,KAAKjP,KAAKkP,cAAc,KAAKlP,KAAKmP,aAAa,CAACtM,MAAMuM,EAAAA,GAAGpP,KAAK+G,aAAahH,EAAEgH,aAAa/G,KAAKiH,OAAOlH,EAAEkH,KAAKjH,KAAKgH,OAAOjH,EAAEiH,KAAKhH,KAAKmI,cAAcpI,EAAEoI,cAAcnI,KAAKmH,iBAAiBpH,EAAEoH,iBAAiBnH,KAAKqP,qBAAqBtP,EAAEsP,qBAAqBrP,KAAKsP,aAAavP,EAAEuP,aAAatP,KAAKuP,iBAAiBxP,EAAEwP,iBAAiBvP,KAAKkP,cAAclP,KAAKsP,aAAaE,OAAOC,GAAG,WAAW,IAAIzP,KAAK0P,eAAe1P,KAAK2P,SAAS5P,EAAE4P,SAAS5P,EAAE6P,sBAAsB5P,KAAKiP,oBAAoB,IAAIpN,EAAAA,GAAEkN,KAAI,KAAKD,KAAI9O,KAAK2E,YAAY,IAAIkL,GAAAA,EAAE9P,EAAE4G,QAAQ5G,EAAE+P,WAAW/P,EAAEgQ,WAAW/P,KAAKgQ,WAAWjQ,EAAE+P,UAAUG,aAAalQ,EAAEgQ,UAAU,CAACG,OAAAA,GAAUlQ,KAAKgQ,YAAWzP,EAAAA,EAAAA,IAAEP,KAAKgQ,YAAYhQ,KAAK0P,cAAa5O,EAAAA,EAAAA,IAAEd,KAAKiP,qBAAqBjP,KAAKkP,eAAc3O,EAAAA,EAAAA,IAAEP,KAAKkP,gBAAepO,EAAAA,EAAAA,IAAEd,KAAK2E,YAAY,CAAC,kBAAIC,GAAiB,OAAO5E,KAAKsP,aAAa1K,cAAc,CAAC8K,UAAAA,GAAa1P,KAAKiP,qBAAqBkB,QAAQnQ,KAAKoQ,oBAAoB,KAAKpQ,KAAKqQ,mBAAmB,IAAI,CAAC,kBAAMC,CAAavQ,EAAEG,GAAG,IAAI,aAAaF,KAAKuQ,cAAcxQ,EAAE,CAAC,EAAEG,IAAIyI,qBAAqB,CAAC,MAAMtI,GAAG,GAAGA,IAAImQ,EAAAA,GAAE,MAAMnQ,EAAE,OAAO,IAAIiE,EAAE,GAAGvE,EAAEC,MAAM2I,qBAAqB,CAAC,CAAC,0BAAM8H,CAAqB1Q,EAAE,CAAC,EAAEG,GAAG,IAAI,aAAaF,KAAKuQ,cAAcxQ,EAAE,CAAC4M,gBAAe,EAAGC,gBAAe,EAAG5D,MAAM,MAAM9I,IAAIkI,6BAA6B,CAAC,MAAM/H,GAAG,GAAGA,IAAImQ,EAAAA,GAAE,MAAMnQ,EAAE,OAAO,CAAC,CAAC,CAAC,2BAAMqQ,CAAsB3Q,EAAEG,GAAG,MAAMG,EAAEN,EAAEiJ,MAAM,IAAI,MAAMpI,QAAQZ,KAAKuQ,cAAcxQ,EAAE,CAAC4M,gBAAe,EAAGC,gBAAe,EAAG5D,MAAM,MAAM9I,GAAGK,EAAEK,EAAEyE,KAAK,OAAI9E,EAAoC,CAACqN,MAAMrN,EAAEoQ,aAAa3Q,KAAK4Q,WAAWhQ,EAAEsH,MAAMtH,EAAEuG,iBAAiB9G,GAAGL,KAAKmH,mBAArG,CAACyG,MAAM,EAAE+C,OAAO,KAAuG,CAAC,MAAM/P,GAAG,GAAGA,IAAI4P,EAAAA,GAAE,MAAM,CAAC5C,MAAM,EAAE+C,OAAO,MAAM,MAAM/P,CAAC,CAAC,CAAC,wBAAMiQ,CAAmB9Q,EAAEG,GAAG,OAAOF,KAAK8Q,qBAAqB/Q,EAAEG,GAAG6Q,MAAMhR,GAAGmO,MAAMC,KAAKpO,IAAI,CAAC,0BAAM+Q,CAAqB/Q,EAAEG,GAAG,IAAI,MAAMG,QAAQL,KAAKuQ,cAAcxQ,EAAE,CAAC4M,gBAAe,EAAGC,gBAAe,EAAG5D,MAAM,MAAM9I,GAAGU,EAAEP,EAAE6H,MAAM3H,EAAE,IAAIoB,IAAI,aAAa3B,KAAKgR,aAAa,KAAK,IAAI,MAAMjR,KAAKa,EAAEL,EAAEmI,IAAIrI,EAAEuE,eAAekF,YAAY/J,GAAG,GAAGG,GAAGK,CAAC,CAAC,MAAMF,GAAG,GAAGA,IAAImQ,EAAAA,GAAE,OAAO,IAAI7O,IAAI,MAAMtB,CAAC,CAAC,CAAC,6BAAM4Q,CAAwBlR,EAAEG,GAAG,MAAMkJ,MAAM/I,EAAEwH,SAASjH,EAAE+I,WAAWpJ,EAAE0J,aAAanJ,GAAGf,EAAE,IAAIQ,IAAIO,EAAE,MAAM,CAACwI,WAAW,IAAI,MAAM5I,QAAQV,KAAKgR,aAAa,IAAIhR,KAAKkR,mBAAmBnR,EAAE8C,QAAQ3C,GAAG2B,IAAG+J,EAAAA,EAAAA,IAAEvL,EAAE8G,iBAAiBnH,KAAKmH,kBAAkBtF,SAASsP,EAAAA,EAAAA,IAAE9Q,EAAE8G,iBAAiBnH,KAAKmH,kBAAkB,MAAMxG,EAAE,iBAAiBC,EAAEA,EAAEA,EAAEkC,EAAEzB,EAAE,iBAAiBT,EAAEA,EAAEA,EAAEwB,EAAEvC,EAAE,CAACuR,KAAK/Q,EAAEyC,EAAEnC,EAAE0Q,KAAKhR,EAAEyC,EAAEnC,EAAE2Q,KAAKjR,EAAE+B,EAAEf,EAAEkQ,KAAKlR,EAAE+B,EAAEf,EAAE8F,iBAAiB9G,EAAE8G,kBAAkBvD,EAAE/B,GAAEuJ,EAAAA,EAAAA,IAAEvL,EAAEG,KAAKmH,kBAAkBtH,EAAE,IAAI+D,EAAE,MAAM,CAAC0F,WAAW,IAAI,MAAM5H,SAASsC,EAAAA,EAAAA,KAAE7B,EAAAA,EAAAA,IAAE9B,GAAG,KAAK,CAACmR,OAAOtR,KAAK,GAAG0C,SAASoB,EAAAA,EAAAA,KAAE7B,EAAAA,EAAAA,IAAEyB,GAAG,KAAK,CAAC4N,OAAOtR,KAAK,GAAG,GAAG,MAAMwB,GAAG,MAAMkB,EAAE,MAAM,CAAC0G,WAAW,IAAI,MAAMvG,EAAE,IAAIuB,QAAQtE,KAAKgR,aAAa,IAAIhR,KAAKyR,gBAAgBzR,KAAK0R,gBAAgB9O,EAAE+O,YAAYzR,GAAGQ,EAAEV,YAAYA,KAAKgR,aAAa,IAAIhR,KAAK4R,uBAAuB7O,IAAI7C,SAASF,KAAKgR,aAAa,IAAIhR,KAAK6R,kBAAkB9O,IAAI7C,SAASF,KAAKgR,aAAa,IAAIhR,KAAK8R,wBAAwB/O,IAAI7C,GAAG,MAAMqB,EAAEG,EAAEiQ,SAASvP,EAAEP,GAAEuJ,EAAAA,EAAAA,IAAE7J,EAAEvB,KAAKmH,kBAAkB5F,EAAEwK,EAAElK,EAAEkI,KAAK4E,IAAI/K,EAAEyN,KAAKzN,EAAEwN,KAAKxN,EAAE2N,KAAK3N,EAAE0N,MAAM,EAAE1Q,EAAE,OAAOmC,EAAEmG,uBAAuB,IAAInJ,EAAEqJ,MAAMhH,EAAEyF,SAASkE,GAAG1L,EAAE8G,iBAAiB,CAAC,uCAAM4K,CAAkChS,EAAEG,GAAG,IAAIF,KAAK2P,WAAW3P,KAAK2P,SAASqC,aAAa,MAAM,IAAI3R,EAAAA,EAAEwO,GAAE,4CAA4C,CAAChM,MAAM9C,EAAE4P,SAAS3P,KAAK2P,WAAW,IAAI,MAAMtP,QAAQL,KAAKuQ,cAAcxQ,EAAE,CAAC,EAAEG,GAAG,aAAaF,KAAKgR,aAAa,IAAIhR,KAAKiS,cAAc5R,IAAIH,GAAGG,EAAEsI,qBAAqB,CAAC,MAAM/H,GAAG,GAAGA,IAAI4P,EAAAA,GAAE,MAAM5P,EAAE,OAAO,IAAI0D,EAAE,GAAGvE,EAAEC,MAAM2I,qBAAqB,CAAC,CAAC,sCAAMuJ,CAAiCnS,EAAE,CAAC,EAAEG,EAAEG,GAAG,MAAM8C,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGZ,EAAE,aAAaF,KAAKmS,8BAA8BpS,EAAE,CAACoD,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGT,IAAI8J,gCAAgCjK,EAAE,CAAC,iCAAMkS,CAA4BrS,EAAE,CAAC,EAAEG,EAAEG,GAAG,MAAM8C,MAAMvC,EAAEmF,OAAOxF,EAAE0F,OAAOnF,EAAEsJ,gBAAgB1J,GAAGR,EAAE,aAAaF,KAAKmS,8BAA8BpS,EAAE,CAACoD,MAAMvC,EAAEmF,OAAOxF,EAAE0F,OAAOnF,EAAEsJ,gBAAgB1J,GAAGL,IAAI4K,2BAA2B/K,EAAE,CAAC,gCAAMmS,CAA2BtS,EAAE,CAAC,EAAEG,EAAEG,GAAG,MAAM8C,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGZ,EAAE,aAAaF,KAAKmS,8BAA8BpS,EAAE,CAACoD,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGT,IAAIgL,0BAA0BnL,EAAE,CAAC,8BAAMoS,CAAyBvS,EAAE,CAAC,EAAEG,EAAEG,GAAG,MAAM8C,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGZ,EAAE,aAAaF,KAAKmS,8BAA8BpS,EAAE,CAACoD,MAAMvC,EAAEwF,mBAAmB7F,EAAE6J,gBAAgBtJ,GAAGT,IAAIqL,wBAAwBxL,EAAE,CAAC,4BAAMqS,CAAuBxS,GAAG,MAAMG,EAAEG,SAASmS,QAAQC,IAAI,CAAC,kBAAkBzS,KAAKsP,cAActP,KAAKsP,aAAaoD,cAAcF,QAAQG,QAAQ3S,KAAKsP,aAAaoD,cAAc1S,KAAKmH,mBAAmBnH,KAAK4Q,iBAAiB5Q,KAAK4S,kBAAkB5S,KAAKmH,iBAAiBnH,KAAKmH,kBAAkB,MAAMnH,KAAKqQ,mBAAmBrQ,KAAKqQ,mBAAmBrQ,KAAKqQ,oBAAmBwC,EAAAA,GAAAA,GAAE7S,KAAK2P,SAAS3P,KAAKsP,gBAAgB,OAAO3O,EAAAA,EAAAA,IAAEZ,GAAG,CAAC+S,WAAW5S,EAAE6S,WAAW1S,EAAE,CAAC,gBAAMuQ,CAAW7Q,EAAEG,EAAEG,GAAG,MAAMO,GAAEf,EAAAA,EAAAA,KAAE6B,EAAAA,EAAAA,MAAIkC,EAAAA,UAAS5D,KAAKsP,aAAa0D,cAAcjT,GAAGA,IAAG6C,EAAAA,EAAAA,IAAEhC,EAAEb,KAAK,MAAMQ,EAAE,CAAC6Q,KAAKxQ,EAAE,GAAG0Q,KAAK1Q,EAAE,GAAGyQ,KAAKzQ,EAAE,GAAG2Q,KAAK3Q,EAAE,GAAGuG,kBAAiB8L,EAAAA,EAAAA,IAAEjT,KAAKmH,mBAAmBnH,KAAKgH,MAAMb,SAASvF,EAAE,KAAKuF,SAASvF,EAAE,MAAML,EAAE2S,KAAKtS,EAAE,GAAGL,EAAE4S,KAAKvS,EAAE,IAAI,MAAME,GAAEsK,EAAAA,EAAAA,IAAE7K,EAAEL,EAAEG,GAAG,GAAGS,EAAEqG,kBAAiB8L,EAAAA,EAAAA,IAAE5S,GAAGS,EAAEuQ,KAAKvQ,EAAEsQ,MAAM,EAAE,CAAC,MAAMrR,GAAEsB,EAAAA,EAAAA,IAAEP,EAAEqG,kBAAkBrG,EAAEsQ,MAAMrR,EAAEe,EAAEuQ,MAAMtR,CAAC,CAAC,GAAGe,EAAEyQ,KAAKzQ,EAAEwQ,MAAM,EAAE,CAAC,MAAMvR,GAAEsB,EAAAA,EAAAA,IAAEP,EAAEqG,kBAAkBrG,EAAEwQ,MAAMvR,EAAEe,EAAEyQ,MAAMxR,CAAC,CAAC,GAAGC,KAAKgH,MAAM,MAAMlG,EAAEoS,MAAM,MAAMpS,EAAEqS,MAAMrS,EAAEqS,KAAKrS,EAAEoS,MAAM,EAAE,CAAC,MAAMnT,GAAEsB,EAAAA,EAAAA,IAAEP,EAAEqG,kBAAkBrG,EAAEoS,MAAMnT,EAAEe,EAAEqS,MAAMpT,CAAC,CAAC,OAAOe,CAAC,CAAC,eAAMsS,CAAUrT,EAAEG,GAAG,OAAO,MAAMF,KAAKgQ,WAAWhQ,KAAKgQ,WAAWqD,SAAStT,EAAEG,GAAGH,EAAEuT,GAAAA,GAAE,CAAC,iBAAMtC,CAAYjR,EAAEG,GAAG,OAAO,MAAMF,KAAKgQ,WAAWhQ,KAAKgQ,WAAWuD,WAAWxT,EAAEG,GAAGH,EAAEuT,GAAAA,GAAE,CAAC,sCAAME,CAAiCzT,GAAG,OAAO,IAAIuE,QAAQtE,KAAK4S,kBAAkB7S,EAAEC,KAAK,CAAC,qBAAM4S,GAAkB,GAAG,MAAM5S,KAAKoQ,oBAAoB,CAAC,MAAMrQ,EAAE,GAAGC,KAAKoQ,oBAAoB,iBAAiBpQ,KAAKsP,aAAanK,SAASjF,GAAGH,EAAEoE,KAAKjE,IAAK,EAA3D,GAA+D6Q,MAAM,IAAIhR,GAAG,CAAC,MAAMA,EAAEC,KAAKoQ,oBAAoBlQ,QAAQH,EAAE,OAAOA,IAAIC,KAAKoQ,oBAAoBlQ,EAAE8M,QAAQhN,KAAK4S,iBAAiB,CAAC,mBAAMrC,CAAcxQ,EAAEG,EAAEG,GAAGN,GAAEa,EAAAA,EAAAA,IAAEb,GAAGA,QAAQC,KAAKoT,WAAW,KAAI3H,EAAAA,EAAAA,IAAE1L,EAAEC,KAAKqP,qBAAqBrP,KAAKmH,mBAAmB9G,GAAGN,QAAQC,KAAKgR,aAAa,IAAIhR,KAAKkR,mBAAmBnR,IAAIM,GAAGN,EAAE,IAAIA,KAAKG,GAAG,MAAMK,QAAQP,KAAKgR,aAAa,IAAIhR,KAAKyT,yBAAyB1T,EAAEM,IAAIA,GAAGS,QAAQd,KAAKgR,aAAa,IAAIhR,KAAK0T,sBAAsB3T,EAAEQ,EAAEF,IAAIA,GAAG,aAAaL,KAAKgR,aAAa,IAAIhR,KAAK2T,0BAA0B7S,IAAIT,SAASL,KAAKgR,aAAa,IAAIhR,KAAK4R,uBAAuB9Q,IAAIT,SAASL,KAAKgR,aAAa,IAAIhR,KAAK6R,kBAAkB/Q,IAAIT,SAASL,KAAKgR,aAAa,IAAIhR,KAAK8R,wBAAwBhR,IAAIT,GAAGS,CAAC,CAAC,8BAAM2S,CAAyB1T,EAAEG,GAAG,GAAG,MAAMH,EAAE6T,YAAY,OAAO,KAAK,MAAM5K,MAAM3I,EAAEsM,eAAe/L,EAAEgM,eAAerM,GAAGR,EAAEe,EAAEd,KAAKsP,aAAauE,wBAAwBnT,EAAEX,EAAE6T,YAAY9M,SAASjF,EAAE,MAAMf,IAAG8K,EAAAA,EAAAA,IAAE9K,EAAEJ,EAAEyG,kBAAkBzG,GAAE0K,EAAAA,EAAAA,IAAE1K,EAAEI,GAAG,IAAIe,EAAE,OAAO,KAAK,MAAMlB,EAAEC,GAAGL,EAAEc,GAAEyC,EAAAA,EAAAA,IAAEzD,MAAKuL,EAAAA,EAAAA,IAAE5L,KAAKmH,iBAAiB9G,IAAIM,EAAEmT,SAAS9T,KAAK+T,SAAShU,EAAEM,GAAGN,GAAGA,EAAEF,EAAEG,KAAK4E,eAAehB,QAAQ5D,KAAKgR,aAAa,IAAIhR,KAAKyR,gBAAgBzR,KAAK0R,gBAAgB7P,KAAK3B,GAAG,GAAG,aAAaH,EAAE6T,YAAYI,oBAAoB,CAAC,IAAIpQ,EAAEQ,OAAO,OAAO,KAAK,MAAM/D,EAAE,IAAIsB,IAAI,IAAI,MAAM5B,KAAK6D,EAAEvD,EAAEqI,IAAI7I,EAAEiK,YAAY/J,IAAI,MAAMa,QAAQZ,KAAKgR,aAAa,IAAIhR,KAAK4S,mBAAmB1S,GAAGK,QAAQP,KAAKgR,aAAa8C,UAAU,MAAMvT,QAAQ0H,EAAAA,GAAAA,IAAE,yBAAyBpG,EAAE7B,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,MAAMnG,EAAEf,IAAIM,EAAEwD,IAAIhE,EAAEiK,YAAY/J,KAAKQ,EAAEV,EAAEqH,YAAYnH,IAAIW,QAAQV,KAAKiU,kBAAkBrT,EAAEE,EAAEZ,GAAG,OAAO,IAAIoE,EAAE5D,EAAEX,EAAEC,KAAK,GAAGE,GAAG,OAAOmB,EAAEd,EAAE,CAAC,IAAIqD,EAAEQ,OAAO,OAAO,IAAIE,EAAE,GAAGvE,EAAEC,MAAM,GAAGA,KAAKkU,sBAAsBrS,EAAE9B,GAAG,OAAOsB,EAAE,IAAIiD,EAAEV,EAAE7D,EAAEC,OAAO,MAAM0B,QAAQuG,EAAAA,GAAAA,IAAE,yBAAyBpG,EAAE7B,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,MAAMrE,QAAQ5C,KAAKiU,kBAAkBrQ,GAAG7D,GAAG2B,EAAE7B,EAAEqH,YAAYnH,KAAKG,GAAG,OAAOmB,EAAE,IAAIiD,EAAE1B,EAAE7C,EAAEC,MAAM,CAAC,2BAAM0T,CAAsBrT,EAAEO,EAAEL,GAAG,GAAG,MAAMK,GAAG,IAAIA,EAAEsH,MAAM9D,OAAO,OAAOxD,EAAEP,EAAE,MAAMO,EAAEA,EAAEiC,MAAMxC,EAAE,MAAMyG,SAAShG,EAAEkI,MAAMtI,EAAEyT,WAAWtS,EAAE8K,eAAehM,EAAEiM,eAAevL,GAAGhB,EAAER,EAAEG,KAAKsP,aAAauE,wBAAwBjQ,GAAG9C,GAAG,MAAMjB,IAAG+L,EAAAA,EAAAA,IAAE/L,EAAEiB,EAAEqG,kBAAkBrG,GAAEsK,EAAAA,EAAAA,IAAEtK,EAAEjB,GAAG6B,EAAEf,GAAGU,EAAEuB,GAAEkB,EAAAA,EAAAA,IAAEpD,MAAKkL,EAAAA,EAAAA,IAAE5L,KAAKmH,iBAAiBzG,GAAGqC,EAAE/C,KAAKiP,qBAAqB,MAAMrO,EAAEgC,GAAGlB,EAAE0S,KAAKC,UAAU,CAACC,uBAAuBxT,EAAEkT,oBAAoBnS,EAAE0S,oBAAoB7T,IAAI0T,KAAKC,UAAU,CAACC,uBAAuBxT,EAAEkT,oBAAoBnS,IAAI,KAAKN,EAAEwB,EAAE/C,KAAKiP,oBAAoB7O,IAAI2C,GAAG,KAAK,GAAG,MAAMxB,EAAE,OAAO,IAAI+C,EAAE/C,EAAElB,EAAEL,MAAM,MAAMoC,EAAE0R,UAAUlR,GAAGlB,SAAS1B,KAAK+T,SAAShU,EAAEW,GAAGqC,GAAG/C,KAAKiP,oBAAoBxO,IAAIsC,EAAEhD,EAAEmI,MAAMnI,EAAEmI,MAAM9D,OAAO,GAAGrE,GAAG,IAAI6D,EAAE,OAAOxB,EAAE,MAAMxB,EAAEA,QAAQZ,KAAKwT,iCAAiCnT,IAAI,MAAM8B,EAAEnC,KAAK4E,eAAe,IAAImH,QAAQ/L,KAAKgR,aAAa,IAAIhR,KAAKyR,gBAAgBzR,KAAK0R,gBAAgB5Q,KAAKP,GAAG,GAAG,2BAA2BsB,EAAE,CAAC,IAAIkK,EAAE3H,OAAO,OAAOhC,EAAE,MAAMxB,EAAEA,QAAQZ,KAAKwT,iCAAiCnT,IAAI,MAAMN,EAAE,IAAI4B,IAAI,IAAI,MAAMtB,KAAK0L,EAAEhM,EAAE2I,IAAIvG,EAAE2H,YAAYzJ,IAAI,MAAMH,EAAE,MAAMU,EAAEA,EAAEsH,YAAYlI,KAAKgR,aAAa,IAAIhR,KAAK4S,mBAAmBrS,GAAGO,QAAQd,KAAKgR,aAAa8C,UAAU,MAAMlT,QAAQqH,EAAAA,GAAAA,IAAEpG,EAAE+B,EAAE5D,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,MAAMnG,EAAEZ,IAAIH,EAAE8D,IAAI1B,EAAE2H,YAAY5J,KAAKU,EAAEuB,EAAE+E,YAAYhH,IAAIQ,QAAQV,KAAKiU,kBAAkB/T,EAAEY,EAAEP,GAAG,OAAO,IAAI+D,EAAE5D,EAAEL,EAAEL,KAAK,GAAGO,GAAG,OAAO6B,EAAEtB,EAAE,CAAC,GAAG,MAAMF,EAAE,CAAC,MAAMP,EAAE,IAAIN,EAAAA,GAAEgM,EAAEA,EAAEyI,QAAQzU,IAAGG,EAAAA,EAAAA,IAAEU,EAAEsH,MAAMnI,EAAEa,EAAEsH,MAAM9D,OAAO/D,IAAI,GAAG,CAAC,IAAI0L,EAAE3H,OAAO,CAAC,MAAMrE,EAAE,IAAIuE,EAAE,GAAGjE,EAAEL,MAAM,OAAO+C,GAAG/C,KAAKiP,oBAAoBxO,IAAIsC,EAAEhD,EAAEmI,MAAM,GAAGnI,CAAC,CAAC,GAAGC,KAAKkU,sBAAsBtQ,EAAEvD,GAAG,OAAO+B,EAAE,IAAIkC,EAAEyH,EAAE1L,EAAEL,OAAO,MAAM8C,QAAQmF,EAAAA,GAAAA,IAAEpG,EAAE+B,EAAE5D,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,MAAMjD,QAAQhE,KAAKiU,kBAAkBlI,GAAGhM,GAAG+C,EAAEX,EAAE+E,YAAYnH,KAAKQ,GAAG,OAAO6B,EAAE,IAAIkC,EAAEN,EAAE3D,EAAEL,MAAM,CAAC2T,yBAAAA,CAA0B5T,GAAG,GAAG,IAAIA,EAAEmI,MAAM9D,SAASrE,EAAE8C,MAAM4R,eAAe1U,EAAE8C,MAAM4R,aAAarQ,QAAQ,MAAMpE,KAAKuP,iBAAiB,OAAO,MAAMrP,EAAE,IAAIyB,IAAI,IAAI,MAAMf,KAAKb,EAAE8C,MAAM4R,aAAczU,KAAKuP,iBAAiBmF,oBAAoB9T,GAAGuE,SAASpF,GAAGG,EAAEwI,IAAI3I,KAAK,MAAMM,EAAEL,KAAK4E,eAAekF,YAAY/J,EAAEmI,MAAMnI,EAAEmI,MAAMsM,QAAQzU,GAAGG,EAAE2D,IAAIxD,EAAEN,KAAK,CAAC6R,sBAAAA,CAAuB7R,GAAG,GAAG,IAAIA,EAAEmI,MAAM9D,SAASrE,EAAE8C,MAAM8R,YAAY5U,EAAE8C,MAAM8R,UAAUvQ,OAAO,OAAO,MAAMlE,EAAE,IAAIyB,IAAI5B,EAAE8C,MAAM8R,WAAWtU,EAAEL,KAAK4E,eAAekF,YAAY/J,EAAEmI,MAAMnI,EAAEmI,MAAMsM,QAAQzU,GAAGG,EAAE2D,IAAIxD,EAAEN,KAAK,CAAC8R,iBAAAA,CAAkB9R,GAAG,GAAG,IAAIA,EAAEmI,MAAM9D,OAAO,OAAO,MAAMlE,GAAE0U,EAAAA,GAAAA,GAAE5U,KAAK2P,SAAS5P,EAAE8C,MAAMkQ,WAAW/S,KAAK4E,gBAAgB,MAAM1E,IAAIH,EAAEmI,MAAMnI,EAAEmI,MAAMsM,OAAOtU,GAAG,CAAC4R,uBAAAA,CAAwB/R,GAAG,GAAG,IAAIA,EAAEmI,MAAM9D,OAAO,OAAO,MAAMlE,EAAE2U,EAAE9U,EAAE8C,MAAMiS,MAAM9U,KAAK2E,aAAa,GAAGzE,EAAE,CAAC,IAAIA,EAAEsC,eAAe,MAAM,IAAIuS,UAAU,oCAAoChV,EAAEmI,MAAMnI,EAAEmI,MAAMsM,QAAQzU,GAAGG,EAAEqH,YAAYxH,EAAEC,KAAK4E,iBAAiB,CAAC,CAAC,uBAAMqP,CAAkBlU,EAAEG,EAAEG,GAAG,IAAIH,EAAE,OAAOH,EAAE,GAAG,MAAMC,KAAKgQ,WAAW,OAAOjQ,EAAEyU,QAAQzU,GAAGG,EAAEH,KAAK,IAAIa,EAAE,EAAE,MAAML,EAAE,IAAI2N,MAAMpN,EAAEgT,UAAU,KAAKlT,EAAEb,EAAEqE,QAAQ,CAAC,MAAMvC,EAAE9B,EAAEa,KAAKV,EAAE2B,KAAKtB,EAAE4D,KAAKtC,GAAGnB,EAAEsU,gBAAgBtU,EAAEuU,YAAYjV,KAAKgR,aAAajR,GAAGe,EAAEf,IAAIM,EAAE,GAAG,OAAOL,KAAKgR,aAAajR,GAAGe,EAAEf,IAAIM,GAAG0Q,MAAM,IAAIxQ,GAAG,CAAC0R,aAAAA,CAAclS,GAAG,MAAMiS,aAAa9R,EAAEgV,eAAe7U,EAAE8U,aAAavU,GAAGZ,KAAK2P,SAASpP,EAAEK,GAAGP,EAAES,EAAE,IAAI0D,IAAI9D,EAAEV,KAAK4E,eAAea,aAAa,IAAI,MAAM5D,KAAK9B,EAAEmI,MAAM,CAAC,MAAMnI,EAAEW,EAAEmB,EAAE3B,GAAGG,EAAEK,EAAEmB,EAAEtB,GAAGK,EAAEE,EAAEV,IAAIL,KAAKa,GAAGP,EAAEK,EAAEE,EAAEL,KAAKO,EAAEiE,IAAIhF,EAAE8B,EAAE,CAAC9B,EAAEmI,MAAMgG,MAAMC,KAAKrN,EAAE+J,SAAS,CAACqJ,qBAAAA,CAAsBnU,EAAEG,GAAG,MAAMiU,WAAW9T,GAAGH,EAAE,OAAOkV,EAAAA,GAAAA,IAAErV,KAAK,qCAAqCM,GAAG,sBAAsBL,KAAK+G,eAAe,6BAA6B1G,GAAG,2BAA2BA,GAAG,yBAAyBA,GAAG,CAAC,cAAM0T,CAAShU,EAAEG,GAAG,IAAIA,IAAG0L,EAAAA,EAAAA,IAAE5L,KAAKmH,iBAAiBjH,GAAG,OAAOH,EAAE,MAAMM,EAAEL,KAAK4E,eAAehE,QAAQyU,EAAAA,EAAAA,IAAEtV,EAAEmI,MAAMpC,KAAK/F,IAAGuV,EAAAA,EAAAA,IAAEtV,KAAK+G,aAAa/G,KAAKgH,KAAKhH,KAAKiH,KAAK5G,EAAE6G,YAAYnH,MAAMC,KAAKmH,iBAAiBjH,GAAG,OAAOH,EAAEmI,MAAMtH,EAAEkF,KAAK,CAAC5F,EAAEU,IAAIP,EAAEkV,kBAAkBxV,EAAEmI,MAAMtH,IAAGiJ,EAAAA,EAAAA,IAAE3J,EAAEF,KAAKgH,KAAKhH,KAAKiH,SAASlH,CAAC,CAAC2R,eAAAA,CAAgB3R,GAAG,IAAGqV,EAAAA,GAAAA,IAAErV,GAAG,CAAC,IAAGgM,EAAAA,EAAAA,IAAEhM,GAAG,MAAM,EAACgD,EAAAA,EAAAA,IAAEhD,EAAEqR,KAAKrR,EAAEuR,KAAKvR,EAAEsR,KAAKtR,EAAEwR,OAAO,IAAGzO,EAAAA,EAAAA,IAAE/C,GAAG,OAAOA,EAAEyV,MAAM1P,KAAK/F,IAAGgD,EAAAA,EAAAA,IAAEgH,KAAKkD,IAAIlN,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIgK,KAAKkD,IAAIlN,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIgK,KAAK4E,IAAI5O,EAAE,GAAG,GAAGA,EAAE,GAAG,IAAIgK,KAAK4E,IAAI5O,EAAE,GAAG,GAAGA,EAAE,GAAG,MAAM,CAAC,MAAM,EAACqC,EAAAA,EAAAA,KAAEb,EAAAA,EAAAA,MAAIxB,GAAG,CAAC,qBAAM0R,CAAgB1R,GAAG,MAAMG,EAAE,IAAIyB,UAAU6Q,QAAQC,IAAI1S,EAAE+F,KAAK/F,GAAGC,KAAKsP,aAAamG,gBAAgB1V,GAAGA,GAAGG,EAAEwI,IAAI3I,QAAQ,MAAMM,EAAE6N,MAAMC,KAAKjO,EAAE2K,UAAU,OAAO3K,EAAEiQ,QAAQ9P,CAAC,CAAC,6BAAMqV,CAAwB3V,EAAEG,GAAG,IAAIH,EAAE8H,UAAU,GAAG,GAAG,MAAM9H,EAAE4V,mBAAmB5V,EAAE6V,kBAAkB7V,EAAE8V,WAAW9V,EAAE+V,eAAe/V,EAAEgW,MAAMhW,EAAEsI,eAAetI,EAAEuI,4BAA4BvI,EAAE2D,QAAQ3D,EAAE2M,cAAc,MAAM,IAAIrM,EAAAA,EAAEwO,GAAE,4BAA4B,CAAChM,MAAM9C,IAAI,OAAOC,KAAKgW,6BAA6BjW,GAAGyS,QAAQC,IAAI,CAACzS,KAAKiW,8BAA8B/V,EAAEH,IAAGmW,EAAAA,GAAAA,IAAEnW,EAAEC,KAAK+G,aAAa/G,KAAKmH,mBAAkBgK,EAAAA,EAAAA,IAAEnR,KAAKmH,iBAAiBpH,EAAEiJ,SAAS+H,MAAM,IAAIhR,GAAG,CAAC,mCAAMkW,CAA8BlW,EAAEG,GAAG,IAAIU,EAAE,GAAG,GAAGb,EAAEqK,gBAAgB,CAAC,MAAM9D,YAAYpG,SAASiW,EAAAA,EAAAA,MAAIvV,EAAEV,EAAEkW,kBAAkBrW,EAAEqK,gBAAgB,CAAC,GAAGrK,EAAEoD,OAAOvC,EAAEuD,KAAKpE,EAAEoD,OAAOpD,EAAEgG,QAAQnF,EAAEuD,KAAKpE,EAAEgG,QAAQhG,EAAEkG,QAAQrF,EAAEuD,KAAKpE,EAAEkG,QAAQlG,EAAEqG,oBAAoBxF,EAAEuD,KAAKpE,EAAEqG,qBAAqBxF,EAAEwD,SAASrE,EAAEqK,gBAAgB,MAAM,IAAI/J,EAAAA,EAAEwO,GAAE,uCAAuC,CAACwH,OAAOtW,IAAI6K,EAAE5K,KAAK2E,YAAY/D,EAAE,CAAC+C,aAAa,iDAAiDd,MAAM3C,IAAIoW,EAAEtW,KAAK2E,YAAY/D,EAAE,CAAC0B,eAAe,aAAaO,MAAM3C,GAAG,CAAC,wBAAMgR,CAAmBnR,GAAG,IAAIA,EAAE8H,UAAU,GAAG,GAAG,MAAM9H,EAAE4V,mBAAmB5V,EAAE6V,kBAAkB7V,EAAE8V,WAAW9V,EAAE+V,eAAe/V,EAAEgW,KAAK,MAAM,IAAI1V,EAAAA,EAAEwO,GAAE,4BAA4B,CAAChM,MAAM9C,IAAI,OAAOC,KAAKgW,6BAA6BjW,GAAGC,KAAKuW,6BAA6BxW,GAAGyS,QAAQC,IAAI,EAACyD,EAAAA,GAAAA,IAAEnW,EAAEC,KAAK+G,aAAa/G,KAAKmH,mBAAkBgK,EAAAA,EAAAA,IAAEnR,KAAKmH,iBAAiBpH,EAAEiJ,SAAS+H,MAAM,IAAIhR,GAAG,CAACiW,4BAAAA,CAA6BjW,GAAG,MAAM8E,UAAU3E,EAAEwM,cAAc9L,EAAE8D,qBAAqBnE,EAAE8H,cAAcvH,GAAGf,EAAEW,EAAEI,EAAEA,EAAEgF,KAAK/F,GAAGA,EAAE4N,uBAAuB5N,EAAE4N,sBAAsBnK,gBAAgBgR,OAAOgC,SAAS,GAAG,GAAG5V,GAAGA,EAAEwD,OAAO,EAAE,CAAC,MAAMlE,EAAE,OAAOG,EAAE,QAAQE,EAAEK,EAAEkF,KAAK/F,IAAI,MAAMa,EAAEb,EAAEyD,cAAc,OAAO5C,EAAEkE,SAAS5E,GAAGU,EAAEyD,MAAMnE,GAAG,GAAGU,EAAEkE,SAASzE,GAAGO,EAAEyD,MAAMhE,GAAG,GAAGN,CAAC,IAAIyU,QAAQzU,IAAIW,EAAEoE,SAAS/E,KAAK6K,EAAE5K,KAAK2E,YAAYpE,EAAE,CAAC+B,eAAe,gBAAgBO,MAAM9C,GAAG,CAAC,GAAGG,GAAGA,EAAEkE,OAAO,EAAEwG,EAAE5K,KAAK2E,YAAYzE,EAAE,CAACoC,eAAe,YAAYO,MAAM9C,SAAS,GAAGQ,EAAE,MAAM,IAAIF,EAAAA,EAAEwO,GAAE,yDAAyD,CAAChM,MAAM9C,IAAI0W,EAAEzW,KAAK2E,YAAY5E,EAAE+U,MAAM/U,EAAE,CAACwW,4BAAAA,CAA6BxW,GAAG,MAAMsI,cAAcnI,EAAEoI,2BAA2B1H,EAAE8C,OAAOnD,GAAGR,EAAEe,EAAEF,GAAGA,EAAEwD,OAAO1D,EAAER,GAAGA,EAAEkE,OAAO,GAAG7D,EAAE,CAAC,IAAIO,IAAIJ,EAAE,MAAM,IAAIL,EAAAA,EAAEwO,GAAE,+EAA+E,CAAChM,MAAM9C,IAAIyJ,EAAExJ,KAAK2E,YAAYpE,EAAEL,EAAEH,EAAE,CAAC,GAAGW,EAAE,CAAC,IAAIkO,GAAE1O,GAAG,OAAO,MAAMK,EAAEL,EAAE4F,KAAK/F,GAAGA,EAAEuD,mBAAmBkR,OAAOgC,SAAS5L,EAAE5K,KAAK2E,YAAYpE,EAAE,CAAC+B,eAAe,oBAAoBO,MAAM9C,IAAIe,GAAG8J,EAAE5K,KAAK2E,YAAY/D,EAAE,CAAC0B,eAAe,6BAA6BO,MAAM9C,IAAI,MAAMW,EAAE,IAAIiB,IAAI,IAAIwH,EAAEvH,cAAc8U,EAAE9U,aAAaC,EAAE,IAAIC,KAAKC,WAAW,QAAQ,CAACC,KAAK,gBAAgBC,OAAO,IAAIkH,EAAEjH,aAAawU,EAAExU,YAAY,IAAI,MAAMtB,KAAKV,EAAE,CAAC,MAAMoD,iBAAiBpD,EAAEqD,cAAchD,GAAGK,EAAE,GAAI,oBAAoBL,GAAG,oBAAoBA,KAAI,wBAAwBK,IAA2I,GAAG,UAAUL,GAAG,QAAQA,GAAG,QAAQA,GAAGL,GAAGyW,EAAEzW,EAAEF,KAAK2E,YAAYjE,GAAG,MAAM,IAAIL,EAAAA,EAAEwO,GAAE,uBAAuBtO,oCAAoCsB,gBAAgB,CAAC+U,WAAWhW,EAAEiC,MAAM9C,QAAvT,CAAC,MAAMwO,oBAAoBrO,GAAGU,EAAE,IAAIV,EAAE,MAAM,IAAIG,EAAAA,EAAEwO,GAAE,wDAAwD,CAAC+H,WAAWhW,EAAEiC,MAAM9C,GAAG,CAAuL,CAAC,CAAC,CAAC,mCAAMoS,CAA8BpS,EAAEG,EAAEG,GAAGN,GAAEa,EAAAA,EAAAA,IAAEb,GAAG,IAAIA,QAAQC,KAAKoT,WAAW,KAAI3H,EAAAA,EAAAA,IAAE1L,EAAEC,KAAKqP,qBAAqBrP,KAAKmH,mBAAmB9G,GAAGN,QAAQC,KAAKgR,aAAa,IAAIhR,KAAK0V,wBAAwB3V,EAAEG,IAAIG,GAAG,MAAMO,QAAQZ,KAAKgR,aAAa,IAAIhR,KAAKyT,yBAAyB1T,EAAEM,IAAIA,GAAGE,QAAQP,KAAKgR,aAAa,IAAIhR,KAAK0T,sBAAsB3T,EAAEa,EAAEP,IAAIA,GAAG,aAAaL,KAAKgR,aAAa,IAAIhR,KAAK2T,0BAA0BpT,IAAIF,SAASL,KAAKgR,aAAa,IAAIhR,KAAK4R,uBAAuBrR,IAAIF,SAASL,KAAKgR,aAAa,IAAIhR,KAAK6R,kBAAkBtR,IAAIF,SAASL,KAAKgR,aAAa,IAAIhR,KAAK8R,wBAAwBvR,IAAIF,GAAGE,CAAC,CAAC,MAAMA,GAAG,GAAGA,IAAIiQ,EAAAA,GAAE,MAAMjQ,EAAE,OAAO,IAAI+D,EAAE,GAAGvE,EAAEC,KAAK,CAAC,E,wDCA/gjB,MAAME,EAAE,CAAC2W,oBAAmB,EAAGC,8BAA6B,EAAGC,sCAAqC,EAAGC,sCAAsC,CAACC,UAAS,EAAGnK,UAAS,EAAGsB,YAAW,GAAI8I,kBAAiB,EAAGC,mBAAkB,EAAGC,kBAAiB,EAAGC,kBAAiB,EAAGC,gBAAe,EAAGC,4BAA2B,EAAGC,sBAAqB,EAAGC,iBAAgB,EAAGC,oBAAmB,EAAGC,sBAAqB,EAAGC,8BAA6B,EAAGC,uBAAsB,EAAGC,oBAAmB,EAAGC,uBAAsB,EAAGC,8BAA6B,EAAGC,iCAAgC,EAAGC,0BAAyB,EAAGC,uBAAsB,EAAGC,wBAAuB,EAAGC,mBAAkB,EAAGC,qCAAoC,EAAGC,iCAAgC,EAAGC,wBAAuB,EAAGC,yBAAwB,EAAGC,0BAAqB,EAAOtL,oBAAe,EAAOuL,4BAAuB,EAAOC,wBAAmB,E,6ICApmB,SAAShY,EAAEA,GAAG,MAAM,SAASA,EAAEb,EAAAA,IAAEG,EAAAA,EAAAA,IAAEU,EAAE,C,0BCAjU,SAASF,EAAEA,EAAER,GAAG,OAAOQ,EAAER,EAAE,EAAE,EAAEA,EAAE,EAAE,CAAC,CAAC,SAASA,EAAEQ,EAAER,EAAEK,EAAER,GAAG,OAAOY,EAAED,EAAER,EAAEK,EAAER,EAAE0J,OAAO,GAAG1J,EAAE0J,OAAO,GAAG,CAAC,SAASlJ,EAAEL,EAAEK,EAAER,EAAEF,EAAEgC,EAAEkB,GAAG,MAAMnC,EAAEF,EAAEmB,EAAEkB,IAAI0G,OAAOpJ,EAAEqJ,QAAQrI,GAAGxB,EAAE,IAAIwB,EAAE,OAAM,EAAG,IAAI,IAAIX,EAAE,EAAEa,EAAE,EAAEb,EAAEW,EAAE+C,OAAO1D,IAAIa,GAAGX,EAAE,IAAID,EAAET,EAAEK,EAAER,EAAEM,EAAEkB,GAAGlB,EAAEkB,EAAE,IAAI,OAAM,EAAG,OAAM,CAAE,CAAC,SAASZ,EAAET,EAAEK,EAAEI,EAAEd,EAAEgC,GAAG,IAAI3B,EAAE,OAAM,EAAG,MAAM6C,EAAErC,EAAEH,EAAEI,IAAI8I,OAAO7I,EAAE8I,QAAQrJ,GAAGH,EAAE,IAAImB,GAAE,EAAGE,EAAE,EAAE,IAAI,MAAMb,KAAKL,EAAEgB,EAAEtB,EAAEsB,EAAET,EAAEmC,EAAExB,EAAEb,EAAEb,EAAEgC,GAAGN,GAAGb,EAAEqC,EAAE,OAAO1B,CAAC,CAAC,SAAStB,EAAEW,EAAER,EAAEK,EAAEI,EAAEZ,EAAEF,EAAEgC,GAAG,IAAIkB,EAAErC,EAAEE,EAAED,EAAE,IAAI,IAAIN,EAAEM,EAAEU,EAAEV,EAAEZ,EAAEQ,EAAEF,EAAEgB,EAAEhB,GAAGE,EAAE,CAACK,EAAEP,EAAEE,EAAEK,IAAIS,IAAIT,EAAED,GAAG,MAAMD,EAAER,EAAEG,GAAGN,EAAEG,EAAEG,EAAE,GAAGkB,EAAErB,EAAEU,GAAGuB,EAAEjC,EAAEU,EAAE,IAAIb,EAAE8B,GAAGM,GAAGN,GAAGM,EAAEN,GAAG9B,GAAG8B,IAAInB,GAAGmB,EAAE9B,IAAIoC,EAAEpC,IAAIwB,EAAEb,GAAGb,IAAIkD,GAAGA,EAAE,CAAC,OAAOA,CAAC,C,gDCAiH,MAAMlD,EAAE,kCAAkCgK,EAAE,CAACgP,yBAAyB,aAAaC,uBAAuB,WAAWC,sBAAsB,UAAUC,uBAAuB,WAAWC,iCAAiC,aAAaC,8BAA8B,KAAKC,uBAAuB,WAAWC,sBAAsB,UAAUC,qBAAqB,SAASC,uBAAuB,MAAM1N,EAAE,CAACoI,oBAAoB,CAAC6E,0BAAyB,EAAGC,wBAAuB,EAAGO,sBAAqB,EAAGN,uBAAsB,EAAGC,wBAAuB,EAAGI,uBAAsB,EAAGD,wBAAuB,EAAGF,kCAAiC,EAAGC,+BAA8B,EAAGI,wBAAuB,GAAIrQ,cAAc,CAACsQ,mBAAkB,EAAGC,wBAAuB,EAAGC,sBAAqB,EAAGC,qBAAoB,EAAGC,sBAAqB,GAAIC,cAAc,CAACL,mBAAkB,EAAGC,wBAAuB,EAAGC,sBAAqB,EAAGC,qBAAoB,EAAGC,sBAAqB,IAAK,SAASzD,EAAEnW,GAAG,OAAO,MAAMA,IAAG,IAAK6L,EAAEoI,oBAAoBjU,EAAE,CAAC,SAASoC,EAAEpC,GAAG,OAAO,MAAMA,IAAG,IAAK6L,EAAE3C,eAAcvI,EAAAA,EAAAA,IAAEX,GAAG,CAAC,SAASuW,EAAEvW,GAAG,OAAO,MAAMA,IAAG,IAAK6L,EAAEgO,cAAc7Z,EAAE,CAAC,SAAS6D,IAAI,OAAO,+BAAiD,CAAC,SAASU,EAAEvE,EAAEW,EAAEW,EAAEe,EAAEvC,GAAG,IAAGe,EAAAA,EAAAA,IAAEF,IAAI,sBAAsBW,IAAI,6BAA6BtB,GAAG,2BAA2BA,GAAG,CAAC,MAAMA,GAAE8B,EAAAA,EAAAA,IAAE,IAAIe,EAAAA,EAAElC,GAAE,GAAG,GAAI,OAAO8R,QAAQG,SAASpS,GAAGO,EAAEf,GAAE,GAAG,EAAGQ,IAAI,CAAC,IAAGK,EAAAA,EAAAA,IAAEF,IAAI,2BAA2BW,EAAE,CAAC,MAAMd,GAAEsB,EAAAA,EAAAA,IAAE,IAAIe,EAAAA,EAAElC,GAAE,GAAG,GAAI,GAAG,2BAA2BX,EAAE,OAAOyS,QAAQG,SAAS5S,GAAG2B,EAAEnB,GAAE,GAAG,EAAGR,EAAEqC,EAAEvC,IAAI,CAAC,IAAGc,EAAAA,EAAAA,IAAED,IAAI,sBAAsBW,IAAI,6BAA6BtB,GAAG,2BAA2BA,GAAG,OAAOyS,QAAQG,SAAS5S,IAAGQ,EAAAA,EAAAA,IAAEG,GAAEqC,EAAAA,EAAAA,IAAE1B,EAAEe,EAAEvC,EAAEE,MAAM,IAAGY,EAAAA,EAAAA,IAAED,IAAI,2BAA2BW,GAAG,2BAA2BtB,EAAE,OAAOyS,QAAQG,SAAS5S,IAAGG,EAAAA,EAAAA,IAAEQ,GAAEqC,EAAAA,EAAAA,IAAE1B,EAAEe,EAAEvC,EAAEE,MAAM,IAAGY,EAAAA,EAAAA,IAAED,IAAI,6BAA6BX,EAAE,CAAC,MAAMA,EAAEM,EAAEgB,GAAG,OAAOmR,QAAQG,SAASpS,GAAGR,EAAEW,GAAEqC,EAAAA,EAAAA,IAAE1B,EAAEe,EAAEvC,EAAEU,KAAK,CAAC,OAAOqD,IAAImN,MAAMxQ,IAAI,MAAML,EAAEK,EAAEsJ,EAAE9J,IAAI8Z,KAAK,KAAKnZ,EAAEyG,iBAAiBzG,GAAG,OAAOX,GAAGG,GAAE6C,EAAAA,EAAAA,IAAE1B,EAAEe,EAAEvC,EAAEE,GAAG,GAAG,CAAC+T,eAAe3C,EAAE5Q,EAAEL,EAAEG,GAAG,MAAM8T,WAAWvT,EAAEkG,SAASnG,GAAGJ,EAAE,GAAGI,EAAE,CAAC,IAAIuV,EAAEtV,GAAG,MAAM,IAAIb,EAAAA,EAAEF,EAAE,yCAAyC,CAACgD,MAAMtC,IAAI,IAAGc,EAAAA,EAAAA,IAAEV,EAAEwG,oBAAmB9F,EAAAA,EAAAA,IAAEhB,GAAG,CAAC,IAAI8B,EAAExB,GAAG,MAAM,IAAIZ,EAAAA,EAAEF,EAAE,kCAAkC,CAACgD,MAAMtC,IAAI,IAAI+V,EAAEpW,GAAG,MAAM,IAAIH,EAAAA,EAAEF,EAAE,kCAAkC,CAACgD,MAAMtC,IAAI,GAAGA,EAAEyI,MAAM,OAAO5G,EAAAA,EAAAA,IAAE7B,EAAEuG,UAAUvG,EAAEuG,SAASK,iBAAiB5G,EAAEyI,MAAM,CAAC,CAAC,CAAC,SAAS4B,EAAE7K,GAAG,IAAGY,EAAAA,EAAAA,IAAEZ,GAAG,OAAM,EAAG,IAAGa,EAAAA,EAAAA,IAAEb,GAAG,CAAC,IAAI,MAAMQ,KAAKR,EAAEyV,MAAM,CAAC,GAAG,IAAIjV,EAAE6D,OAAO,OAAM,EAAG,GAAG7D,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,KAAKA,EAAE,GAAG,GAAG,OAAM,CAAE,CAAC,OAAM,CAAE,CAAC,OAAM,CAAE,C,wBCA/sGuT,eAAe5T,EAAEA,EAAEQ,GAAG,IAAIR,EAAE,OAAO,KAAK,MAAMH,EAAEW,EAAEkE,gBAAgBsQ,eAAerT,EAAEsT,aAAa9T,GAAGnB,EAAE,IAAIK,EAAE2F,OAAOgH,kBAAkB7M,EAAE6F,OAAO4T,kBAAkB,GAAGjY,GAAGR,QAAQX,EAAEyE,SAASjF,IAAI,MAAMQ,EAAEX,EAAE0F,aAAavF,EAAE2B,GAAGf,EAAEf,EAAE0F,aAAavF,EAAEmB,GAAG,MAAMX,GAAGqZ,MAAMrZ,KAAKH,EAAEwJ,KAAKkD,IAAI1M,EAAEG,IAAI,MAAMI,GAAGiZ,MAAMjZ,KAAKT,EAAE0J,KAAK4E,IAAItO,EAAES,GAAG,QAAQ,CAAC,MAAMZ,EAAE2B,GAAGR,QAAQX,EAAEyE,SAASzE,IAAI,MAAMmB,EAAE9B,EAAE0F,aAAa/E,EAAER,GAAG,MAAM2B,GAAGkY,MAAMlY,KAAKtB,EAAEwJ,KAAKkD,IAAI1M,EAAEsB,GAAGxB,EAAE0J,KAAK4E,IAAItO,EAAEwB,GAAG,GAAG,CAAC,MAAM,CAACiG,MAAMvH,EAAEwH,IAAI1H,EAAE,CAAC,SAASK,EAAER,EAAEQ,EAAEH,GAAG,IAAIG,IAAIR,EAAE,OAAO,KAAK,MAAMgV,eAAe7U,EAAE8U,aAAarU,GAAGZ,EAAE,IAAIG,IAAIS,EAAE,OAAO,KAAK,MAAMgH,MAAMnH,EAAEoH,IAAInH,GAAGF,EAAE,OAAO,OAAOC,GAAG,OAAOC,EAAE,UAAK,IAASD,QAAG,IAASC,EAAES,IAAIhB,GAAGS,EAAEf,EAAEQ,EAAEF,EAAES,EAAEH,EAAEC,GAAGiB,EAAEtB,EAAEF,GAAGS,EAAEH,EAAEC,EAAE,CAAC,SAASb,EAAEG,EAAEQ,EAAEX,EAAE8B,EAAER,GAAG,OAAO,MAAMQ,GAAG,MAAMR,EAAEd,IAAI,MAAMF,EAAEH,EAAEuF,aAAalF,EAAEG,GAAGI,EAAEZ,EAAEuF,aAAalF,EAAER,GAAG,OAAO,MAAMM,GAAGA,GAAGgB,KAAK,MAAMP,GAAGA,GAAGe,EAAE,EAAE,MAAMA,EAAEnB,IAAI,MAAMW,EAAEnB,EAAEuF,aAAa/E,EAAEX,GAAG,OAAO,MAAMsB,GAAGA,GAAGQ,CAAC,EAAE,MAAMR,EAAEtB,IAAI,MAAM8B,EAAE3B,EAAEuF,aAAa1F,EAAEW,GAAG,OAAO,MAAMmB,GAAGA,GAAGR,CAAC,OAAE,CAAM,CAAC,SAASQ,EAAE3B,EAAEQ,EAAEX,EAAE8B,GAAG,OAAO,MAAM9B,GAAG,MAAM8B,GAAG9B,IAAI8B,EAAEA,GAAG3B,EAAEuF,aAAa5D,EAAEnB,KAAKX,EAAE,MAAMA,GAAG,MAAM8B,EAAER,IAAI,MAAMd,EAAEL,EAAEuF,aAAapE,EAAEX,GAAG,OAAOH,GAAGR,GAAGQ,GAAGsB,CAAC,EAAE,MAAM9B,EAAE8B,GAAG3B,EAAEuF,aAAa5D,EAAEnB,IAAIX,EAAE,MAAM8B,EAAE9B,GAAGG,EAAEuF,aAAa1F,EAAEW,IAAImB,OAAE,CAAM,CAAC,SAASR,IAAI,MAAM,KAAI,CAAE,C,yVCAtR,MAAMuT,EAAE,IAAI7U,EAAAA,EAAE,CAACia,iBAAiB,SAASC,qBAAqB,aAAaC,gBAAgB,OAAOC,uBAAuB,QAAQC,wBAAwB,iBAAiBC,0BAA0B,sBAAsBxH,EAAEyH,OAAOC,OAAO,CAAC,GAAGnF,EAAE,IAAIkB,EAAAA,EAAExS,EAAE,IAAIwS,EAAAA,EAAE9F,EAAE,IAAI8F,EAAAA,EAAEvK,EAAE,CAACwN,kBAAkBnX,EAAAA,GAAEqX,qBAAqB5P,EAAAA,GAAE6P,oBAAoB1V,EAAAA,GAAEwV,uBAAuB5V,EAAAA,IAAG,SAASsS,EAAEnW,EAAEG,EAAEG,EAAEE,EAAER,EAAEiH,KAAKtG,EAAEX,EAAEkH,MAAM,GAAG,MAAM/G,EAAE,OAAO,KAAK,MAAMS,EAAEZ,EAAEiH,MAAMzG,EAAEK,EAAEb,EAAEkH,MAAMvG,EAAE,GAAGL,EAAE,CAAC,MAAMgB,GAAEK,EAAAA,EAAAA,IAAE8O,EAAEtQ,EAAEH,EAAEiH,KAAKjH,EAAEkH,KAAK,oBAAoB5G,EAAEE,EAAEG,GAAG,OAAO0B,EAAAA,EAAAA,IAAEf,EAAEV,EAAEC,EAAE,CAAC,OAAOwB,EAAAA,EAAAA,IAAElC,EAAES,EAAEC,EAAE,CAAC,SAASuQ,EAAEpR,EAAEG,EAAEG,EAAEE,EAAEG,EAAEC,EAAEC,EAAEV,EAAEmB,EAAEhB,GAAG,MAAMS,EAAEZ,GAAGU,EAAEgC,EAAEvC,GAAGgB,EAAEQ,EAAE,MAAMtB,EAAE,WAAWA,EAAEA,EAAEA,EAAEuG,SAAS,KAAK,GAAG,MAAMjF,EAAE,OAAO,KAAK,GAAGnB,EAAE,CAAC,IAAIH,GAAE4B,EAAAA,EAAAA,IAAE2B,EAAEjC,EAAE3B,EAAEG,EAAEN,EAAEW,EAAEE,EAAES,GAAG,OAAOV,IAAIJ,GAAEmB,EAAAA,EAAAA,IAAE8O,EAAEjQ,EAAEO,EAAE8B,EAAE7C,EAAEY,IAAIoL,EAAEhM,KAAKQ,EAAEO,EAAE8B,IAAI,IAAI,CAAC,GAAGjC,EAAE,CAAC,MAAMJ,GAAEmB,EAAAA,EAAAA,IAAE8O,EAAE3O,EAAE3B,EAAEG,EAAEN,EAAEY,EAAEC,EAAES,GAAG,OAAO0K,EAAEhM,KAAKQ,EAAEO,EAAE8B,IAAI,IAAI,CAAC,OAAOgJ,EAAAA,EAAAA,IAAEwJ,EAAEvT,EAAE3B,EAAEG,EAAEO,EAAES,GAAG0K,EAAEhM,KAAKqV,EAAEtU,EAAE8B,IAAI,IAAI,CAACkR,eAAexP,EAAEvE,EAAEG,EAAEG,GAAG,MAAMwE,UAAUtE,EAAEmM,cAAchM,EAAE4H,2BAA2B3H,EAAE0H,cAAczH,GAAGb,EAAE,GAAGQ,EAAE,IAAI,IAAIc,EAAE,EAAEA,EAAEd,EAAE6D,OAAO/C,IAAId,EAAEc,GAAGd,EAAEc,GAAGoC,OAAO,GAAG/C,EAAE,IAAI,IAAIW,EAAE,EAAEA,EAAEX,EAAE0D,OAAO/C,IAAIX,EAAEW,GAAGX,EAAEW,GAAGoC,OAAO,GAAG9C,EAAE,IAAI,IAAIU,EAAE,EAAEA,EAAEV,EAAEyD,OAAO/C,IAAIV,EAAEU,GAAGV,EAAEU,GAAGoC,OAAO,GAAG7C,EAAE,IAAI,IAAIS,EAAE,EAAEA,EAAET,EAAEwD,OAAO/C,IAAIT,EAAES,GAAGiC,mBAAmB1C,EAAES,GAAGiC,iBAAiB1C,EAAES,GAAGiC,iBAAiBG,QAAQ,OAAO1D,EAAE+G,WAAW/G,EAAEiJ,QAAQjJ,EAAEiJ,MAAMjJ,EAAE+G,SAASK,kBAAkBc,EAAElI,EAAEG,EAAEG,EAAE,CAACyT,eAAe7L,EAAElI,EAAEG,EAAEG,GAAG,IAAIN,EAAE,OAAO,KAAK,IAAI+U,MAAMnU,GAAGZ,EAAE,GAAGA,EAAE+U,MAAMnU,EAAEA,GAAGA,EAAE8C,SAAS9C,GAAG,YAAY6Z,KAAK7Z,IAAIT,GAAGA,IAAIS,KAAKZ,EAAE+U,MAAM,OAAO/U,EAAE+G,SAAS,OAAO/G,EAAE,IAAIa,QAAQ4I,EAAEzJ,GAAG,GAAGA,EAAE8H,SAAS,EAAE9H,EAAE0a,MAAM,KAAK,qCAAqC1a,EAAEoU,WAAW,CAAC,MAAMhN,iBAAiBjH,GAAGH,EAAE+G,SAASlG,GAAEL,EAAAA,EAAAA,IAAEK,GAAGA,EAAEuG,iBAAiBjH,CAAC,CAAC,GAAGU,EAAE,OAAOW,EAAAA,EAAAA,IAAEX,EAAEuG,iBAAiB9G,GAAGO,EAAEuI,EAAEvI,EAAEP,GAAG,MAAMH,SAASY,EAAAA,EAAAA,KAAEJ,EAAAA,EAAAA,IAAEE,KAAK,GAAG,GAAG,MAAMV,EAAE,MAAM2S,EAAE,MAAMtS,EAAE,2BAA2BR,GAAGA,EAAEiM,wBAAwB0O,WAAW,uBAAuB3a,GAAGA,EAAE8M,oBAAoB,EAAElM,EAAEJ,GAAG+S,EAAE1S,EAAEP,GAAG,CAACsa,kBAAkB,EAAEpa,QAAG,EAAOc,EAAEnB,EAAEyR,SAAS/O,QAAQE,EAAAA,EAAAA,IAAEzB,EAAEA,EAAE8F,iBAAiB9G,EAAEM,GAAG,IAAIiC,EAAE,MAAMiQ,EAAEjQ,EAAEuE,iBAAiB9G,EAAEN,EAAE+G,SAASlE,CAAC,CAAC,OAAO7C,CAAC,CAAC,SAASuT,EAAEvT,EAAEG,GAAG,IAAIH,EAAE,OAAM,EAAG,MAAMQ,EAAER,EAAEoH,iBAAiB,QAAOxG,EAAAA,EAAAA,IAAEZ,KAAIa,EAAAA,EAAAA,IAAEb,KAAIsB,EAAAA,EAAAA,IAAEtB,OAAM6C,EAAAA,EAAAA,IAAErC,EAAEL,MAAKG,EAAAA,EAAAA,IAAEE,EAAEL,EAAE,CAAC,SAASiJ,EAAEpJ,EAAEG,GAAG,MAAMG,EAAEN,EAAEoH,iBAAiB,OAAOmM,EAAEvT,EAAEG,KAAIS,EAAAA,EAAAA,IAAEZ,GAAG,CAACoH,iBAAiB9G,EAAEmV,MAAM,CAAC,CAAC,CAACzV,EAAEqR,KAAKrR,EAAEuR,MAAM,CAACvR,EAAEqR,KAAKrR,EAAEwR,MAAM,CAACxR,EAAEsR,KAAKtR,EAAEwR,MAAM,CAACxR,EAAEsR,KAAKtR,EAAEuR,MAAM,CAACvR,EAAEqR,KAAKrR,EAAEuR,SAASvR,CAAC,CAAC+T,eAAetK,EAAEzJ,GAAG,MAAM8H,SAASxH,EAAEoa,MAAMla,GAAGR,EAAEW,EAAEX,EAAE+G,SAAS,GAAG,MAAMzG,GAAG,qBAAqBK,EAAE,OAAOA,EAAE,MAAMC,EAAED,EAAEyG,iBAAiBvG,EAAEL,EAAEqU,EAAEgG,SAASra,IAAGL,EAAAA,EAAAA,IAAES,GAAGU,EAAEV,KAAIkB,EAAAA,EAAAA,IAAElB,KAAIoC,EAAAA,EAAAA,IAAEpC,IAAID,QAAQa,EAAAA,EAAAA,IAAEZ,EAAEd,EAAAA,IAAGkR,MAAM,KAAIjO,EAAAA,EAAAA,IAAEpC,EAAEb,EAAAA,MAAK,aAAawV,KAAKhU,EAAE8F,iBAAiB9F,EAAEhB,EAAEO,EAAE,CAACkT,eAAeuB,IAAI,aAAa,iCAAmDwF,cAAc,CAAC,SAAS5H,EAAElT,GAAG,OAAOA,GAAG2W,KAAK3W,EAAEqU,KAAK0G,MAAM1G,KAAKC,UAAUtU,EAAE0W,IAAI1W,CAAC,CAAC,MAAM2W,EAAE,aAAaD,EAAEA,CAAC1W,EAAEG,IAAIH,IAAI2W,EAAExW,OAAE,C","sources":["webpack://sun-glare-project/./node_modules/@geoscene/core/core/sql/WhereClauseCache.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/attributeSupport.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/AttributesBuilder.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/SnappingCandidate.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/QueryEngineResult.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/QueryEngine.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/QueryEngineCapabilities.js","webpack://sun-glare-project/./node_modules/@geoscene/core/geometry/support/intersects.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/contains.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/spatialQuerySupport.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/timeSupport.js","webpack://sun-glare-project/./node_modules/@geoscene/core/layers/graphics/data/utils.js"],"sourcesContent":["/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{LRUCache as t}from\"../LRUCache.js\";import{WhereClause as e}from\"./WhereClause.js\";class c{constructor(e,c){this._cache=new t(e),this._invalidCache=new t(c)}get(t,c){const i=`${c.uid}:${t}`,r=this._cache.get(i);if(r)return r;if(void 0!==this._invalidCache.get(i))return null;try{const r=e.create(t,c);return this._cache.put(i,r),r}catch{return this._invalidCache.put(i,null),null}}}export{c as WhereClauseCache};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../core/Error.js\";import{JSONMap as s}from\"../../../core/jsonMap.js\";import{WhereClauseCache as i}from\"../../../core/sql/WhereClauseCache.js\";const n=new i(50,500),r=\"feature-store:unsupported-query\",t=\" as \",o=new s({esriFieldTypeString:\"string\"}),a=new s({esriFieldTypeOID:\"oid\",esriFieldTypeSmallInteger:\"small-integer\",esriFieldTypeInteger:\"integer\",esriFieldTypeSingle:\"single\",esriFieldTypeDouble:\"double\",esriFieldTypeLong:\"long\"}),l=new s({esriFieldTypeDate:\"date\"}),d=new s({esriFieldTypeGUID:\"guid\",esriFieldTypeGlobalId:\"global-id\"}),p=new Set([...a.jsonValues,...l.jsonValues,...o.jsonValues,...d.jsonValues]),u=new Intl.ListFormat(\"en-US\",{type:\"conjunction\"}).format([...a.apiValues,...l.apiValues,...o.apiValues,...d.apiValues]);function g(s,i,n={}){const t=y(s,i);if(!t)throw new e(r,\"invalid SQL expression\",{expression:s});const o=n.expressionName||\"expression\";if(n.validateStandardized&&!t.isStandardized)throw new e(r,`${o} is not standard`,{expression:s});if(n.validateAggregate&&!t.isAggregate)throw new e(r,`${o} does not contain a valid aggregate function`,{expression:s});return t.fieldNames}function c(e,s,i){if(!s)return!0;const n=\"where clause\",r=g(s,e,{validateStandardized:!0,expressionName:n});return m(e,r,{expressionName:n,query:i}),x(e,r,{expressionName:n,query:i}),!0}function f(s,i,t,o){if(!i)return!0;const a=\"having\",l=g(i,s,{validateAggregate:!0,expressionName:a});m(s,l,{expressionName:a,query:o}),x(s,l,{expressionName:a,query:o});const d=n.get(i,s),p=d?.getExpressions().every((e=>{const{aggregateType:i,field:n}=e,r=s.get(n)?.name;return t.some((e=>{const{onStatisticField:n,statisticType:t}=e,o=s.get(n)?.name;return o===r&&t.toLowerCase().trim()===i}))}));if(!p)throw new e(r,\"expressions in having should also exist in outStatistics\",{having:i});return!0}function y(e,s){return e?n.get(e,s):null}function m(e,s,i={}){i.errorMessage||(i.errorMessage=i.expressionName?`${i.expressionName} contains invalid fields`:\"Fields are invalid\"),h(e,s,((e,s)=>s.has(e)),i)}function x(e,s,i={}){i.errorMessage||(i.errorMessage=i.expressionName?`${i.expressionName} only supports ${u} field types`:`Only ${u} field types are supported`),h(e,s,((e,s)=>!F(e,s)),i)}function h(s,i,n,t={}){const o=t.verifyExpression??!0,a=[];for(const e of i){const i=n(e,s);if(\"*\"!==e&&!i)if(o){const i=w(e);try{h(s,g(i,s,{validateStandardized:!0}),n,t)}catch(l){const s=l?.details;if(s?.expression)throw l;s?.invalidFields?a.push(...s.invalidFields):a.push(e)}}else a.push(e)}if(a.length)throw new e(r,t.errorMessage,{invalidFields:a,query:t.query})}function w(e){return e.split(t)[0]}function v(e){return e.split(t)[1]}function F(e,s,i=p){const n=s.get(e);return!!n&&!i.has(n.type)}export{v as getAliasFromFieldName,w as getExpressionFromFieldName,y as getWhereClause,F as hasInvalidFieldType,l as validDateTypesKebabDict,d as validGuidTypesKebabDict,a as validNumericTypesKebabDict,o as validStringTypesKebabDict,x as validateFieldTypes,m as validateFields,f as validateHaving,c as validateWhere};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{getExpressionFromFieldName as t,getWhereClause as e,getAliasFromFieldName as i}from\"./attributeSupport.js\";import{getGeometry as s}from\"./utils.js\";import{processNullValue as a,getNormalizedValue as l}from\"../../../statistics/utils.js\";import{loadArcade as r}from\"../../../support/arcadeOnDemand.js\";class n{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes(\"*\")){this.outFields=r;let s=0;for(const a of r){const r=t(a),n=this.fieldsIndex.get(r),u=n?null:e(r,l),d=n?n.name:i(a)||\"FIELD_EXP_\"+s++;this._fieldDataCache.set(a,{alias:d,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=e(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e){const i=e.normalizationType,s=e.normalizationTotal;return t.map((t=>{let r=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2&&(r=`${a(r)}${e.fieldDelimiter}${a(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(r=`${r}${e.fieldDelimiter}${a(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)),i&&Number.isFinite(r)){const a=\"field\"===i&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;r=l(r,i,a,s)}return r}))}async getExpressionValues(t,e,i,a){const{arcadeUtils:l}=await r(),n=l.hasGeometryOperations(e);n&&await l.enableGeometryOperations();const u=l.createFunction(e),d=i&&l.getViewInfo(i),o={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:o,geometry:n?{...s(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},r=l.createExecContext(e,d);return l.executeFunction(u,r)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:e(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e||!e.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||[\"*\"]).join(\",\")}=${i.join(\",\")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}export{n as default};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction t(t,e,r){return{objectId:t,target:e,distance:r,type:\"vertex\"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:\"edge\",start:n,end:d,draped:a}}export{e as makeEdgeCandidate,t as makeVertexCandidate};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{polygonCentroid as e,extentCentroid as t}from\"../../../geometry/support/centroid.js\";import{getPolygonExtent as s,getGeometryExtent as i}from\"../../../geometry/support/extentUtils.js\";import{toQuantizationTransform as a}from\"../../../geometry/support/quantizationUtils.js\";import{isValid as r,equals as n}from\"../../../geometry/support/spatialReferenceUtils.js\";import o from\"./AttributesBuilder.js\";import{project as l}from\"./projectionSupport.js\";import{makeEdgeCandidate as u,makeVertexCandidate as c}from\"./SnappingCandidate.js\";import{cleanFromGeometryEngine as d,getGeometry as m,transformCentroid as h}from\"./utils.js\";import{isStringField as g}from\"../../support/fieldUtils.js\";import{isNullCountSupported as f,calculateStringStatistics as p,calculateStatistics as y,processSummaryStatisticsResult as x,calculateUniqueValuesCount as I,createUVResult as T,calculateClassBreaks as V,resolveCBResult as F,calculateHistogram as S,getAttributeComparator as _,calculatePercentile as v}from\"../../../statistics/utils.js\";class z{constructor(e,t,s){this.items=e,this.query=t,this.geometryType=s.geometryType,this.hasM=s.hasM,this.hasZ=s.hasZ,this.fieldsIndex=s.fieldsIndex,this.objectIdField=s.objectIdField,this.spatialReference=s.spatialReference,this.featureAdapter=s.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new o(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:s,outStatistics:i}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,l=new Set;for(const o of i){const{statisticType:i}=o,a=\"exceedslimit\"!==i?o.onStatisticField:void 0;if(!n.has(a)){const s=[];for(const i of t){const t=this._getAttributeValues(e,i,r);s.push(t)}n.set(a,this._calculateUniqueValues(s,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:i,items:a}=u[t],r=i.join(\",\");s&&!e.validateItems(a,s)||l.add(r)}}return l.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>\"exceedslimit\"===e.statisticType))?this._createExceedsLimitQueryResponse(this.query):await this._createStatisticsQueryResponse(this.query)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;r(this.query.outSR)&&!n(t.spatialReference,this.query.outSR)?e.queryGeometry=d({spatialReference:this.query.outSR,...l(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=d({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t){const s=this.featureAdapter,i=b(this.hasZ,this.hasM),{point:a,mode:r}=e,n=\"number\"==typeof e.distance?e.distance:e.distance.x,o=\"number\"==typeof e.distance?e.distance:e.distance.y,l={candidates:[]},d=\"esriGeometryPolygon\"===this.geometryType,m=this._getPointCreator(r,this.spatialReference,t),h=new A(null,0),g=new A(null,0),f={x:0,y:0,z:0};for(const p of this.items){const t=s.getGeometry(p);if(null==t)continue;const{coords:r,lengths:y}=t;if(h.coords=r,g.coords=r,e.returnEdge){let e=0;for(let t=0;t<y.length;t++){const r=y[t];for(let t=0;t<r;t++,e+=i){const c=h;if(c.coordsIndex=e,t!==r-1){const t=g;t.coordsIndex=e+i;const r=f;R(f,a,c,t);const d=(a.x-r.x)/n,h=(a.y-r.y)/o,y=d*d+h*h;y<=1&&l.candidates.push(u(s.getObjectId(p),m(r),Math.sqrt(y),m(c),m(t)))}}}}if(e.returnVertex){const e=d?r.length-i:r.length;for(let t=0;t<e;t+=i){const e=h;e.coordsIndex=t;const i=(a.x-e.x)/n,r=(a.y-e.y)/o,u=i*i+r*r;u<=1&&l.candidates.push(c(s.getObjectId(p),m(e),Math.sqrt(u)))}}}return l.candidates.sort(((e,t)=>e.distance-t.distance)),l}_getPointCreator(e,t,s){const i=null==s||n(t,s)?e=>e:e=>l(e,t,s),{hasZ:a}=this,r=0;return\"3d\"===e?a?({x:e,y:t,z:s})=>i({x:e,y:t,z:s}):({x:e,y:t})=>i({x:e,y:t,z:r}):({x:e,y:t})=>i({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l}=e,u=this.fieldsIndex.isDateField(t),c=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:l}),d=f({normalizationType:a,normalizationField:i,minValue:n,maxValue:o}),m=this.fieldsIndex.get(t),h={value:.5,fieldType:m?.type},I=g(m)?p({values:c,supportsNullCount:d,percentileParams:h}):y({values:c,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:d,percentileParams:h});return x(I,u)}async createUniqueValuesResponse(e){const{field:t,valueExpression:s,domains:i,returnAllCodedValues:a,scale:r}=e,n=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:s,scale:r}),o=I(n);return T(o,i,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:d}=e,m=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d}),h=V(m,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return F(h,n)}async createHistogramResponse(e){const{field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:d}=e,m=await this._getDataValues({field:t,valueExpression:s,normalizationField:i,normalizationType:a,normalizationTotal:r,scale:d});return S(m,{field:t,normalizationField:i,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,s){if(e.length>1&&t&&t.length)for(const i of t.reverse()){const t=i.split(\" \"),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&\"desc\"===t[1].toLowerCase(),o=_(r?.type,n);e.sort(((e,t)=>{const i=s(e,a,r),n=s(t,a,r);return o(i,n)}))}}_createFeatureQueryResponse(e){const t=this.items,{geometryType:s,hasM:i,hasZ:r,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:u,quantizationParameters:c,resultRecordCount:m,resultOffset:h,returnZ:g,returnM:f}=e,p=null!=m&&t.length>(h||0)+m,y=l&&(l.includes(\"*\")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:p,features:this._createFeatures(e,t),fields:y,geometryType:s,hasM:i&&f,hasZ:r&&g,objectIdFieldName:n,spatialReference:d(u||o),transform:c&&a(c)||null}}_createFeatures(e,t){const s=new o(e,this.featureAdapter,this.fieldsIndex),{hasM:i,hasZ:r}=this,{orderByFields:n,quantizationParameters:l,returnGeometry:u,returnCentroid:c,maxAllowableOffset:d,resultOffset:g,resultRecordCount:f,returnZ:p=!1,returnM:y=!1}=e,x=r&&p,I=i&&y;let T=[],V=0;const F=[...t];if(this._sortFeatures(F,n,((e,t,i)=>s.getFieldValue(e,t,i))),u||c){const e=a(l)??void 0;if(u&&!c)for(const t of F)T[V++]={attributes:s.getAttributes(t),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,x,I)};else if(!u&&c)for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e)};else for(const t of F)T[V++]={attributes:s.getAttributes(t),centroid:h(this,this.featureAdapter.getCentroid(t,this),e),geometry:m(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(t),d,e,x,I)}}else for(const a of F){const e=s.getAttributes(a);e&&(T[V++]={attributes:e})}const S=g||0;if(null!=f){const e=S+f;T=T.slice(S,Math.min(T.length,e))}return T}_createExceedsLimitQueryResponse(e){let t=!1,s=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;for(const r of e.outStatistics??[])if(\"exceedslimit\"===r.statisticType){s=null!=r.maxPointCount?r.maxPointCount:Number.POSITIVE_INFINITY,i=null!=r.maxRecordCount?r.maxRecordCount:Number.POSITIVE_INFINITY,a=null!=r.maxVertexCount?r.maxVertexCount:Number.POSITIVE_INFINITY;break}if(\"esriGeometryPoint\"===this.geometryType)t=this.items.length>s;else if(this.items.length>i)t=!0;else{const e=b(this.hasZ,this.hasM),s=this.featureAdapter;t=this.items.reduce(((e,t)=>{const i=s.getGeometry(t);return e+(null!=i&&i.coords.length||0)}),0)/e>a}return{fields:[{name:\"exceedslimit\",type:\"esriFieldTypeInteger\",alias:\"exceedslimit\",sqlType:\"sqlTypeInteger\",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}}async _createStatisticsQueryResponse(e){const t={attributes:{}},s=[],i=new Map,a=new Map,r=new Map,n=new Map,l=new o(e,this.featureAdapter,this.fieldsIndex),u=e.outStatistics,{groupByFieldsForStatistics:c,having:d,orderByFields:m}=e,h=c&&c.length,g=!!h,f=g?c[0]:null,p=g&&!this.fieldsIndex.get(f);for(const o of u??[]){const{outStatisticFieldName:e,statisticType:u}=o,m=o,y=\"exceedslimit\"!==u?o.onStatisticField:void 0,x=\"percentile_disc\"===u||\"percentile_cont\"===u,I=\"EnvelopeAggregate\"===u||\"CentroidAggregate\"===u||\"ConvexHullAggregate\"===u,T=g&&1===h&&(y===f||p)&&\"count\"===u;if(g){if(!r.has(y)){const e=[];for(const t of c){const s=this._getAttributeValues(l,t,i);e.push(s)}r.set(y,this._calculateUniqueValues(e,!I&&l.returnDistinctValues))}const t=r.get(y);for(const s in t){const{count:a,data:r,items:o,itemPositions:u}=t[s],h=r.join(\",\");if(!d||l.validateItems(o,d)){const t=n.get(h)||{attributes:{}};if(I){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,o);t.aggregateGeometries[s]=e}else{let s=null;if(T)s=a;else{const e=this._getAttributeValues(l,y,i),t=u.map((t=>e[t]));s=x&&\"statisticParameters\"in m?this._getPercentileValue(m,t):this._getStatisticValue(m,t,null,l.returnDistinctValues)}t.attributes[e]=s}let s=0;c.forEach(((e,i)=>t.attributes[this.fieldsIndex.get(e)?e:\"EXPR_\"+ ++s]=r[i])),n.set(h,t)}}}else if(I){t.aggregateGeometries||(t.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(m,this.items);t.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(l,y,i);t.attributes[e]=x&&\"statisticParameters\"in m?this._getPercentileValue(m,s):this._getStatisticValue(m,s,a,l.returnDistinctValues)}s.push({name:e,alias:e,type:\"esriFieldTypeDouble\"})}const y=g?Array.from(n.values()):[t];return this._sortFeatures(y,m,((e,t)=>e.attributes[t])),{fields:s,features:y}}async _getAggregateGeometry(a,r){const{convexHull:n,union:o}=await import(\"../../../geometry/geometryEngineJSON.js\"),{statisticType:l,outStatisticFieldName:u}=a,{featureAdapter:c,spatialReference:d,geometryType:h,hasZ:g,hasM:f}=this,p=r.map((e=>m(h,g,f,c.getGeometry(e)))),y=n(d,p,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if(\"EnvelopeAggregate\"===l){const e=y?s(y):i(o(d,p));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||\"extent\"}else if(\"CentroidAggregate\"===l){const s=y?e(y):t(i(o(d,p)));x.aggregateGeometries={x:s[0],y:s[1],spatialReference:d},x.outStatisticFieldName=u||\"centroid\"}else\"ConvexHullAggregate\"===l&&(x.aggregateGeometries=y,x.outStatisticFieldName=u||\"convexHull\");return x}_getStatisticValue(e,t,s,i){const{onStatisticField:a,statisticType:r}=e;let n=null;n=s?.has(a)?s.get(a):g(this.fieldsIndex.get(a))?p({values:t,returnDistinct:i}):y({values:i?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),s&&s.set(a,n);return n[\"var\"===r?\"variance\":r]}_getPercentileValue(e,t){const{onStatisticField:s,statisticParameters:i,statisticType:a}=e,{value:r,orderBy:n}=i,o=this.fieldsIndex.get(s);return v(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:\"percentile_disc\"===a})}_getAttributeValues(e,t,s){if(s.has(t))return s.get(t);const i=this.fieldsIndex.get(t),a=this.items.map((s=>e.getFieldValue(s,t,i)));return s.set(t,a),a}_calculateUniqueValues(e,t){const s={},i=this.items,a=i.length;for(let r=0;r<a;r++){const a=i[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(\",\");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(t||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(e){const t=new o(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:s,scale:i}=e,a=s?{viewingMode:\"map\",scale:i,spatialReference:this.query.outSR||this.spatialReference}:null;return s?t.getExpressionValues(this.items,s,a,{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM}):t.getDataValues(this.items,{field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal})}}function R(e,t,s,i){const a=i.x-s.x,r=i.y-s.y,n=a*a+r*r,o=(t.x-s.x)*a+(t.y-s.y)*r,l=Math.min(1,Math.max(0,o/n));e.x=s.x+a*l,e.y=s.y+r*l}function b(e,t){return e?t?4:3:t?3:2}class A{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}export{z as QueryEngineResult};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{PositionHint as e,indexOf as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Error.js\";import{clone as s}from\"../../../core/lang.js\";import{removeMaybe as r,destroyMaybe as a}from\"../../../core/maybe.js\";import{MemCacheStorage as n,MemCache as u}from\"../../../core/MemCache.js\";import{throwIfAborted as o}from\"../../../core/promiseUtils.js\";import{getMetersPerUnitForSR as l}from\"../../../core/unitUtils.js\";import{set as c,NEGATIVE_INFINITY as h,create as p,expandWithAABB as m}from\"../../../geometry/support/aaBoundingBox.js\";import{fromValues as f,create as d}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsXY as y}from\"../../../geometry/support/boundsUtils.js\";import{fromJSON as g,isExtent as _,isPolygon as x}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as w}from\"../../../geometry/support/normalizeUtils.js\";import{equals as S,isValid as F}from\"../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as R}from\"../featureConversionUtils.js\";import{getWhereClause as Q,validateFields as I,validateFieldTypes as j,validateWhere as E,validateHaving as A,validNumericTypesKebabDict as b,validDateTypesKebabDict as q,hasInvalidFieldType as C}from\"./attributeSupport.js\";import{checkProjectionSupport as P,project as T,projectMany as B}from\"./projectionSupport.js\";import{queryCapabilities as k}from\"./QueryEngineCapabilities.js\";import{QueryEngineResult as v}from\"./QueryEngineResult.js\";import{getSpatialQueryOperator as z,canQueryWithRBush as O,checkSpatialQuerySupport as G}from\"./spatialQuerySupport.js\";import{getTimeExtent as M,getTimeOperator as U}from\"./timeSupport.js\";import{QUERY_ENGINE_EMPTY_RESULT as N,cleanFromGeometryEngine as Z,normalizeQuery as V,getGeometry as H}from\"./utils.js\";import L from\"../../support/FieldsIndex.js\";import{loadArcade as D}from\"../../../support/arcadeOnDemand.js\";import{noBudget as J}from\"../../../views/support/Scheduler.js\";function $(e){return null!=e&&e.every((e=>\"exceedslimit\"!==e.statisticType))}const W=\"feature-store:unsupported-query\";class K{constructor(e,t=null,i,s,r){this.attributes=e,this.geometry=i,this.centroid=s,this.filterFlags=r,this.groupId=-1,this.displayId=t}}const X=new n(2e6);let Y=0;class ee{constructor(e){this._geometryQueryCache=null,this._changeHandle=null,this.capabilities={query:k},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.objectIdField=e.objectIdField,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._changeHandle=this.featureStore.events.on(\"changed\",(()=>this.clearCache())),this.timeInfo=e.timeInfo,e.cacheSpatialQueries&&(this._geometryQueryCache=new u(Y+++\"$$\",X)),this.fieldsIndex=new L(e.fields),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._frameTask=r(this._frameTask),this.clearCache(),a(this._geometryQueryCache),this._changeHandle=r(this._changeHandle),a(this.fieldsIndex)}get featureAdapter(){return this.featureStore.featureAdapter}clearCache(){this._geometryQueryCache?.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null}async executeQuery(e,t){try{return(await this._executeQuery(e,{},t)).createQueryResponse()}catch(i){if(i!==N)throw i;return new v([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},t)).createQueryResponseForCount()}catch(i){if(i!==N)throw i;return 0}}async executeQueryForExtent(e,t){const i=e.outSR;try{const s=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),r=s.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(s.items,s.spatialReference,i||this.spatialReference)}}catch(s){if(s===N)return{count:0,extent:null};throw s}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){try{const i=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},t),s=i.items,r=new Set;return await this._reschedule((()=>{for(const e of s)r.add(i.featureAdapter.getObjectId(e))}),t),r}catch(i){if(i===N)return new Set;throw i}}async executeQueryForSnapping(e,t){const{point:i,distance:s,returnEdge:r,returnVertex:a}=e;if(!r&&!a)return{candidates:[]};const n=await this._reschedule((()=>this._checkQuerySupport(e.query)),t),u=!S(i.spatialReference,this.spatialReference);u&&await P(i.spatialReference,this.spatialReference);const o=\"number\"==typeof s?s:s.x,l=\"number\"==typeof s?s:s.y,c={xmin:i.x-o,xmax:i.x+o,ymin:i.y-l,ymax:i.y+l,spatialReference:i.spatialReference},h=u?T(c,this.spatialReference):c;if(!h)return{candidates:[]};const p=(await w(g(i),null,{signal:t}))[0],m=(await w(g(h),null,{signal:t}))[0];if(null==p||null==m)return{candidates:[]};const f=new v(await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(m.toJSON()))),t),n,this);await this._reschedule((()=>this._executeObjectIdsQuery(f)),t),await this._reschedule((()=>this._executeTimeQuery(f)),t),await this._reschedule((()=>this._executeAttributesQuery(f)),t);const d=p.toJSON(),y=u?T(d,this.spatialReference):d,_=u?Math.max(h.xmax-h.xmin,h.ymax-h.ymin)/2:s;return f.createSnappingResponse({...e,point:y,distance:_},i.spatialReference)}async executeQueryForLatestObservations(e,t){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new i(W,\"Missing timeInfo or timeInfo.trackIdField\",{query:e,timeInfo:this.timeInfo});try{const i=await this._executeQuery(e,{},t);return await this._reschedule((()=>this._filterLatest(i)),t),i.createQueryResponse()}catch(s){if(s!==N)throw s;return new v([],e,this).createQueryResponse()}}async executeQueryForSummaryStatistics(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,i){const{field:s,field2:r,field3:a,valueExpression:n}=t;return(await this._getQueryEngineResultForStats(e,{field:s,field2:r,field3:a,valueExpression:n},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,i){const{field:s,normalizationField:r,valueExpression:a}=t;return(await this._getQueryEngineResultForStats(e,{field:s,normalizationField:r,valueExpression:a},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const[t,i]=await Promise.all([\"getFullExtent\"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getBounds(await this._getAllFeatures(),this.spatialReference,this.spatialReference),null!=this._timeExtentPromise?this._timeExtentPromise:this._timeExtentPromise=M(this.timeInfo,this.featureStore)]);return o(e),{fullExtent:t,timeExtent:i}}async _getBounds(e,t,i){const s=c(p(),h);await this.featureStore.forEachBounds(e,(e=>m(s,e)));const r={xmin:s[0],ymin:s[1],xmax:s[3],ymax:s[4],spatialReference:Z(this.spatialReference)};this.hasZ&&isFinite(s[2])&&isFinite(s[5])&&(r.zmin=s[2],r.zmax=s[5]);const a=T(r,t,i);if(a.spatialReference=Z(i),a.xmax-a.xmin==0){const e=l(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin==0){const e=l(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin==0){const e=l(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}async _schedule(e,t){return null!=this._frameTask?this._frameTask.schedule(e,t):e(J)}async _reschedule(e,t){return null!=this._frameTask?this._frameTask.reschedule(e,t):e(J)}async _getAllFeaturesQueryEngineResult(e){return new v(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>{await this.featureStore.forEach((t=>e.push(t)))})().then((()=>e))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,i){e=s(e),e=await this._schedule((()=>V(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkQuerySupport(e)),i),e={...e,...t};const r=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),a=await this._reschedule((()=>this._executeGeometryQuery(e,r,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(a)),i),await this._reschedule((()=>this._executeObjectIdsQuery(a)),i),await this._reschedule((()=>this._executeTimeQuery(a)),i),await this._reschedule((()=>this._executeAttributesQuery(a)),i),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:i,returnGeometry:s,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||S(a,n.spatialReference)?n:T(n,a);if(!u)return null;const o=s||r,l=F(i)&&!S(this.spatialReference,i)&&o?async e=>this._project(e,i):e=>e,c=this.featureAdapter,h=await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(u))),t);if(\"disjoint\"===e.sceneFilter.spatialRelationship){if(!h.length)return null;const i=new Set;for(const e of h)i.add(c.getObjectId(e));const s=await this._reschedule((()=>this._getAllFeatures()),t),r=await this._reschedule((async()=>{const r=await z(\"esriSpatialRelDisjoint\",u,this.geometryType,this.hasZ,this.hasM),a=e=>!i.has(c.getObjectId(e))||r(c.getGeometry(e)),n=await this._runSpatialFilter(s,a,t);return new v(n,e,this)}),t);return l(r)}if(!h.length)return new v([],e,this);if(this._canExecuteSinglePass(u,e))return l(new v(h,e,this));const p=await z(\"esriSpatialRelContains\",u,this.geometryType,this.hasZ,this.hasM),m=await this._runSpatialFilter(h,(e=>p(c.getGeometry(e))),t);return l(new v(m,e,this))}async _executeGeometryQuery(i,s,r){if(null!=s&&0===s.items.length)return s;i=null!=s?s.query:i;const{geometry:a,outSR:n,spatialRel:u,returnGeometry:o,returnCentroid:l}=i,c=this.featureStore.featureSpatialReference,h=!a||null==c||S(c,a.spatialReference)?a:T(a,c),p=o||l,m=F(n)&&!S(this.spatialReference,n),f=this._geometryQueryCache&&null==s?m&&p?JSON.stringify({originalFilterGeometry:a,spatialRelationship:u,outSpatialReference:n}):JSON.stringify({originalFilterGeometry:a,spatialRelationship:u}):null,d=f?this._geometryQueryCache.get(f):null;if(null!=d)return new v(d,i,this);const y=async e=>(m&&p&&await this._project(e,n),f&&this._geometryQueryCache.put(f,e.items,e.items.length+1),e);if(!h)return y(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const g=this.featureAdapter;let _=await this._reschedule((()=>this._searchFeatures(this._getQueryBBoxes(a))),r);if(\"esriSpatialRelDisjoint\"===u){if(!_.length)return y(null!=s?s:await this._getAllFeaturesQueryEngineResult(i));const e=new Set;for(const i of _)e.add(g.getObjectId(i));const t=null!=s?s.items:await this._reschedule((()=>this._getAllFeatures()),r),a=await this._reschedule((async()=>{const s=await z(u,h,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(g.getObjectId(t))||s(g.getGeometry(t)),n=await this._runSpatialFilter(t,a,r);return new v(n,i,this)}),r);return y(a)}if(null!=s){const i=new e;_=_.filter((e=>t(s.items,e,s.items.length,i)>=0))}if(!_.length){const e=new v([],i,this);return f&&this._geometryQueryCache.put(f,e.items,1),e}if(this._canExecuteSinglePass(h,i))return y(new v(_,i,this));const x=await z(u,h,this.geometryType,this.hasZ,this.hasM),w=await this._runSpatialFilter(_,(e=>x(g.getGeometry(e))),r);return y(new v(w,i,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds||!e.query.aggregateIds.length||null==this.aggregateAdapter)return;const t=new Set;for(const s of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(s).forEach((e=>t.add(e)))}const i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds||!e.query.objectIds.length)return;const t=new Set(e.query.objectIds),i=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(i(e))))}_executeTimeQuery(e){if(0===e.items.length)return;const t=U(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}_executeAttributesQuery(e){if(0===e.items.length)return;const t=Q(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError(\"Where clause is not standardized\");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async _runSpatialFilter(e,t,i){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let s=0;const r=new Array,a=async n=>{for(;s<e.length;){const u=e[s++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this._reschedule((e=>a(e)),i)}};return this._reschedule((e=>a(e)),i).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:i,endTimeField:s}=this.timeInfo,r=s||i,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),i=n(u,r),s=a.get(e);(!s||i>n(s,r))&&a.set(e,u)}e.items=Array.from(a.values())}_canExecuteSinglePass(e,t){const{spatialRel:i}=t;return O(e)&&(\"esriSpatialRelEnvelopeIntersects\"===i||\"esriGeometryPoint\"===this.geometryType&&(\"esriSpatialRelIntersects\"===i||\"esriSpatialRelContains\"===i||\"esriSpatialRelWithin\"===i))}async _project(e,t){if(!t||S(this.spatialReference,t))return e;const i=this.featureAdapter,s=await B(e.items.map((e=>H(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t);return e.items=s.map(((t,s)=>i.cloneWithGeometry(e.items[s],R(t,this.hasZ,this.hasM)))),e}_getQueryBBoxes(e){if(O(e)){if(_(e))return[f(e.xmin,e.ymin,e.xmax,e.ymax)];if(x(e))return e.rings.map((e=>f(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[y(d(),e)]}async _searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const i=Array.from(t.values());return t.clear(),i}async _checkStatisticsSupport(e,t){if((e.distance??0)<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text||e.outStatistics||e.groupByFieldsForStatistics||e.having||e.orderByFields)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),Promise.all([this._checkStatisticsParamsSupport(t,e),G(e,this.geometryType,this.spatialReference),P(this.spatialReference,e.outSR)]).then((()=>e))}async _checkStatisticsParamsSupport(e,t){let s=[];if(e.valueExpression){const{arcadeUtils:t}=await D();s=t.extractFieldNames(e.valueExpression)}if(e.field&&s.push(e.field),e.field2&&s.push(e.field2),e.field3&&s.push(e.field3),e.normalizationField&&s.push(e.normalizationField),!s.length&&!e.valueExpression)throw new i(W,\"field or valueExpression is required\",{params:e});I(this.fieldsIndex,s,{errorMessage:\"Cannot calculate statistics for missing fields\",query:t}),j(this.fieldsIndex,s,{expressionName:\"statistics\",query:t})}async _checkQuerySupport(e){if((e.distance??0)<0||null!=e.geometryPrecision||e.multipatchOption||e.pixelSize||e.relationParam||e.text)throw new i(W,\"Unsupported query options\",{query:e});return this._checkAttributesQuerySupport(e),this._checkStatisticsQuerySupport(e),Promise.all([G(e,this.geometryType,this.spatialReference),P(this.spatialReference,e.outSR)]).then((()=>e))}_checkAttributesQuerySupport(e){const{outFields:t,orderByFields:s,returnDistinctValues:r,outStatistics:a}=e,n=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if(s&&s.length>0){const t=\" asc\",i=\" desc\",r=s.map((e=>{const s=e.toLowerCase();return s.includes(t)?s.split(t)[0]:s.includes(i)?s.split(i)[0]:e})).filter((e=>!n.includes(e)));I(this.fieldsIndex,r,{expressionName:\"orderByFields\",query:e})}if(t&&t.length>0)I(this.fieldsIndex,t,{expressionName:\"outFields\",query:e});else if(r)throw new i(W,\"outFields should be specified for returnDistinctValues\",{query:e});E(this.fieldsIndex,e.where,e)}_checkStatisticsQuerySupport(e){const{outStatistics:t,groupByFieldsForStatistics:s,having:r}=e,a=s&&s.length,n=t&&t.length;if(r){if(!a||!n)throw new i(W,\"outStatistics and groupByFieldsForStatistics should be specified with having\",{query:e});A(this.fieldsIndex,r,t,e)}if(n){if(!$(t))return;const r=t.map((e=>e.onStatisticField)).filter(Boolean);I(this.fieldsIndex,r,{expressionName:\"onStatisticFields\",query:e}),a&&I(this.fieldsIndex,s,{expressionName:\"groupByFieldsForStatistics\",query:e});const n=new Set([...b.jsonValues,...q.jsonValues]),u=new Intl.ListFormat(\"en-US\",{type:\"conjunction\"}).format([...b.apiValues,...q.apiValues]);for(const s of t){const{onStatisticField:t,statisticType:r}=s;if((\"percentile_disc\"===r||\"percentile_cont\"===r)&&\"statisticParameters\"in s){const{statisticParameters:t}=s;if(!t)throw new i(W,\"statisticParameters should be set for percentile type\",{definition:s,query:e})}else if(\"count\"!==r&&\"min\"!==r&&\"max\"!==r&&t&&C(t,this.fieldsIndex,n))throw new i(W,`outStatistics with '${r}' statistic type, only supports ${u} field types`,{definition:s,query:e})}}}async _getQueryEngineResultForStats(e,t,i){e=s(e);try{e=await this._schedule((()=>V(e,this.definitionExpression,this.spatialReference)),i),e=await this._reschedule((()=>this._checkStatisticsSupport(e,t)),i);const s=await this._reschedule((()=>this._executeSceneFilterQuery(e,i)),i),r=await this._reschedule((()=>this._executeGeometryQuery(e,s,i)),i);return await this._reschedule((()=>this._executeAggregateIdsQuery(r)),i),await this._reschedule((()=>this._executeObjectIdsQuery(r)),i),await this._reschedule((()=>this._executeTimeQuery(r)),i),await this._reschedule((()=>this._executeAttributesQuery(r)),i),r}catch(r){if(r!==N)throw r;return new v([],e,this)}}}export{K as Feature,ee as QueryEngine};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nconst t={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};export{t as queryCapabilities};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{extentIntersectsExtent as e,getFeatureExtentIntersector as t}from\"./intersectsBase.js\";export{extentIntersectsMultipoint,extentIntersectsPoint,extentIntersectsPolygon,extentIntersectsPolyline,extentIntersectsRings,isSelfIntersecting,segmentIntersects}from\"./intersectsBase.js\";function s(s){return\"mesh\"===s?e:t(s)}export{e as extentIntersectsExtent,s as getExtentIntersector,t as getFeatureExtentIntersector};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nfunction n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}export{o as polygonContainsCoords,r as polygonContainsMultipoint,t as polygonContainsPoint};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport e from\"../../../core/Error.js\";import{extentContainsPoint as r,extentContainsMultipoint as t}from\"../../../geometry/support/contains.js\";import{getExtentIntersector as i}from\"../../../geometry/support/intersects.js\";import{isPolygon as s,isExtent as o,getJsonType as n}from\"../../../geometry/support/jsonUtils.js\";import{isValid as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{polygonContainsPoint as a,polygonContainsMultipoint as p}from\"../contains.js\";import{convertFromPolygon as u}from\"../featureConversionUtils.js\";import m from\"../OptimizedGeometry.js\";import{checkProjectionSupport as y}from\"./projectionSupport.js\";import{getGeometry as f}from\"./utils.js\";const c=\"feature-store:unsupported-query\",R={esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"intersects\",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:null},S={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function G(e){return null!=e&&!0===S.spatialRelationship[e]}function g(e){return null!=e&&!0===S.queryGeometry[n(e)]}function j(e){return null!=e&&!0===S.layerGeometry[e]}function h(){return import(\"../../../geometry/geometryEngineJSON.js\")}function v(e,n,l,y,c){if(s(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e)){const e=u(new m,n,!1,!1);return Promise.resolve((r=>a(e,!1,!1,r)))}if(s(n)&&\"esriGeometryMultipoint\"===l){const r=u(new m,n,!1,!1);if(\"esriSpatialRelContains\"===e)return Promise.resolve((e=>p(r,!1,!1,e,y,c)))}if(o(n)&&\"esriGeometryPoint\"===l&&(\"esriSpatialRelIntersects\"===e||\"esriSpatialRelContains\"===e))return Promise.resolve((e=>r(n,f(l,y,c,e))));if(o(n)&&\"esriGeometryMultipoint\"===l&&\"esriSpatialRelContains\"===e)return Promise.resolve((e=>t(n,f(l,y,c,e))));if(o(n)&&\"esriSpatialRelIntersects\"===e){const e=i(l);return Promise.resolve((r=>e(n,f(l,y,c,r))))}return h().then((r=>{const t=r[R[e]].bind(null,n.spatialReference,n);return e=>t(f(l,y,c,e))}))}async function P(r,t,i){const{spatialRel:s,geometry:o}=r;if(o){if(!G(s))throw new e(c,\"Unsupported query spatial relationship\",{query:r});if(l(o.spatialReference)&&l(i)){if(!g(o))throw new e(c,\"Unsupported query geometry type\",{query:r});if(!j(t))throw new e(c,\"Unsupported layer geometry type\",{query:r});if(r.outSR)return y(r.geometry&&r.geometry.spatialReference,r.outSR)}}}function I(e){if(o(e))return!0;if(s(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}export{I as canQueryWithRBush,P as checkSpatialQuerySupport,v as getSpatialQueryOperator};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nasync function t(t,n){if(!t)return null;const e=n.featureAdapter,{startTimeField:u,endTimeField:l}=t;let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(u&&l)await n.forEach((t=>{const n=e.getAttribute(t,u),a=e.getAttribute(t,l);null==n||isNaN(n)||(r=Math.min(r,n)),null==a||isNaN(a)||(i=Math.max(i,a))}));else{const t=u||l;await n.forEach((n=>{const u=e.getAttribute(n,t);null==u||isNaN(u)||(r=Math.min(r,u),i=Math.max(i,u))}))}return{start:r,end:i}}function n(t,n,r){if(!n||!t)return null;const{startTimeField:i,endTimeField:a}=t;if(!i&&!a)return null;const{start:o,end:s}=n;return null===o&&null===s?null:void 0===o&&void 0===s?l():i&&a?e(r,i,a,o,s):u(r,i||a,o,s)}function e(t,n,e,u,l){return null!=u&&null!=l?r=>{const i=t.getAttribute(r,n),a=t.getAttribute(r,e);return(null==i||i<=l)&&(null==a||a>=u)}:null!=u?n=>{const l=t.getAttribute(n,e);return null==l||l>=u}:null!=l?e=>{const u=t.getAttribute(e,n);return null==u||u<=l}:void 0}function u(t,n,e,u){return null!=e&&null!=u&&e===u?u=>t.getAttribute(u,n)===e:null!=e&&null!=u?l=>{const r=t.getAttribute(l,n);return r>=e&&r<=u}:null!=e?u=>t.getAttribute(u,n)>=e:null!=u?e=>t.getAttribute(e,n)<=u:void 0}function l(){return()=>!1}export{t as getTimeExtent,n as getTimeOperator};","/*\r\nAll material copyright GeoScene, All Rights Reserved, unless otherwise specified.\r\nSee https://js.geoscene.cn/4.27/geoscene/copyright.txt for details.\r\n*/\r\nimport{JSONMap as e}from\"../../../core/jsonMap.js\";import{getUnitString as t}from\"../../../core/unitUtils.js\";import{canProjectWithoutEngine as i}from\"../../../geometry/projection.js\";import{getGeometryExtent as r}from\"../../../geometry/support/extentUtils.js\";import{fromJSON as n,isExtent as o,isPolygon as s,isPolyline as l}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as a}from\"../../../geometry/support/normalizeUtils.js\";import{equals as m,isGeographic as u,isWebMercator as f,WGS84 as c}from\"../../../geometry/support/spatialReferenceUtils.js\";import{quantizeOptimizedGeometry as p,convertToPoint as y,generalizeOptimizedGeometry as g,removeZMValues as S,convertToPolyline as R,convertToPolygon as w,convertToMultipoint as h}from\"../featureConversionUtils.js\";import j from\"../OptimizedGeometry.js\";import{checkProjectionSupport as d,project as x}from\"./projectionSupport.js\";const U=new e({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"}),M=Object.freeze({}),O=new j,F=new j,N=new j,_={esriGeometryPoint:y,esriGeometryPolyline:R,esriGeometryPolygon:w,esriGeometryMultipoint:h};function G(e,t,i,r=e.hasZ,n=e.hasM){if(null==t)return null;const o=e.hasZ&&r,s=e.hasM&&n;if(i){const l=p(N,t,e.hasZ,e.hasM,\"esriGeometryPoint\",i,r,n);return y(l,o,s)}return y(t,o,s)}function P(e,t,i,r,n,o,s=t,l=i){const a=t&&s,m=i&&l,u=null!=r?\"coords\"in r?r:r.geometry:null;if(null==u)return null;if(n){let r=g(F,u,t,i,e,n,s,l);return o&&(r=p(N,r,a,m,e,o)),_[e]?.(r,a,m)??null}if(o){const r=p(N,u,t,i,e,o,s,l);return _[e]?.(r,a,m)??null}return S(O,u,t,i,s,l),_[e]?.(O,a,m)??null}async function v(e,t,i){const{outFields:r,orderByFields:n,groupByFieldsForStatistics:o,outStatistics:s}=e;if(r)for(let l=0;l<r.length;l++)r[l]=r[l].trim();if(n)for(let l=0;l<n.length;l++)n[l]=n[l].trim();if(o)for(let l=0;l<o.length;l++)o[l]=o[l].trim();if(s)for(let l=0;l<s.length;l++)s[l].onStatisticField&&(s[l].onStatisticField=s[l].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),z(e,t,i)}async function z(e,t,i){if(!e)return null;let{where:o}=e;if(e.where=o=o&&o.trim(),(!o||/^1 *= *1$/.test(o)||t&&t===o)&&(e.where=null),!e.geometry)return e;let s=await A(e);if(e.distance=0,e.units=null,\"esriSpatialRelEnvelopeIntersects\"===e.spatialRel){const{spatialReference:t}=e.geometry;s=r(s),s.spatialReference=t}if(s){await d(s.spatialReference,i),s=b(s,i);const t=(await a(n(s)))[0];if(null==t)throw M;const r=\"quantizationParameters\"in e&&e.quantizationParameters?.tolerance||\"maxAllowableOffset\"in e&&e.maxAllowableOffset||0,o=r&&J(s,i)?{densificationStep:8*r}:void 0,l=t.toJSON(),m=await x(l,l.spatialReference,i,o);if(!m)throw M;m.spatialReference=i,e.geometry=m}return e}function J(e,t){if(!e)return!1;const r=e.spatialReference;return(o(e)||s(e)||l(e))&&!m(r,t)&&!i(r,t)}function b(e,t){const i=e.spatialReference;return J(e,t)&&o(e)?{spatialReference:i,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}async function A(e){const{distance:i,units:r}=e,n=e.geometry;if(null==i||\"vertexAttributes\"in n)return n;const o=n.spatialReference,s=r?U.fromJSON(r):t(o),l=o&&(u(o)||f(o))?n:await d(o,c).then((()=>x(n,c)));return(await B())(l.spatialReference,l,i,s)}async function B(){return(await import(\"../../../geometry/geometryEngineJSON.js\")).geodesicBuffer}function Z(e){return e&&q in e?JSON.parse(JSON.stringify(e,E)):e}const q=\"_geVersion\",E=(e,t)=>e!==q?t:void 0;export{M as QUERY_ENGINE_EMPTY_RESULT,Z as cleanFromGeometryEngine,P as getGeometry,v as normalizeQuery,z as normalizeQueryLike,G as transformCentroid};"],"names":["c","constructor","e","this","_cache","t","_invalidCache","get","i","uid","r","create","put","n","o","s","esriFieldTypeString","a","esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","l","esriFieldTypeDate","d","esriFieldTypeGUID","esriFieldTypeGlobalId","p","Set","jsonValues","u","Intl","ListFormat","type","format","apiValues","g","y","expression","expressionName","validateStandardized","isStandardized","validateAggregate","isAggregate","fieldNames","m","query","x","f","getExpressions","every","aggregateType","field","name","some","onStatisticField","statisticType","toLowerCase","trim","having","errorMessage","h","has","F","verifyExpression","w","details","invalidFields","push","length","split","v","_fieldDataCache","Map","_returnDistinctMap","returnDistinctValues","fieldsIndex","featureAdapter","outFields","includes","set","alias","clause","countDistinctValues","forEach","getAttributes","size","_processAttributesForOutFields","_processAttributesForDistinctValues","getFieldValue","getAttribute","calculateValue","getDataValues","normalizationType","normalizationTotal","map","field2","fieldDelimiter","field3","Number","isFinite","normalizationField","getExpressionValues","arcadeUtils","hasGeometryOperations","enableGeometryOperations","createFunction","getViewInfo","fields","attributes","layer","geometry","geometryType","hasZ","hasM","getGeometry","spatialReference","createExecContext","executeFunction","validateItem","testFeature","validateItems","testSet","join","objectId","target","distance","start","end","draped","z","items","objectIdField","createQueryResponseForCount","outStatistics","groupByFieldsForStatistics","_getAttributeValues","_calculateUniqueValues","data","add","createQueryResponse","_createExceedsLimitQueryResponse","_createStatisticsQueryResponse","_createFeatureQueryResponse","returnQueryGeometry","outSR","queryGeometry","createSnappingResponse","b","point","mode","candidates","_getPointCreator","A","coords","lengths","returnEdge","coordsIndex","R","getObjectId","Math","sqrt","returnVertex","sort","createSummaryStatisticsResponse","valueExpression","minValue","maxValue","scale","isDateField","_getDataValues","value","fieldType","I","values","supportsNullCount","percentileParams","useSampleStdDev","createUniqueValuesResponse","domains","returnAllCodedValues","T","createClassBreaksResponse","classificationMethod","standardDeviationInterval","numClasses","V","createHistogramResponse","numBins","S","_sortFeatures","reverse","_","quantizationParameters","resultRecordCount","resultOffset","returnZ","returnM","exceededTransferLimit","features","_createFeatures","objectIdFieldName","transform","orderByFields","returnGeometry","returnCentroid","maxAllowableOffset","centroid","getCentroid","slice","min","POSITIVE_INFINITY","maxPointCount","maxRecordCount","maxVertexCount","reduce","sqlType","domain","defaultValue","exceedslimit","outStatisticFieldName","count","itemPositions","aggregateGeometries","_getAggregateGeometry","_getPercentileValue","_getStatisticValue","Array","from","convexHull","union","returnDistinct","statisticParameters","orderBy","isDiscrete","viewingMode","max","$","W","X","Y","ee","_geometryQueryCache","_changeHandle","capabilities","k","definitionExpression","featureStore","aggregateAdapter","events","on","clearCache","timeInfo","cacheSpatialQueries","L","scheduler","priority","_frameTask","registerTask","destroy","clear","_allFeaturesPromise","_timeExtentPromise","executeQuery","_executeQuery","N","executeQueryForCount","executeQueryForExtent","extent","_getBounds","executeQueryForIds","executeQueryForIdSet","then","_reschedule","executeQueryForSnapping","_checkQuerySupport","P","xmin","xmax","ymin","ymax","signal","_searchFeatures","_getQueryBBoxes","toJSON","_executeObjectIdsQuery","_executeTimeQuery","_executeAttributesQuery","executeQueryForLatestObservations","trackIdField","_filterLatest","executeQueryForSummaryStatistics","_getQueryEngineResultForStats","executeQueryForUniqueValues","executeQueryForClassBreaks","executeQueryForHistogram","fetchRecomputedExtents","Promise","all","getFullExtent","resolve","_getAllFeatures","M","fullExtent","timeExtent","forEachBounds","Z","zmin","zmax","_schedule","schedule","J","reschedule","_getAllFeaturesQueryEngineResult","_executeSceneFilterQuery","_executeGeometryQuery","_executeAggregateIdsQuery","sceneFilter","featureSpatialReference","async","_project","spatialRelationship","_runSpatialFilter","_canExecuteSinglePass","spatialRel","JSON","stringify","originalFilterGeometry","outSpatialReference","filter","aggregateIds","getFeatureObjectIds","objectIds","U","Q","where","TypeError","madeProgress","done","startTimeField","endTimeField","O","B","H","cloneWithGeometry","rings","forEachInBounds","_checkStatisticsSupport","geometryPrecision","multipatchOption","pixelSize","relationParam","text","_checkAttributesQuerySupport","_checkStatisticsParamsSupport","G","D","extractFieldNames","params","j","_checkStatisticsQuerySupport","Boolean","E","q","C","definition","supportsStatistics","supportsPercentileStatistics","supportsSpatialAggregationStatistics","supportedSpatialAggregationStatistics","envelope","supportsCentroid","supportsCacheHint","supportsDistance","supportsDistinct","supportsExtent","supportsGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQuantization","supportsQuantizationEditMode","supportsQueryGeometry","supportsResultType","supportsSqlExpression","supportsMaxRecordCountFactor","supportsStandardizedQueriesOnly","supportsTopFeaturesQuery","supportsQueryByOthers","supportsHistoricMoment","supportsFormatPBF","supportsDisjointSpatialRelationship","supportsDefaultSpatialReference","supportsFullTextSearch","supportsCompactGeometry","maxRecordCountFactor","standardMaxRecordCount","tileMaxRecordCount","esriSpatialRelIntersects","esriSpatialRelContains","esriSpatialRelCrosses","esriSpatialRelDisjoint","esriSpatialRelEnvelopeIntersects","esriSpatialRelIndexIntersects","esriSpatialRelOverlaps","esriSpatialRelTouches","esriSpatialRelWithin","esriSpatialRelRelation","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryEnvelope","layerGeometry","bind","NEGATIVE_INFINITY","isNaN","esriSRUnit_Meter","esriSRUnit_Kilometer","esriSRUnit_Foot","esriSRUnit_StatuteMile","esriSRUnit_NauticalMile","esriSRUnit_USNauticalMile","Object","freeze","test","units","tolerance","densificationStep","fromJSON","geodesicBuffer","parse"],"sourceRoot":""}